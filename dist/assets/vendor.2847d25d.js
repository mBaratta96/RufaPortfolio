var mn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cf(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),e}var ve={exports:{}},je={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var C_=Object.getOwnPropertySymbols,dI=Object.prototype.hasOwnProperty,fI=Object.prototype.propertyIsEnumerable;function hI(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function pI(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(s){n[s]=s}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var gS=pI()?Object.assign:function(t,e){for(var i,r=hI(t),n,s=1;s<arguments.length;s++){i=Object(arguments[s]);for(var a in i)dI.call(i,a)&&(r[a]=i[a]);if(C_){n=C_(i);for(var o=0;o<n.length;o++)fI.call(i,n[o])&&(r[n[o]]=i[n[o]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv=gS,no=60103,yS=60106;je.Fragment=60107;je.StrictMode=60108;je.Profiler=60114;var _S=60109,bS=60110,TS=60112;je.Suspense=60113;var xS=60115,SS=60116;if(typeof Symbol=="function"&&Symbol.for){var on=Symbol.for;no=on("react.element"),yS=on("react.portal"),je.Fragment=on("react.fragment"),je.StrictMode=on("react.strict_mode"),je.Profiler=on("react.profiler"),_S=on("react.provider"),bS=on("react.context"),TS=on("react.forward_ref"),je.Suspense=on("react.suspense"),xS=on("react.memo"),SS=on("react.lazy")}var k_=typeof Symbol=="function"&&Symbol.iterator;function mI(t){return t===null||typeof t!="object"?null:(t=k_&&t[k_]||t["@@iterator"],typeof t=="function"?t:null)}function Tu(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ES={};function ro(t,e,i){this.props=t,this.context=e,this.refs=ES,this.updater=i||wS}ro.prototype.isReactComponent={};ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Tu(85));this.updater.enqueueSetState(this,t,e,"setState")};ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CS(){}CS.prototype=ro.prototype;function Kv(t,e,i){this.props=t,this.context=e,this.refs=ES,this.updater=i||wS}var Qv=Kv.prototype=new CS;Qv.constructor=Kv;Xv(Qv,ro.prototype);Qv.isPureReactComponent=!0;var Yv={current:null},kS=Object.prototype.hasOwnProperty,PS={key:!0,ref:!0,__self:!0,__source:!0};function OS(t,e,i){var r,n={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)kS.call(e,r)&&!PS.hasOwnProperty(r)&&(n[r]=e[r]);var o=arguments.length-2;if(o===1)n.children=i;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];n.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)n[r]===void 0&&(n[r]=o[r]);return{$$typeof:no,type:t,key:s,ref:a,props:n,_owner:Yv.current}}function vI(t,e){return{$$typeof:no,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jv(t){return typeof t=="object"&&t!==null&&t.$$typeof===no}function gI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var P_=/\/+/g;function jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gI(""+t.key):e.toString(36)}function qc(t,e,i,r,n){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case no:case yS:a=!0}}if(a)return a=t,n=n(a),t=r===""?"."+jh(a,0):r,Array.isArray(n)?(i="",t!=null&&(i=t.replace(P_,"$&/")+"/"),qc(n,e,i,"",function(u){return u})):n!=null&&(Jv(n)&&(n=vI(n,i+(!n.key||a&&a.key===n.key?"":(""+n.key).replace(P_,"$&/")+"/")+t)),e.push(n)),1;if(a=0,r=r===""?".":r+":",Array.isArray(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+jh(s,o);a+=qc(s,e,i,l,n)}else if(l=mI(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+jh(s,o++),a+=qc(s,e,i,l,n);else if(s==="object")throw e=""+t,Error(Tu(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return a}function mc(t,e,i){if(t==null)return t;var r=[],n=0;return qc(t,r,"","",function(s){return e.call(i,s,n++)}),r}function yI(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(i){t._status===0&&(i=i.default,t._status=1,t._result=i)},function(i){t._status===0&&(t._status=2,t._result=i)})}if(t._status===1)return t._result;throw t._result}var AS={current:null};function hr(){var t=AS.current;if(t===null)throw Error(Tu(321));return t}var _I={ReactCurrentDispatcher:AS,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Yv,IsSomeRendererActing:{current:!1},assign:Xv};je.Children={map:mc,forEach:function(t,e,i){mc(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return mc(t,function(){e++}),e},toArray:function(t){return mc(t,function(e){return e})||[]},only:function(t){if(!Jv(t))throw Error(Tu(143));return t}};je.Component=ro;je.PureComponent=Kv;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_I;je.cloneElement=function(t,e,i){if(t==null)throw Error(Tu(267,t));var r=Xv({},t.props),n=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Yv.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)kS.call(e,l)&&!PS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=i;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:no,type:t.type,key:n,ref:s,props:r,_owner:a}};je.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:bS,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:_S,_context:t},t.Consumer=t};je.createElement=OS;je.createFactory=function(t){var e=OS.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:TS,render:t}};je.isValidElement=Jv;je.lazy=function(t){return{$$typeof:SS,_payload:{_status:-1,_result:t},_init:yI}};je.memo=function(t,e){return{$$typeof:xS,type:t,compare:e===void 0?null:e}};je.useCallback=function(t,e){return hr().useCallback(t,e)};je.useContext=function(t,e){return hr().useContext(t,e)};je.useDebugValue=function(){};je.useEffect=function(t,e){return hr().useEffect(t,e)};je.useImperativeHandle=function(t,e,i){return hr().useImperativeHandle(t,e,i)};je.useLayoutEffect=function(t,e){return hr().useLayoutEffect(t,e)};je.useMemo=function(t,e){return hr().useMemo(t,e)};je.useReducer=function(t,e,i){return hr().useReducer(t,e,i)};je.useRef=function(t){return hr().useRef(t)};je.useState=function(t){return hr().useState(t)};je.version="17.0.2";ve.exports=je;var Ts=ve.exports,Zv={exports:{}},rn={},IS={exports:{}},DS={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,i,r,n;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,u=null,c=function(){if(l!==null)try{var J=t.unstable_now();l(!0,J),l=null}catch($){throw setTimeout(c,0),$}};e=function(J){l!==null?setTimeout(e,0,J):(l=J,setTimeout(c,0))},i=function(J,$){u=setTimeout(J,$)},r=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},n=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if(typeof console<"u"){var p=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof p!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,b=null,y=-1,T=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},n=function(){},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<J?Math.floor(1e3/J):5};var O=new MessageChannel,P=O.port2;O.port1.onmessage=function(){if(b!==null){var J=t.unstable_now();w=J+T;try{b(!0,J)?P.postMessage(null):(g=!1,b=null)}catch($){throw P.postMessage(null),$}}else g=!1},e=function(J){b=J,g||(g=!0,P.postMessage(null))},i=function(J,$){y=d(function(){J(t.unstable_now())},$)},r=function(){f(y),y=-1}}function F(J,$){var de=J.length;J.push($);e:for(;;){var X=de-1>>>1,W=J[X];if(W!==void 0&&0<E(W,$))J[X]=$,J[de]=W,de=X;else break e}}function L(J){return J=J[0],J===void 0?null:J}function R(J){var $=J[0];if($!==void 0){var de=J.pop();if(de!==$){J[0]=de;e:for(var X=0,W=J.length;X<W;){var ae=2*(X+1)-1,fe=J[ae],le=ae+1,re=J[le];if(fe!==void 0&&0>E(fe,de))re!==void 0&&0>E(re,fe)?(J[X]=re,J[le]=de,X=le):(J[X]=fe,J[ae]=de,X=ae);else if(re!==void 0&&0>E(re,de))J[X]=re,J[le]=de,X=le;else break e}}return $}return null}function E(J,$){var de=J.sortIndex-$.sortIndex;return de!==0?de:J.id-$.id}var k=[],A=[],U=1,z=null,H=3,G=!1,Q=!1,ee=!1;function q(J){for(var $=L(A);$!==null;){if($.callback===null)R(A);else if($.startTime<=J)R(A),$.sortIndex=$.expirationTime,F(k,$);else break;$=L(A)}}function Y(J){if(ee=!1,q(J),!Q)if(L(k)!==null)Q=!0,e(te);else{var $=L(A);$!==null&&i(Y,$.startTime-J)}}function te(J,$){Q=!1,ee&&(ee=!1,r()),G=!0;var de=H;try{for(q($),z=L(k);z!==null&&(!(z.expirationTime>$)||J&&!t.unstable_shouldYield());){var X=z.callback;if(typeof X=="function"){z.callback=null,H=z.priorityLevel;var W=X(z.expirationTime<=$);$=t.unstable_now(),typeof W=="function"?z.callback=W:z===L(k)&&R(k),q($)}else R(k);z=L(k)}if(z!==null)var ae=!0;else{var fe=L(A);fe!==null&&i(Y,fe.startTime-$),ae=!1}return ae}finally{z=null,H=de,G=!1}}var pe=n;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){Q||G||(Q=!0,e(te))},t.unstable_getCurrentPriorityLevel=function(){return H},t.unstable_getFirstCallbackNode=function(){return L(k)},t.unstable_next=function(J){switch(H){case 1:case 2:case 3:var $=3;break;default:$=H}var de=H;H=$;try{return J()}finally{H=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=pe,t.unstable_runWithPriority=function(J,$){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var de=H;H=J;try{return $()}finally{H=de}},t.unstable_scheduleCallback=function(J,$,de){var X=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?X+de:X):de=X,J){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=de+W,J={id:U++,callback:$,priorityLevel:J,startTime:de,expirationTime:W,sortIndex:-1},de>X?(J.sortIndex=de,F(A,J),L(k)===null&&J===L(A)&&(ee?r():ee=!0,i(Y,de-X))):(J.sortIndex=W,F(k,J),Q||G||(Q=!0,e(te))),J},t.unstable_wrapCallback=function(J){var $=H;return function(){var de=H;H=$;try{return J.apply(this,arguments)}finally{H=de}}}})(DS);IS.exports=DS;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=ve.exports,nt=gS,Et=IS.exports;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!kf)throw Error(oe(227));var MS=new Set,jl={};function Ns(t,e){Na(t,e),Na(t+"Capture",e)}function Na(t,e){for(jl[t]=e,t=0;t<e.length;t++)MS.add(e[t])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O_=Object.prototype.hasOwnProperty,A_={},I_={};function TI(t){return O_.call(I_,t)?!0:O_.call(A_,t)?!1:bI.test(t)?I_[t]=!0:(A_[t]=!0,!1)}function xI(t,e,i,r){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SI(t,e,i,r){if(e===null||typeof e>"u"||xI(t,e,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hi(t,e,i,r,n,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new hi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new hi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new hi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new hi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new hi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new hi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new hi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new hi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new hi(t,5,!1,t.toLowerCase(),null,!1,!1)});var eg=/[\-:]([a-z])/g;function tg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eg,tg);Ft[e]=new hi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eg,tg);Ft[e]=new hi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eg,tg);Ft[e]=new hi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new hi(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new hi(t,1,!1,t.toLowerCase(),null,!0,!0)});function ig(t,e,i,r){var n=Ft.hasOwnProperty(e)?Ft[e]:null,s=n!==null?n.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(SI(e,i,n,r)&&(i=null),r||n===null?TI(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):n.mustUseProperty?t[n.propertyName]=i===null?n.type===3?!1:"":i:(e=n.attributeName,r=n.attributeNamespace,i===null?t.removeAttribute(e):(n=n.type,i=n===3||n===4&&i===!0?"":""+i,r?t.setAttributeNS(r,e,i):t.setAttribute(e,i))))}var Us=kf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,il=60103,ps=60106,Tr=60107,ng=60108,_l=60114,rg=60109,sg=60110,Pf=60112,bl=60113,bd=60120,Of=60115,ag=60116,og=60121,lg=60128,LS=60129,ug=60130,nm=60131;if(typeof Symbol=="function"&&Symbol.for){var xt=Symbol.for;il=xt("react.element"),ps=xt("react.portal"),Tr=xt("react.fragment"),ng=xt("react.strict_mode"),_l=xt("react.profiler"),rg=xt("react.provider"),sg=xt("react.context"),Pf=xt("react.forward_ref"),bl=xt("react.suspense"),bd=xt("react.suspense_list"),Of=xt("react.memo"),ag=xt("react.lazy"),og=xt("react.block"),xt("react.scope"),lg=xt("react.opaque.id"),LS=xt("react.debug_trace_mode"),ug=xt("react.offscreen"),nm=xt("react.legacy_hidden")}var D_=typeof Symbol=="function"&&Symbol.iterator;function Io(t){return t===null||typeof t!="object"?null:(t=D_&&t[D_]||t["@@iterator"],typeof t=="function"?t:null)}var Vh;function nl(t){if(Vh===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Vh=e&&e[1]||""}return`
`+Vh+t}var Hh=!1;function vc(t,e){if(!t||Hh)return"";Hh=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var n=l.stack.split(`
`),s=r.stack.split(`
`),a=n.length-1,o=s.length-1;1<=a&&0<=o&&n[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(n[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||n[a]!==s[o])return`
`+n[a].replace(" at new "," at ");while(1<=a&&0<=o);break}}}finally{Hh=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?nl(t):""}function wI(t){switch(t.tag){case 5:return nl(t.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return t=vc(t.type,!1),t;case 11:return t=vc(t.type.render,!1),t;case 22:return t=vc(t.type._render,!1),t;case 1:return t=vc(t.type,!0),t;default:return""}}function Ta(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tr:return"Fragment";case ps:return"Portal";case _l:return"Profiler";case ng:return"StrictMode";case bl:return"Suspense";case bd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sg:return(t.displayName||"Context")+".Consumer";case rg:return(t._context.displayName||"Context")+".Provider";case Pf:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Of:return Ta(t.type);case og:return Ta(t._render);case ag:e=t._payload,t=t._init;try{return Ta(t(e))}catch{}}return null}function zr(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function RS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EI(t){var e=RS(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var n=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gc(t){t._valueTracker||(t._valueTracker=EI(t))}function FS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=RS(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function Td(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rm(t,e){var i=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function M_(t,e){var i=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;i=zr(e.value!=null?e.value:i),t._wrapperState={initialChecked:r,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NS(t,e){e=e.checked,e!=null&&ig(t,"checked",e,!1)}function sm(t,e){NS(t,e);var i=zr(e.value),r=e.type;if(i!=null)r==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?am(t,e.type,i):e.hasOwnProperty("defaultValue")&&am(t,e.type,zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function L_(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function am(t,e,i){(e!=="number"||Td(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function CI(t){var e="";return kf.Children.forEach(t,function(i){i!=null&&(e+=i)}),e}function om(t,e){return t=nt({children:void 0},e),(e=CI(e.children))&&(t.children=e),t}function xa(t,e,i,r){if(t=t.options,e){e={};for(var n=0;n<i.length;n++)e["$"+i[n]]=!0;for(i=0;i<t.length;i++)n=e.hasOwnProperty("$"+t[i].value),t[i].selected!==n&&(t[i].selected=n),n&&r&&(t[i].defaultSelected=!0)}else{for(i=""+zr(i),e=null,n=0;n<t.length;n++){if(t[n].value===i){t[n].selected=!0,r&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function lm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function R_(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(oe(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(oe(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:zr(i)}}function US(t,e){var i=zr(e.value),r=zr(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),r!=null&&(t.defaultValue=""+r)}function F_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var um={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function BS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yc,zS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,r,n){MSApp.execUnsafeLocalFunction(function(){return t(e,i,r,n)})}:t}(function(t,e){if(t.namespaceURI!==um.svg||"innerHTML"in t)t.innerHTML=e;else{for(yc=yc||document.createElement("div"),yc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vl(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Tl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kI=["Webkit","ms","Moz","O"];Object.keys(Tl).forEach(function(t){kI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tl[e]=Tl[t]})});function jS(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Tl.hasOwnProperty(t)&&Tl[t]?(""+e).trim():e+"px"}function VS(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var r=i.indexOf("--")===0,n=jS(i,e[i],r);i==="float"&&(i="cssFloat"),r?t.setProperty(i,n):t[i]=n}}var PI=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dm(t,e){if(e){if(PI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function fm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function cg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hm=null,Sa=null,wa=null;function N_(t){if(t=Su(t)){if(typeof hm!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=Rf(e),hm(t.stateNode,t.type,e))}}function HS(t){Sa?wa?wa.push(t):wa=[t]:Sa=t}function WS(){if(Sa){var t=Sa,e=wa;if(wa=Sa=null,N_(t),e)for(t=0;t<e.length;t++)N_(e[t])}}function dg(t,e){return t(e)}function qS(t,e,i,r,n){return t(e,i,r,n)}function fg(){}var $S=dg,ms=!1,Wh=!1;function hg(){(Sa!==null||wa!==null)&&(fg(),WS())}function OI(t,e,i){if(Wh)return t(e,i);Wh=!0;try{return $S(t,e,i)}finally{Wh=!1,hg()}}function Hl(t,e){var i=t.stateNode;if(i===null)return null;var r=Rf(i);if(r===null)return null;i=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(oe(231,e,typeof i));return i}var pm=!1;if(ar)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){pm=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{pm=!1}function AI(t,e,i,r,n,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(c){this.onError(c)}}var xl=!1,xd=null,Sd=!1,mm=null,II={onError:function(t){xl=!0,xd=t}};function DI(t,e,i,r,n,s,a,o,l){xl=!1,xd=null,AI.apply(II,arguments)}function MI(t,e,i,r,n,s,a,o,l){if(DI.apply(this,arguments),xl){if(xl){var u=xd;xl=!1,xd=null}else throw Error(oe(198));Sd||(Sd=!0,mm=u)}}function Bs(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function GS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function U_(t){if(Bs(t)!==t)throw Error(oe(188))}function LI(t){var e=t.alternate;if(!e){if(e=Bs(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var i=t,r=e;;){var n=i.return;if(n===null)break;var s=n.alternate;if(s===null){if(r=n.return,r!==null){i=r;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===i)return U_(n),t;if(s===r)return U_(n),e;s=s.sibling}throw Error(oe(188))}if(i.return!==r.return)i=n,r=s;else{for(var a=!1,o=n.child;o;){if(o===i){a=!0,i=n,r=s;break}if(o===r){a=!0,r=n,i=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===i){a=!0,i=s,r=n;break}if(o===r){a=!0,r=s,i=n;break}o=o.sibling}if(!a)throw Error(oe(189))}}if(i.alternate!==r)throw Error(oe(190))}if(i.tag!==3)throw Error(oe(188));return i.stateNode.current===i?t:e}function XS(t){if(t=LI(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function B_(t,e){for(var i=t.alternate;e!==null;){if(e===t||e===i)return!0;e=e.return}return!1}var KS,pg,QS,YS,vm=!1,kn=[],Or=null,Ar=null,Ir=null,Wl=new Map,ql=new Map,Mo=[],z_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gm(t,e,i,r,n){return{blockedOn:t,domEventName:e,eventSystemFlags:i|16,nativeEvent:n,targetContainers:[r]}}function j_(t,e){switch(t){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Wl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(e.pointerId)}}function Lo(t,e,i,r,n,s){return t===null||t.nativeEvent!==s?(t=gm(e,i,r,n,s),e!==null&&(e=Su(e),e!==null&&pg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function RI(t,e,i,r,n){switch(e){case"focusin":return Or=Lo(Or,t,e,i,r,n),!0;case"dragenter":return Ar=Lo(Ar,t,e,i,r,n),!0;case"mouseover":return Ir=Lo(Ir,t,e,i,r,n),!0;case"pointerover":var s=n.pointerId;return Wl.set(s,Lo(Wl.get(s)||null,t,e,i,r,n)),!0;case"gotpointercapture":return s=n.pointerId,ql.set(s,Lo(ql.get(s)||null,t,e,i,r,n)),!0}return!1}function FI(t){var e=vs(t.target);if(e!==null){var i=Bs(e);if(i!==null){if(e=i.tag,e===13){if(e=GS(i),e!==null){t.blockedOn=e,YS(t.lanePriority,function(){Et.unstable_runWithPriority(t.priority,function(){QS(i)})});return}}else if(e===3&&i.stateNode.hydrate){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=yg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i!==null)return e=Su(i),e!==null&&pg(e),t.blockedOn=i,!1;e.shift()}return!0}function V_(t,e,i){$c(t)&&i.delete(e)}function NI(){for(vm=!1;0<kn.length;){var t=kn[0];if(t.blockedOn!==null){t=Su(t.blockedOn),t!==null&&KS(t);break}for(var e=t.targetContainers;0<e.length;){var i=yg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i!==null){t.blockedOn=i;break}e.shift()}t.blockedOn===null&&kn.shift()}Or!==null&&$c(Or)&&(Or=null),Ar!==null&&$c(Ar)&&(Ar=null),Ir!==null&&$c(Ir)&&(Ir=null),Wl.forEach(V_),ql.forEach(V_)}function Ro(t,e){t.blockedOn===e&&(t.blockedOn=null,vm||(vm=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,NI)))}function JS(t){function e(n){return Ro(n,t)}if(0<kn.length){Ro(kn[0],t);for(var i=1;i<kn.length;i++){var r=kn[i];r.blockedOn===t&&(r.blockedOn=null)}}for(Or!==null&&Ro(Or,t),Ar!==null&&Ro(Ar,t),Ir!==null&&Ro(Ir,t),Wl.forEach(e),ql.forEach(e),i=0;i<Mo.length;i++)r=Mo[i],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mo.length&&(i=Mo[0],i.blockedOn===null);)FI(i),i.blockedOn===null&&Mo.shift()}function _c(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var ca={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionend:_c("Transition","TransitionEnd")},qh={},ZS={};ar&&(ZS=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Af(t){if(qh[t])return qh[t];if(!ca[t])return t;var e=ca[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in ZS)return qh[t]=e[i];return t}var ew=Af("animationend"),tw=Af("animationiteration"),iw=Af("animationstart"),nw=Af("transitionend"),rw=new Map,mg=new Map,UI=["abort","abort",ew,"animationEnd",tw,"animationIteration",iw,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",nw,"transitionEnd","waiting","waiting"];function vg(t,e){for(var i=0;i<t.length;i+=2){var r=t[i],n=t[i+1];n="on"+(n[0].toUpperCase()+n.slice(1)),mg.set(r,e),rw.set(r,n),Ns(n,[r])}}var BI=Et.unstable_now;BI();var Qe=8;function aa(t){if((1&t)!==0)return Qe=15,1;if((2&t)!==0)return Qe=14,2;if((4&t)!==0)return Qe=13,4;var e=24&t;return e!==0?(Qe=12,e):(t&32)!==0?(Qe=11,32):(e=192&t,e!==0?(Qe=10,e):(t&256)!==0?(Qe=9,256):(e=3584&t,e!==0?(Qe=8,e):(t&4096)!==0?(Qe=7,4096):(e=4186112&t,e!==0?(Qe=6,e):(e=62914560&t,e!==0?(Qe=5,e):t&67108864?(Qe=4,67108864):(t&134217728)!==0?(Qe=3,134217728):(e=805306368&t,e!==0?(Qe=2,e):(1073741824&t)!==0?(Qe=1,1073741824):(Qe=8,t))))))}function zI(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function jI(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(oe(358,t))}}function $l(t,e){var i=t.pendingLanes;if(i===0)return Qe=0;var r=0,n=0,s=t.expiredLanes,a=t.suspendedLanes,o=t.pingedLanes;if(s!==0)r=s,n=Qe=15;else if(s=i&134217727,s!==0){var l=s&~a;l!==0?(r=aa(l),n=Qe):(o&=s,o!==0&&(r=aa(o),n=Qe))}else s=i&~a,s!==0?(r=aa(s),n=Qe):o!==0&&(r=aa(o),n=Qe);if(r===0)return 0;if(r=31-jr(r),r=i&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&a)===0){if(aa(e),n<=Qe)return e;Qe=n}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)i=31-jr(e),n=1<<i,r|=t[i],e&=~n;return r}function sw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wd(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=oa(24&~e),t===0?wd(10,e):t;case 10:return t=oa(192&~e),t===0?wd(8,e):t;case 8:return t=oa(3584&~e),t===0&&(t=oa(4186112&~e),t===0&&(t=512)),t;case 2:return e=oa(805306368&~e),e===0&&(e=268435456),e}throw Error(oe(358,t))}function oa(t){return t&-t}function $h(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function If(t,e,i){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-jr(e),t[e]=i}var jr=Math.clz32?Math.clz32:WI,VI=Math.log,HI=Math.LN2;function WI(t){return t===0?32:31-(VI(t)/HI|0)|0}var qI=Et.unstable_UserBlockingPriority,$I=Et.unstable_runWithPriority,Gc=!0;function GI(t,e,i,r){ms||fg();var n=gg,s=ms;ms=!0;try{qS(n,t,e,i,r)}finally{(ms=s)||hg()}}function XI(t,e,i,r){$I(qI,gg.bind(null,t,e,i,r))}function gg(t,e,i,r){if(Gc){var n;if((n=(e&4)===0)&&0<kn.length&&-1<z_.indexOf(t))t=gm(null,t,e,i,r),kn.push(t);else{var s=yg(t,e,i,r);if(s===null)n&&j_(t,r);else{if(n){if(-1<z_.indexOf(t)){t=gm(s,t,e,i,r),kn.push(t);return}if(RI(s,t,e,i,r))return;j_(t,r)}yw(t,e,r,null,i)}}}}function yg(t,e,i,r){var n=cg(r);if(n=vs(n),n!==null){var s=Bs(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=GS(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return yw(t,e,r,n,i),null}var xr=null,_g=null,Xc=null;function aw(){if(Xc)return Xc;var t,e=_g,i=e.length,r,n="value"in xr?xr.value:xr.textContent,s=n.length;for(t=0;t<i&&e[t]===n[t];t++);var a=i-t;for(r=1;r<=a&&e[i-r]===n[s-r];r++);return Xc=n.slice(t,1<r?1-r:void 0)}function Kc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bc(){return!0}function H_(){return!1}function ji(t){function e(i,r,n,s,a){this._reactName=i,this._targetInst=n,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(i=t[o],this[o]=i?i(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bc:H_,this.isPropagationStopped=H_,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=bc)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=bc)},persist:function(){},isPersistent:bc}),e}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bg=ji(so),xu=nt({},so,{view:0,detail:0}),KI=ji(xu),Gh,Xh,Fo,Df=nt({},xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(Gh=t.screenX-Fo.screenX,Xh=t.screenY-Fo.screenY):Xh=Gh=0,Fo=t),Gh)},movementY:function(t){return"movementY"in t?t.movementY:Xh}}),W_=ji(Df),QI=nt({},Df,{dataTransfer:0}),YI=ji(QI),JI=nt({},xu,{relatedTarget:0}),Kh=ji(JI),ZI=nt({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),eD=ji(ZI),tD=nt({},so,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iD=ji(tD),nD=nt({},so,{data:0}),q_=ji(nD),rD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aD[t])?!!e[t]:!1}function Tg(){return oD}var lD=nt({},xu,{key:function(t){if(t.key){var e=rD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tg,charCode:function(t){return t.type==="keypress"?Kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uD=ji(lD),cD=nt({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$_=ji(cD),dD=nt({},xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tg}),fD=ji(dD),hD=nt({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),pD=ji(hD),mD=nt({},Df,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vD=ji(mD),gD=[9,13,27,32],xg=ar&&"CompositionEvent"in window,Sl=null;ar&&"documentMode"in document&&(Sl=document.documentMode);var yD=ar&&"TextEvent"in window&&!Sl,ow=ar&&(!xg||Sl&&8<Sl&&11>=Sl),G_=String.fromCharCode(32),X_=!1;function lw(t,e){switch(t){case"keyup":return gD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var da=!1;function _D(t,e){switch(t){case"compositionend":return uw(e);case"keypress":return e.which!==32?null:(X_=!0,G_);case"textInput":return t=e.data,t===G_&&X_?null:t;default:return null}}function bD(t,e){if(da)return t==="compositionend"||!xg&&lw(t,e)?(t=aw(),Xc=_g=xr=null,da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ow&&e.locale!=="ko"?null:e.data;default:return null}}var TD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TD[t.type]:e==="textarea"}function cw(t,e,i,r){HS(r),e=Ed(e,"onChange"),0<e.length&&(i=new bg("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var wl=null,Gl=null;function xD(t){mw(t,0)}function Mf(t){var e=ha(t);if(FS(e))return t}function SD(t,e){if(t==="change")return e}var dw=!1;if(ar){var Qh;if(ar){var Yh="oninput"in document;if(!Yh){var Q_=document.createElement("div");Q_.setAttribute("oninput","return;"),Yh=typeof Q_.oninput=="function"}Qh=Yh}else Qh=!1;dw=Qh&&(!document.documentMode||9<document.documentMode)}function Y_(){wl&&(wl.detachEvent("onpropertychange",fw),Gl=wl=null)}function fw(t){if(t.propertyName==="value"&&Mf(Gl)){var e=[];if(cw(e,Gl,t,cg(t)),t=xD,ms)t(e);else{ms=!0;try{dg(t,e)}finally{ms=!1,hg()}}}}function wD(t,e,i){t==="focusin"?(Y_(),wl=e,Gl=i,wl.attachEvent("onpropertychange",fw)):t==="focusout"&&Y_()}function ED(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mf(Gl)}function CD(t,e){if(t==="click")return Mf(e)}function kD(t,e){if(t==="input"||t==="change")return Mf(e)}function PD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gi=typeof Object.is=="function"?Object.is:PD,OD=Object.prototype.hasOwnProperty;function Xl(t,e){if(Gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++)if(!OD.call(e,i[r])||!Gi(t[i[r]],e[i[r]]))return!1;return!0}function J_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z_(t,e){var i=J_(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=J_(i)}}function hw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eb(){for(var t=window,e=Td();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Td(t.document)}return e}function ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var AD=ar&&"documentMode"in document&&11>=document.documentMode,fa=null,_m=null,El=null,bm=!1;function tb(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;bm||fa==null||fa!==Td(r)||(r=fa,"selectionStart"in r&&ym(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),El&&Xl(El,r)||(El=r,r=Ed(_m,"onSelect"),0<r.length&&(e=new bg("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=fa)))}vg("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);vg("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);vg(UI,2);for(var ib="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Jh=0;Jh<ib.length;Jh++)mg.set(ib[Jh],0);Na("onMouseEnter",["mouseout","mouseover"]);Na("onMouseLeave",["mouseout","mouseover"]);Na("onPointerEnter",["pointerout","pointerover"]);Na("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pw=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function nb(t,e,i){var r=t.type||"unknown-event";t.currentTarget=i,MI(r,e,void 0,t),t.currentTarget=null}function mw(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],n=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&n.isPropagationStopped())break e;nb(n,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&n.isPropagationStopped())break e;nb(n,o,u),s=l}}}if(Sd)throw t=mm,Sd=!1,mm=null,t}function Je(t,e){var i=bw(e),r=t+"__bubble";i.has(r)||(gw(e,t,2,!1),i.add(r))}var rb="_reactListening"+Math.random().toString(36).slice(2);function vw(t){t[rb]||(t[rb]=!0,MS.forEach(function(e){pw.has(e)||sb(e,!1,t,null),sb(e,!0,t,null)}))}function sb(t,e,i,r){var n=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=i;if(t==="selectionchange"&&i.nodeType!==9&&(s=i.ownerDocument),r!==null&&!e&&pw.has(t)){if(t!=="scroll")return;n|=2,s=r}var a=bw(s),o=t+"__"+(e?"capture":"bubble");a.has(o)||(e&&(n|=4),gw(s,t,n,e),a.add(o))}function gw(t,e,i,r){var n=mg.get(e);switch(n===void 0?2:n){case 0:n=GI;break;case 1:n=XI;break;default:n=gg}i=n.bind(null,e,i,t),n=void 0,!pm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),r?n!==void 0?t.addEventListener(e,i,{capture:!0,passive:n}):t.addEventListener(e,i,!0):n!==void 0?t.addEventListener(e,i,{passive:n}):t.addEventListener(e,i,!1)}function yw(t,e,i,r,n){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;a=a.return}for(;o!==null;){if(a=vs(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}OI(function(){var u=s,c=cg(i),d=[];e:{var f=rw.get(t);if(f!==void 0){var p=bg,g=t;switch(t){case"keypress":if(Kc(i)===0)break e;case"keydown":case"keyup":p=uD;break;case"focusin":g="focus",p=Kh;break;case"focusout":g="blur",p=Kh;break;case"beforeblur":case"afterblur":p=Kh;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=W_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=fD;break;case ew:case tw:case iw:p=eD;break;case nw:p=pD;break;case"scroll":p=KI;break;case"wheel":p=vD;break;case"copy":case"cut":case"paste":p=iD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$_}var b=(e&4)!==0,y=!b&&t==="scroll",T=b?f!==null?f+"Capture":null:f;b=[];for(var w=u,O;w!==null;){O=w;var P=O.stateNode;if(O.tag===5&&P!==null&&(O=P,T!==null&&(P=Hl(w,T),P!=null&&b.push(Kl(w,P,O)))),y)break;w=w.return}0<b.length&&(f=new p(f,g,null,i,c),d.push({event:f,listeners:b}))}}if((e&7)===0){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&(e&16)===0&&(g=i.relatedTarget||i.fromElement)&&(vs(g)||g[ao]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=i.relatedTarget||i.toElement,p=u,g=g?vs(g):null,g!==null&&(y=Bs(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(b=W_,P="onMouseLeave",T="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=$_,P="onPointerLeave",T="onPointerEnter",w="pointer"),y=p==null?f:ha(p),O=g==null?f:ha(g),f=new b(P,w+"leave",p,i,c),f.target=y,f.relatedTarget=O,P=null,vs(c)===u&&(b=new b(T,w+"enter",g,i,c),b.target=O,b.relatedTarget=y,P=b),y=P,p&&g)t:{for(b=p,T=g,w=0,O=b;O;O=Qs(O))w++;for(O=0,P=T;P;P=Qs(P))O++;for(;0<w-O;)b=Qs(b),w--;for(;0<O-w;)T=Qs(T),O--;for(;w--;){if(b===T||T!==null&&b===T.alternate)break t;b=Qs(b),T=Qs(T)}b=null}else b=null;p!==null&&ab(d,f,p,b,!1),g!==null&&y!==null&&ab(d,y,g,b,!0)}}e:{if(f=u?ha(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var F=SD;else if(K_(f))if(dw)F=kD;else{F=ED;var L=wD}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(F=CD);if(F&&(F=F(t,u))){cw(d,F,i,c);break e}L&&L(t,f,u),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&am(f,"number",f.value)}switch(L=u?ha(u):window,t){case"focusin":(K_(L)||L.contentEditable==="true")&&(fa=L,_m=u,El=null);break;case"focusout":El=_m=fa=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,tb(d,i,c);break;case"selectionchange":if(AD)break;case"keydown":case"keyup":tb(d,i,c)}var R;if(xg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else da?lw(t,i)&&(E="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(E="onCompositionStart");E&&(ow&&i.locale!=="ko"&&(da||E!=="onCompositionStart"?E==="onCompositionEnd"&&da&&(R=aw()):(xr=c,_g="value"in xr?xr.value:xr.textContent,da=!0)),L=Ed(u,E),0<L.length&&(E=new q_(E,t,null,i,c),d.push({event:E,listeners:L}),R?E.data=R:(R=uw(i),R!==null&&(E.data=R)))),(R=yD?_D(t,i):bD(t,i))&&(u=Ed(u,"onBeforeInput"),0<u.length&&(c=new q_("onBeforeInput","beforeinput",null,i,c),d.push({event:c,listeners:u}),c.data=R))}mw(d,e)})}function Kl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Ed(t,e){for(var i=e+"Capture",r=[];t!==null;){var n=t,s=n.stateNode;n.tag===5&&s!==null&&(n=s,s=Hl(t,i),s!=null&&r.unshift(Kl(t,s,n)),s=Hl(t,e),s!=null&&r.push(Kl(t,s,n))),t=t.return}return r}function Qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ab(t,e,i,r,n){for(var s=e._reactName,a=[];i!==null&&i!==r;){var o=i,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,n?(l=Hl(i,s),l!=null&&a.unshift(Kl(i,l,o))):n||(l=Hl(i,s),l!=null&&a.push(Kl(i,l,o)))),i=i.return}a.length!==0&&t.push({event:e,listeners:a})}function Cd(){}var Zh=null,ep=null;function _w(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Tm(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ob=typeof setTimeout=="function"?setTimeout:void 0,ID=typeof clearTimeout=="function"?clearTimeout:void 0;function Sg(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Ea(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function lb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}var tp=0;function DD(t){return{$$typeof:lg,toString:t,valueOf:t}}var Lf=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Lf,kd="__reactProps$"+Lf,ao="__reactContainer$"+Lf,ub="__reactEvents$"+Lf;function vs(t){var e=t[Sr];if(e)return e;for(var i=t.parentNode;i;){if(e=i[ao]||i[Sr]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=lb(t);t!==null;){if(i=t[Sr])return i;t=lb(t)}return e}t=i,i=t.parentNode}return null}function Su(t){return t=t[Sr]||t[ao],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ha(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function Rf(t){return t[kd]||null}function bw(t){var e=t[ub];return e===void 0&&(e=t[ub]=new Set),e}var xm=[],pa=-1;function Yr(t){return{current:t}}function tt(t){0>pa||(t.current=xm[pa],xm[pa]=null,pa--)}function lt(t,e){pa++,xm[pa]=t.current,t.current=e}var Vr={},Kt=Yr(Vr),Si=Yr(!1),ks=Vr;function Ua(t,e){var i=t.type.contextTypes;if(!i)return Vr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var n={},s;for(s in i)n[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function wi(t){return t=t.childContextTypes,t!=null}function Pd(){tt(Si),tt(Kt)}function cb(t,e,i){if(Kt.current!==Vr)throw Error(oe(168));lt(Kt,e),lt(Si,i)}function Tw(t,e,i){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var n in r)if(!(n in t))throw Error(oe(108,Ta(e)||"Unknown",n));return nt({},i,r)}function Qc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vr,ks=Kt.current,lt(Kt,t),lt(Si,Si.current),!0}function db(t,e,i){var r=t.stateNode;if(!r)throw Error(oe(169));i?(t=Tw(t,e,ks),r.__reactInternalMemoizedMergedChildContext=t,tt(Si),tt(Kt),lt(Kt,t)):tt(Si),lt(Si,i)}var wg=null,xs=null,MD=Et.unstable_runWithPriority,Eg=Et.unstable_scheduleCallback,Sm=Et.unstable_cancelCallback,LD=Et.unstable_shouldYield,fb=Et.unstable_requestPaint,wm=Et.unstable_now,RD=Et.unstable_getCurrentPriorityLevel,Ff=Et.unstable_ImmediatePriority,xw=Et.unstable_UserBlockingPriority,Sw=Et.unstable_NormalPriority,ww=Et.unstable_LowPriority,Ew=Et.unstable_IdlePriority,ip={},FD=fb!==void 0?fb:function(){},Xn=null,Yc=null,np=!1,hb=wm(),Wt=1e4>hb?wm:function(){return wm()-hb};function Ba(){switch(RD()){case Ff:return 99;case xw:return 98;case Sw:return 97;case ww:return 96;case Ew:return 95;default:throw Error(oe(332))}}function Cw(t){switch(t){case 99:return Ff;case 98:return xw;case 97:return Sw;case 96:return ww;case 95:return Ew;default:throw Error(oe(332))}}function Ps(t,e){return t=Cw(t),MD(t,e)}function Ql(t,e,i){return t=Cw(t),Eg(t,e,i)}function jn(){if(Yc!==null){var t=Yc;Yc=null,Sm(t)}kw()}function kw(){if(!np&&Xn!==null){np=!0;var t=0;try{var e=Xn;Ps(99,function(){for(;t<e.length;t++){var i=e[t];do i=i(!0);while(i!==null)}}),Xn=null}catch(i){throw Xn!==null&&(Xn=Xn.slice(t+1)),Eg(Ff,jn),i}finally{np=!1}}}var ND=Us.ReactCurrentBatchConfig;function dn(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}var Od=Yr(null),Ad=null,ma=null,Id=null;function Cg(){Id=ma=Ad=null}function kg(t){var e=Od.current;tt(Od),t.type._context._currentValue=e}function Pw(t,e){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)===e){if(i===null||(i.childLanes&e)===e)break;i.childLanes|=e}else t.childLanes|=e,i!==null&&(i.childLanes|=e);t=t.return}}function Ca(t,e){Ad=t,Id=ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(vn=!0),t.firstContext=null)}function Zi(t,e){if(Id!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Id=t,e=1073741823),e={context:t,observedBits:e,next:null},ma===null){if(Ad===null)throw Error(oe(308));ma=e,Ad.dependencies={lanes:0,firstContext:e,responders:null}}else ma=ma.next=e;return t._currentValue}var br=!1;function Pg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Ow(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mr(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function pb(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var n=null,s=null;if(i=i.firstBaseUpdate,i!==null){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};s===null?n=s=a:s=s.next=a,i=i.next}while(i!==null);s===null?n=s=e:s=s.next=e}else n=s=e;i={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function Yl(t,e,i,r){var n=t.updateQueue;br=!1;var s=n.firstBaseUpdate,a=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;if(c!==null){c=c.updateQueue;var d=c.lastBaseUpdate;d!==a&&(d===null?c.firstBaseUpdate=u:d.next=u,c.lastBaseUpdate=l)}}if(s!==null){d=n.baseState,a=0,c=u=l=null;do{o=s.lane;var f=s.eventTime;if((r&o)===o){c!==null&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=t,g=s;switch(o=e,f=i,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,o);break e}d=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=g.payload,o=typeof p=="function"?p.call(f,d,o):p,o==null)break e;d=nt({},d,o);break e;case 2:br=!0}}s.callback!==null&&(t.flags|=32,o=n.effects,o===null?n.effects=[s]:o.push(s))}else f={eventTime:f,lane:o,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,a|=o;if(s=s.next,s===null){if(o=n.shared.pending,o===null)break;s=o.next,o.next=null,n.lastBaseUpdate=o,n.shared.pending=null}}while(1);c===null&&(l=d),n.baseState=l,n.firstBaseUpdate=u,n.lastBaseUpdate=c,Eu|=a,t.lanes=a,t.memoizedState=d}}function mb(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],n=r.callback;if(n!==null){if(r.callback=null,r=i,typeof n!="function")throw Error(oe(191,n));n.call(r)}}}var Aw=new kf.Component().refs;function Dd(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:nt({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Nf={isMounted:function(t){return(t=t._reactInternals)?Bs(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var r=Ui(),n=Lr(t),s=Dr(r,n);s.payload=e,i!=null&&(s.callback=i),Mr(t,s),Rr(t,n,r)},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=Ui(),n=Lr(t),s=Dr(r,n);s.tag=1,s.payload=e,i!=null&&(s.callback=i),Mr(t,s),Rr(t,n,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Ui(),r=Lr(t),n=Dr(i,r);n.tag=2,e!=null&&(n.callback=e),Mr(t,n),Rr(t,r,i)}};function vb(t,e,i,r,n,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Xl(i,r)||!Xl(n,s):!0}function Iw(t,e,i){var r=!1,n=Vr,s=e.contextType;return typeof s=="object"&&s!==null?s=Zi(s):(n=wi(e)?ks:Kt.current,r=e.contextTypes,s=(r=r!=null)?Ua(t,n):Vr),e=new e(i,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=s),e}function gb(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&Nf.enqueueReplaceState(e,e.state,null)}function Em(t,e,i,r){var n=t.stateNode;n.props=i,n.state=t.memoizedState,n.refs=Aw,Pg(t);var s=e.contextType;typeof s=="object"&&s!==null?n.context=Zi(s):(s=wi(e)?ks:Kt.current,n.context=Ua(t,s)),Yl(t,i,n,r),n.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Dd(t,e,s,i),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&Nf.enqueueReplaceState(n,n.state,null),Yl(t,i,n,r),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4)}var Tc=Array.isArray;function No(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(oe(309));var r=i.stateNode}if(!r)throw Error(oe(147,t));var n=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===n?e.ref:(e=function(s){var a=r.refs;a===Aw&&(a=r.refs={}),s===null?delete a[n]:a[n]=s},e._stringRef=n,e)}if(typeof t!="string")throw Error(oe(284));if(!i._owner)throw Error(oe(290,t))}return t}function xc(t,e){if(t.type!=="textarea")throw Error(oe(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Dw(t){function e(y,T){if(t){var w=y.lastEffect;w!==null?(w.nextEffect=T,y.lastEffect=T):y.firstEffect=y.lastEffect=T,T.nextEffect=null,T.flags=8}}function i(y,T){if(!t)return null;for(;T!==null;)e(y,T),T=T.sibling;return null}function r(y,T){for(y=new Map;T!==null;)T.key!==null?y.set(T.key,T):y.set(T.index,T),T=T.sibling;return y}function n(y,T){return y=Wr(y,T),y.index=0,y.sibling=null,y}function s(y,T,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<T?(y.flags=2,T):w):(y.flags=2,T)):T}function a(y){return t&&y.alternate===null&&(y.flags=2),y}function o(y,T,w,O){return T===null||T.tag!==6?(T=lp(w,y.mode,O),T.return=y,T):(T=n(T,w),T.return=y,T)}function l(y,T,w,O){return T!==null&&T.elementType===w.type?(O=n(T,w.props),O.ref=No(y,T,w),O.return=y,O):(O=td(w.type,w.key,w.props,null,y.mode,O),O.ref=No(y,T,w),O.return=y,O)}function u(y,T,w,O){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=up(w,y.mode,O),T.return=y,T):(T=n(T,w.children||[]),T.return=y,T)}function c(y,T,w,O,P){return T===null||T.tag!==7?(T=Aa(w,y.mode,O,P),T.return=y,T):(T=n(T,w),T.return=y,T)}function d(y,T,w){if(typeof T=="string"||typeof T=="number")return T=lp(""+T,y.mode,w),T.return=y,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case il:return w=td(T.type,T.key,T.props,null,y.mode,w),w.ref=No(y,null,T),w.return=y,w;case ps:return T=up(T,y.mode,w),T.return=y,T}if(Tc(T)||Io(T))return T=Aa(T,y.mode,w,null),T.return=y,T;xc(y,T)}return null}function f(y,T,w,O){var P=T!==null?T.key:null;if(typeof w=="string"||typeof w=="number")return P!==null?null:o(y,T,""+w,O);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case il:return w.key===P?w.type===Tr?c(y,T,w.props.children,O,P):l(y,T,w,O):null;case ps:return w.key===P?u(y,T,w,O):null}if(Tc(w)||Io(w))return P!==null?null:c(y,T,w,O,null);xc(y,w)}return null}function p(y,T,w,O,P){if(typeof O=="string"||typeof O=="number")return y=y.get(w)||null,o(T,y,""+O,P);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case il:return y=y.get(O.key===null?w:O.key)||null,O.type===Tr?c(T,y,O.props.children,P,O.key):l(T,y,O,P);case ps:return y=y.get(O.key===null?w:O.key)||null,u(T,y,O,P)}if(Tc(O)||Io(O))return y=y.get(w)||null,c(T,y,O,P,null);xc(T,O)}return null}function g(y,T,w,O){for(var P=null,F=null,L=T,R=T=0,E=null;L!==null&&R<w.length;R++){L.index>R?(E=L,L=null):E=L.sibling;var k=f(y,L,w[R],O);if(k===null){L===null&&(L=E);break}t&&L&&k.alternate===null&&e(y,L),T=s(k,T,R),F===null?P=k:F.sibling=k,F=k,L=E}if(R===w.length)return i(y,L),P;if(L===null){for(;R<w.length;R++)L=d(y,w[R],O),L!==null&&(T=s(L,T,R),F===null?P=L:F.sibling=L,F=L);return P}for(L=r(y,L);R<w.length;R++)E=p(L,y,R,w[R],O),E!==null&&(t&&E.alternate!==null&&L.delete(E.key===null?R:E.key),T=s(E,T,R),F===null?P=E:F.sibling=E,F=E);return t&&L.forEach(function(A){return e(y,A)}),P}function b(y,T,w,O){var P=Io(w);if(typeof P!="function")throw Error(oe(150));if(w=P.call(w),w==null)throw Error(oe(151));for(var F=P=null,L=T,R=T=0,E=null,k=w.next();L!==null&&!k.done;R++,k=w.next()){L.index>R?(E=L,L=null):E=L.sibling;var A=f(y,L,k.value,O);if(A===null){L===null&&(L=E);break}t&&L&&A.alternate===null&&e(y,L),T=s(A,T,R),F===null?P=A:F.sibling=A,F=A,L=E}if(k.done)return i(y,L),P;if(L===null){for(;!k.done;R++,k=w.next())k=d(y,k.value,O),k!==null&&(T=s(k,T,R),F===null?P=k:F.sibling=k,F=k);return P}for(L=r(y,L);!k.done;R++,k=w.next())k=p(L,y,R,k.value,O),k!==null&&(t&&k.alternate!==null&&L.delete(k.key===null?R:k.key),T=s(k,T,R),F===null?P=k:F.sibling=k,F=k);return t&&L.forEach(function(U){return e(y,U)}),P}return function(y,T,w,O){var P=typeof w=="object"&&w!==null&&w.type===Tr&&w.key===null;P&&(w=w.props.children);var F=typeof w=="object"&&w!==null;if(F)switch(w.$$typeof){case il:e:{for(F=w.key,P=T;P!==null;){if(P.key===F){switch(P.tag){case 7:if(w.type===Tr){i(y,P.sibling),T=n(P,w.props.children),T.return=y,y=T;break e}break;default:if(P.elementType===w.type){i(y,P.sibling),T=n(P,w.props),T.ref=No(y,P,w),T.return=y,y=T;break e}}i(y,P);break}else e(y,P);P=P.sibling}w.type===Tr?(T=Aa(w.props.children,y.mode,O,w.key),T.return=y,y=T):(O=td(w.type,w.key,w.props,null,y.mode,O),O.ref=No(y,T,w),O.return=y,y=O)}return a(y);case ps:e:{for(P=w.key;T!==null;){if(T.key===P)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){i(y,T.sibling),T=n(T,w.children||[]),T.return=y,y=T;break e}else{i(y,T);break}else e(y,T);T=T.sibling}T=up(w,y.mode,O),T.return=y,y=T}return a(y)}if(typeof w=="string"||typeof w=="number")return w=""+w,T!==null&&T.tag===6?(i(y,T.sibling),T=n(T,w),T.return=y,y=T):(i(y,T),T=lp(w,y.mode,O),T.return=y,y=T),a(y);if(Tc(w))return g(y,T,w,O);if(Io(w))return b(y,T,w,O);if(F&&xc(y,w),typeof w>"u"&&!P)switch(y.tag){case 1:case 22:case 0:case 11:case 15:throw Error(oe(152,Ta(y.type)||"Component"))}return i(y,T)}}var Md=Dw(!0),Mw=Dw(!1),wu={},Ln=Yr(wu),Jl=Yr(wu),Zl=Yr(wu);function gs(t){if(t===wu)throw Error(oe(174));return t}function Cm(t,e){switch(lt(Zl,e),lt(Jl,t),lt(Ln,wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cm(e,t)}tt(Ln),lt(Ln,e)}function za(){tt(Ln),tt(Jl),tt(Zl)}function yb(t){gs(Zl.current);var e=gs(Ln.current),i=cm(e,t.type);e!==i&&(lt(Jl,t),lt(Ln,i))}function Og(t){Jl.current===t&&(tt(Ln),tt(Jl))}var ot=Yr(0);function Ld(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jn=null,wr=null,Rn=!1;function Lw(t,e){var i=Xi(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function _b(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function km(t){if(Rn){var e=wr;if(e){var i=e;if(!_b(t,e)){if(e=Ea(i.nextSibling),!e||!_b(t,e)){t.flags=t.flags&-1025|2,Rn=!1,Jn=t;return}Lw(Jn,i)}Jn=t,wr=Ea(e.firstChild)}else t.flags=t.flags&-1025|2,Rn=!1,Jn=t}}function bb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jn=t}function Sc(t){if(t!==Jn)return!1;if(!Rn)return bb(t),Rn=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Tm(e,t.memoizedProps))for(e=wr;e;)Lw(t,e),e=Ea(e.nextSibling);if(bb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(e===0){wr=Ea(t.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}t=t.nextSibling}wr=null}}else wr=Jn?Ea(t.stateNode.nextSibling):null;return!0}function rp(){wr=Jn=null,Rn=!1}var ka=[];function Ag(){for(var t=0;t<ka.length;t++)ka[t]._workInProgressVersionPrimary=null;ka.length=0}var Cl=Us.ReactCurrentDispatcher,Yi=Us.ReactCurrentBatchConfig,eu=0,pt=null,Vt=null,Dt=null,Rd=!1,kl=!1;function vi(){throw Error(oe(321))}function Ig(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Gi(t[i],e[i]))return!1;return!0}function Dg(t,e,i,r,n,s){if(eu=s,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cl.current=t===null||t.memoizedState===null?BD:zD,t=i(r,n),kl){s=0;do{if(kl=!1,!(25>s))throw Error(oe(301));s+=1,Dt=Vt=null,e.updateQueue=null,Cl.current=jD,t=i(r,n)}while(kl)}if(Cl.current=Bd,e=Vt!==null&&Vt.next!==null,eu=0,Dt=Vt=pt=null,Rd=!1,e)throw Error(oe(300));return t}function ys(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?pt.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function zs(){if(Vt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=Dt===null?pt.memoizedState:Dt.next;if(e!==null)Dt=e,Vt=t;else{if(t===null)throw Error(oe(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Dt===null?pt.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Pn(t,e){return typeof e=="function"?e(t):e}function Uo(t){var e=zs(),i=e.queue;if(i===null)throw Error(oe(311));i.lastRenderedReducer=t;var r=Vt,n=r.baseQueue,s=i.pending;if(s!==null){if(n!==null){var a=n.next;n.next=s.next,s.next=a}r.baseQueue=n=s,i.pending=null}if(n!==null){n=n.next,r=r.baseState;var o=a=s=null,l=n;do{var u=l.lane;if((eu&u)===u)o!==null&&(o=o.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var c={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};o===null?(a=o=c,s=r):o=o.next=c,pt.lanes|=u,Eu|=u}l=l.next}while(l!==null&&l!==n);o===null?s=r:o.next=a,Gi(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=o,i.lastRenderedState=r}return[e.memoizedState,i.dispatch]}function Bo(t){var e=zs(),i=e.queue;if(i===null)throw Error(oe(311));i.lastRenderedReducer=t;var r=i.dispatch,n=i.pending,s=e.memoizedState;if(n!==null){i.pending=null;var a=n=n.next;do s=t(s,a.action),a=a.next;while(a!==n);Gi(s,e.memoizedState)||(vn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),i.lastRenderedState=s}return[s,r]}function Tb(t,e,i){var r=e._getVersion;r=r(e._source);var n=e._workInProgressVersionPrimary;if(n!==null?t=n===r:(t=t.mutableReadLanes,(t=(eu&t)===t)&&(e._workInProgressVersionPrimary=r,ka.push(e))),t)return i(e._source);throw ka.push(e),Error(oe(350))}function Rw(t,e,i,r){var n=ui;if(n===null)throw Error(oe(349));var s=e._getVersion,a=s(e._source),o=Cl.current,l=o.useState(function(){return Tb(n,e,i)}),u=l[1],c=l[0];l=Dt;var d=t.memoizedState,f=d.refs,p=f.getSnapshot,g=d.source;d=d.subscribe;var b=pt;return t.memoizedState={refs:f,source:e,subscribe:r},o.useEffect(function(){f.getSnapshot=i,f.setSnapshot=u;var y=s(e._source);if(!Gi(a,y)){y=i(e._source),Gi(c,y)||(u(y),y=Lr(b),n.mutableReadLanes|=y&n.pendingLanes),y=n.mutableReadLanes,n.entangledLanes|=y;for(var T=n.entanglements,w=y;0<w;){var O=31-jr(w),P=1<<O;T[O]|=y,w&=~P}}},[i,e,r]),o.useEffect(function(){return r(e._source,function(){var y=f.getSnapshot,T=f.setSnapshot;try{T(y(e._source));var w=Lr(b);n.mutableReadLanes|=w&n.pendingLanes}catch(O){T(function(){throw O})}})},[e,r]),Gi(p,i)&&Gi(g,e)&&Gi(d,r)||(t={pending:null,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:c},t.dispatch=u=Rg.bind(null,pt,t),l.queue=t,l.baseQueue=null,c=Tb(n,e,i),l.memoizedState=l.baseState=c),c}function Fw(t,e,i){var r=zs();return Rw(r,t,e,i)}function zo(t){var e=ys();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:t},t=t.dispatch=Rg.bind(null,pt,t),[e.memoizedState,t]}function Fd(t,e,i,r){return t={tag:t,create:e,destroy:i,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null},pt.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t)),t}function xb(t){var e=ys();return t={current:t},e.memoizedState=t}function Nd(){return zs().memoizedState}function Pm(t,e,i,r){var n=ys();pt.flags|=t,n.memoizedState=Fd(1|e,i,void 0,r===void 0?null:r)}function Mg(t,e,i,r){var n=zs();r=r===void 0?null:r;var s=void 0;if(Vt!==null){var a=Vt.memoizedState;if(s=a.destroy,r!==null&&Ig(r,a.deps)){Fd(e,i,s,r);return}}pt.flags|=t,n.memoizedState=Fd(1|e,i,s,r)}function Sb(t,e){return Pm(516,4,t,e)}function Ud(t,e){return Mg(516,4,t,e)}function Nw(t,e){return Mg(4,2,t,e)}function Uw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Bw(t,e,i){return i=i!=null?i.concat([t]):null,Mg(4,2,Uw.bind(null,e,t),i)}function Lg(){}function zw(t,e){var i=zs();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&Ig(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function jw(t,e){var i=zs();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&Ig(e,r[1])?r[0]:(t=t(),i.memoizedState=[t,e],t)}function UD(t,e){var i=Ba();Ps(98>i?98:i,function(){t(!0)}),Ps(97<i?97:i,function(){var r=Yi.transition;Yi.transition=1;try{t(!1),e()}finally{Yi.transition=r}})}function Rg(t,e,i){var r=Ui(),n=Lr(t),s={lane:n,action:i,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s,a=t.alternate,t===pt||a!==null&&a===pt)kl=Rd=!0;else{if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,i);if(s.eagerReducer=a,s.eagerState=l,Gi(l,o))return}catch{}finally{}Rr(t,n,r)}}var Bd={readContext:Zi,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useOpaqueIdentifier:vi,unstable_isNewReconciler:!1},BD={readContext:Zi,useCallback:function(t,e){return ys().memoizedState=[t,e===void 0?null:e],t},useContext:Zi,useEffect:Sb,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,Pm(4,2,Uw.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Pm(4,2,t,e)},useMemo:function(t,e){var i=ys();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var r=ys();return e=i!==void 0?i(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Rg.bind(null,pt,t),[r.memoizedState,t]},useRef:xb,useState:zo,useDebugValue:Lg,useDeferredValue:function(t){var e=zo(t),i=e[0],r=e[1];return Sb(function(){var n=Yi.transition;Yi.transition=1;try{r(t)}finally{Yi.transition=n}},[t]),i},useTransition:function(){var t=zo(!1),e=t[0];return t=UD.bind(null,t[1]),xb(t),[t,e]},useMutableSource:function(t,e,i){var r=ys();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:i},Rw(r,t,e,i)},useOpaqueIdentifier:function(){if(Rn){var t=!1,e=DD(function(){throw t||(t=!0,i("r:"+(tp++).toString(36))),Error(oe(355))}),i=zo(e)[1];return(pt.mode&2)===0&&(pt.flags|=516,Fd(5,function(){i("r:"+(tp++).toString(36))},void 0,null)),e}return e="r:"+(tp++).toString(36),zo(e),e},unstable_isNewReconciler:!1},zD={readContext:Zi,useCallback:zw,useContext:Zi,useEffect:Ud,useImperativeHandle:Bw,useLayoutEffect:Nw,useMemo:jw,useReducer:Uo,useRef:Nd,useState:function(){return Uo(Pn)},useDebugValue:Lg,useDeferredValue:function(t){var e=Uo(Pn),i=e[0],r=e[1];return Ud(function(){var n=Yi.transition;Yi.transition=1;try{r(t)}finally{Yi.transition=n}},[t]),i},useTransition:function(){var t=Uo(Pn)[0];return[Nd().current,t]},useMutableSource:Fw,useOpaqueIdentifier:function(){return Uo(Pn)[0]},unstable_isNewReconciler:!1},jD={readContext:Zi,useCallback:zw,useContext:Zi,useEffect:Ud,useImperativeHandle:Bw,useLayoutEffect:Nw,useMemo:jw,useReducer:Bo,useRef:Nd,useState:function(){return Bo(Pn)},useDebugValue:Lg,useDeferredValue:function(t){var e=Bo(Pn),i=e[0],r=e[1];return Ud(function(){var n=Yi.transition;Yi.transition=1;try{r(t)}finally{Yi.transition=n}},[t]),i},useTransition:function(){var t=Bo(Pn)[0];return[Nd().current,t]},useMutableSource:Fw,useOpaqueIdentifier:function(){return Bo(Pn)[0]},unstable_isNewReconciler:!1},VD=Us.ReactCurrentOwner,vn=!1;function _i(t,e,i,r){e.child=t===null?Mw(e,null,i,r):Md(e,t.child,i,r)}function wb(t,e,i,r,n){i=i.render;var s=e.ref;return Ca(e,n),r=Dg(t,e,i,r,s,n),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~n,Zn(t,e,n)):(e.flags|=1,_i(t,e,r,n),e.child)}function Eb(t,e,i,r,n,s){if(t===null){var a=i.type;return typeof a=="function"&&!jg(a)&&a.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=a,Vw(t,e,a,r,n,s)):(t=td(i.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,(n&s)===0&&(n=a.memoizedProps,i=i.compare,i=i!==null?i:Xl,i(n,r)&&t.ref===e.ref)?Zn(t,e,s):(e.flags|=1,t=Wr(a,r),t.ref=e.ref,t.return=e,e.child=t)}function Vw(t,e,i,r,n,s){if(t!==null&&Xl(t.memoizedProps,r)&&t.ref===e.ref)if(vn=!1,(s&n)!==0)(t.flags&16384)!==0&&(vn=!0);else return e.lanes=t.lanes,Zn(t,e,s);return Om(t,e,i,r,s)}function sp(t,e,i){var r=e.pendingProps,n=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},Ec(e,i);else if((i&1073741824)!==0)e.memoizedState={baseLanes:0},Ec(e,s!==null?s.baseLanes:i);else return t=s!==null?s.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Ec(e,t),null;else s!==null?(r=s.baseLanes|i,e.memoizedState=null):r=i,Ec(e,r);return _i(t,e,n,i),e.child}function Hw(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.flags|=128)}function Om(t,e,i,r,n){var s=wi(i)?ks:Kt.current;return s=Ua(e,s),Ca(e,n),i=Dg(t,e,i,r,s,n),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~n,Zn(t,e,n)):(e.flags|=1,_i(t,e,i,n),e.child)}function Cb(t,e,i,r,n){if(wi(i)){var s=!0;Qc(e)}else s=!1;if(Ca(e,n),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Iw(e,i,r),Em(e,i,r,n),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=i.contextType;typeof u=="object"&&u!==null?u=Zi(u):(u=wi(i)?ks:Kt.current,u=Ua(e,u));var c=i.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&gb(e,a,r,u),br=!1;var f=e.memoizedState;a.state=f,Yl(e,r,a,n),l=e.memoizedState,o!==r||f!==l||Si.current||br?(typeof c=="function"&&(Dd(e,i,c,r),l=e.memoizedState),(o=br||vb(e,i,o,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4)):(typeof a.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{a=e.stateNode,Ow(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:dn(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=i.contextType,typeof l=="object"&&l!==null?l=Zi(l):(l=wi(i)?ks:Kt.current,l=Ua(e,l));var p=i.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&gb(e,a,r,l),br=!1,f=e.memoizedState,a.state=f,Yl(e,r,a,n);var g=e.memoizedState;o!==d||f!==g||Si.current||br?(typeof p=="function"&&(Dd(e,i,p,r),g=e.memoizedState),(u=br||vb(e,i,u,r,f,g,l))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return Am(t,e,i,r,s,n)}function Am(t,e,i,r,n,s){Hw(t,e);var a=(e.flags&64)!==0;if(!r&&!a)return n&&db(e,i,!1),Zn(t,e,s);r=e.stateNode,VD.current=e;var o=a&&typeof i.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Md(e,t.child,null,s),e.child=Md(e,null,o,s)):_i(t,e,o,s),e.memoizedState=r.state,n&&db(e,i,!0),e.child}function kb(t){var e=t.stateNode;e.pendingContext?cb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cb(t,e.context,!1),Cm(t,e.containerInfo)}var wc={dehydrated:null,retryLane:0};function Pb(t,e,i){var r=e.pendingProps,n=ot.current,s=!1,a;return(a=(e.flags&64)!==0)||(a=t!==null&&t.memoizedState===null?!1:(n&2)!==0),a?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(n|=1),lt(ot,n&1),t===null?(r.fallback!==void 0&&km(e),t=r.children,n=r.fallback,s?(t=Ob(e,t,n,i),e.child.memoizedState={baseLanes:i},e.memoizedState=wc,t):typeof r.unstable_expectedLoadTime=="number"?(t=Ob(e,t,n,i),e.child.memoizedState={baseLanes:i},e.memoizedState=wc,e.lanes=33554432,t):(i=Vg({mode:"visible",children:t},e.mode,i,null),i.return=e,e.child=i)):t.memoizedState!==null?s?(r=Ib(t,e,r.children,r.fallback,i),s=e.child,n=t.child.memoizedState,s.memoizedState=n===null?{baseLanes:i}:{baseLanes:n.baseLanes|i},s.childLanes=t.childLanes&~i,e.memoizedState=wc,r):(i=Ab(t,e,r.children,i),e.memoizedState=null,i):s?(r=Ib(t,e,r.children,r.fallback,i),s=e.child,n=t.child.memoizedState,s.memoizedState=n===null?{baseLanes:i}:{baseLanes:n.baseLanes|i},s.childLanes=t.childLanes&~i,e.memoizedState=wc,r):(i=Ab(t,e,r.children,i),e.memoizedState=null,i)}function Ob(t,e,i,r){var n=t.mode,s=t.child;return e={mode:"hidden",children:e},(n&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Vg(e,n,0,null),i=Aa(i,n,r,null),s.return=t,i.return=t,s.sibling=i,t.child=s,i}function Ab(t,e,i,r){var n=t.child;return t=n.sibling,i=Wr(n,{mode:"visible",children:i}),(e.mode&2)===0&&(i.lanes=r),i.return=e,i.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=i}function Ib(t,e,i,r,n){var s=e.mode,a=t.child;t=a.sibling;var o={mode:"hidden",children:i};return(s&2)===0&&e.child!==a?(i=e.child,i.childLanes=0,i.pendingProps=o,a=i.lastEffect,a!==null?(e.firstEffect=i.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):i=Wr(a,o),t!==null?r=Wr(t,r):(r=Aa(r,s,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,r}function Db(t,e){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Pw(t.return,e)}function ap(t,e,i,r,n,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:n,lastEffect:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=i,a.tailMode=n,a.lastEffect=s)}function Mb(t,e,i){var r=e.pendingProps,n=r.revealOrder,s=r.tail;if(_i(t,e,r.children,i),r=ot.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Db(t,i);else if(t.tag===19)Db(t,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(ot,r),(e.mode&2)===0)e.memoizedState=null;else switch(n){case"forwards":for(i=e.child,n=null;i!==null;)t=i.alternate,t!==null&&Ld(t)===null&&(n=i),i=i.sibling;i=n,i===null?(n=e.child,e.child=null):(n=i.sibling,i.sibling=null),ap(e,!1,n,i,s,e.lastEffect);break;case"backwards":for(i=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&Ld(t)===null){e.child=n;break}t=n.sibling,n.sibling=i,i=n,n=t}ap(e,!0,i,null,s,e.lastEffect);break;case"together":ap(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Zn(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Eu|=e.lanes,(i&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,i=Wr(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Wr(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}return null}var Ww,Im,qw,$w;Ww=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Im=function(){};qw=function(t,e,i,r){var n=t.memoizedProps;if(n!==r){t=e.stateNode,gs(Ln.current);var s=null;switch(i){case"input":n=rm(t,n),r=rm(t,r),s=[];break;case"option":n=om(t,n),r=om(t,r),s=[];break;case"select":n=nt({},n,{value:void 0}),r=nt({},r,{value:void 0}),s=[];break;case"textarea":n=lm(t,n),r=lm(t,r),s=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cd)}dm(i,r);var a;i=null;for(u in n)if(!r.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var o=n[u];for(a in o)o.hasOwnProperty(a)&&(i||(i={}),i[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=n?.[u],r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(i||(i={}),i[a]=l[a])}else i||(s||(s=[]),s.push(u,i)),i=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Je("scroll",t),s||o===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===lg?l.toString():(s=s||[]).push(u,l))}i&&(s=s||[]).push("style",i);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};$w=function(t,e,i,r){i!==r&&(e.flags|=4)};function jo(t,e){if(!Rn)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function HD(t,e,i){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return wi(e.type)&&Pd(),null;case 3:return za(),tt(Si),tt(Kt),Ag(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sc(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Im(e),null;case 5:Og(e);var n=gs(Zl.current);if(i=e.type,t!==null&&e.stateNode!=null)qw(t,e,i,r,n),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return null}if(t=gs(Ln.current),Sc(e)){r=e.stateNode,i=e.type;var s=e.memoizedProps;switch(r[Sr]=e,r[kd]=s,i){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(t=0;t<rl.length;t++)Je(rl[t],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":M_(r,s),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Je("invalid",r);break;case"textarea":R_(r,s),Je("invalid",r)}dm(i,s),t=null;for(var a in s)s.hasOwnProperty(a)&&(n=s[a],a==="children"?typeof n=="string"?r.textContent!==n&&(t=["children",n]):typeof n=="number"&&r.textContent!==""+n&&(t=["children",""+n]):jl.hasOwnProperty(a)&&n!=null&&a==="onScroll"&&Je("scroll",r));switch(i){case"input":gc(r),L_(r,s,!0);break;case"textarea":gc(r),F_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cd)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(a=n.nodeType===9?n:n.ownerDocument,t===um.html&&(t=BS(i)),t===um.html?i==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(i,{is:r.is}):(t=a.createElement(i),i==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,i),t[Sr]=e,t[kd]=r,Ww(t,e,!1,!1),e.stateNode=t,a=fm(i,r),i){case"dialog":Je("cancel",t),Je("close",t),n=r;break;case"iframe":case"object":case"embed":Je("load",t),n=r;break;case"video":case"audio":for(n=0;n<rl.length;n++)Je(rl[n],t);n=r;break;case"source":Je("error",t),n=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),n=r;break;case"details":Je("toggle",t),n=r;break;case"input":M_(t,r),n=rm(t,r),Je("invalid",t);break;case"option":n=om(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},n=nt({},r,{value:void 0}),Je("invalid",t);break;case"textarea":R_(t,r),n=lm(t,r),Je("invalid",t);break;default:n=r}dm(i,n);var o=n;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?VS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zS(t,l)):s==="children"?typeof l=="string"?(i!=="textarea"||l!=="")&&Vl(t,l):typeof l=="number"&&Vl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Je("scroll",t):l!=null&&ig(t,s,l,a))}switch(i){case"input":gc(t),L_(t,r,!1);break;case"textarea":gc(t),F_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xa(t,!!r.multiple,s,!1):r.defaultValue!=null&&xa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=Cd)}_w(i,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)$w(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));i=gs(Zl.current),gs(Ln.current),Sc(e)?(r=e.stateNode,i=e.memoizedProps,r[Sr]=e,r.nodeValue!==i&&(e.flags|=4)):(r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[Sr]=e,e.stateNode=r)}return null;case 13:return tt(ot),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=i,e):(r=r!==null,i=!1,t===null?e.memoizedProps.fallback!==void 0&&Sc(e):i=t.memoizedState!==null,r&&!i&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(ot.current&1)!==0?Mt===0&&(Mt=3):((Mt===0||Mt===3)&&(Mt=4),ui===null||(Eu&134217727)===0&&(lo&134217727)===0||Pa(ui,qt))),(r||i)&&(e.flags|=4),null);case 4:return za(),Im(e),t===null&&vw(e.stateNode.containerInfo),null;case 10:return kg(e),null;case 17:return wi(e.type)&&Pd(),null;case 19:if(tt(ot),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,a=r.rendering,a===null)if(s)jo(r,!1);else{if(Mt!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(a=Ld(t),a!==null){for(e.flags|=64,jo(r,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=i,i=e.child;i!==null;)s=i,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return lt(ot,ot.current&1|2),e.child}t=t.sibling}r.tail!==null&&Wt()>Nm&&(e.flags|=64,s=!0,jo(r,!1),e.lanes=33554432)}else{if(!s)if(t=Ld(a),t!==null){if(e.flags|=64,s=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),jo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Rn)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Wt()-r.renderingStartTime>Nm&&i!==1073741824&&(e.flags|=64,s=!0,jo(r,!1),e.lanes=33554432);r.isBackwards?(a.sibling=e.child,e.child=a):(i=r.last,i!==null?i.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(i=r.tail,r.rendering=i,r.tail=i.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Wt(),i.sibling=null,e=ot.current,lt(ot,s?e&1|2:e&1),i):null;case 23:case 24:return zg(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(oe(156,e.tag))}function WD(t){switch(t.tag){case 1:wi(t.type)&&Pd();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(za(),tt(Si),tt(Kt),Ag(),e=t.flags,(e&64)!==0)throw Error(oe(285));return t.flags=e&-4097|64,t;case 5:return Og(t),null;case 13:return tt(ot),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return tt(ot),null;case 4:return za(),null;case 10:return kg(t),null;case 23:case 24:return zg(),null;default:return null}}function Fg(t,e){try{var i="",r=e;do i+=wI(r),r=r.return;while(r);var n=i}catch(s){n=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:n}}function Dm(t,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var qD=typeof WeakMap=="function"?WeakMap:Map;function Gw(t,e,i){i=Dr(-1,i),i.tag=3,i.payload={element:null};var r=e.value;return i.callback=function(){jd||(jd=!0,Um=r),Dm(t,e)},i}function Xw(t,e,i){i=Dr(-1,i),i.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var n=e.value;i.payload=function(){return Dm(t,e),r(n)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(i.callback=function(){typeof r!="function"&&(On===null?On=new Set([this]):On.add(this),Dm(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),i}var $D=typeof WeakSet=="function"?WeakSet:Set;function Lb(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(i){Fr(t,i)}else e.current=null}function GD(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var i=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?i:dn(e.type,i),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Sg(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(oe(163))}function XD(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:if(e=i.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=i.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var n=t;r=n.next,n=n.tag,(n&4)!==0&&(n&1)!==0&&(n1(i,t),iM(i,t)),t=r}while(t!==e)}return;case 1:t=i.stateNode,i.flags&4&&(e===null?t.componentDidMount():(r=i.elementType===i.type?e.memoizedProps:dn(i.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=i.updateQueue,e!==null&&mb(i,e,t);return;case 3:if(e=i.updateQueue,e!==null){if(t=null,i.child!==null)switch(i.child.tag){case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}mb(i,e,t)}return;case 5:t=i.stateNode,e===null&&i.flags&4&&_w(i.type,i.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:i.memoizedState===null&&(i=i.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&JS(i))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(oe(163))}function Rb(t,e){for(var i=t;;){if(i.tag===5){var r=i.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=i.stateNode;var n=i.memoizedProps.style;n=n!=null&&n.hasOwnProperty("display")?n.display:null,r.style.display=jS("display",n)}}else if(i.tag===6)i.stateNode.nodeValue=e?"":i.memoizedProps;else if((i.tag!==23&&i.tag!==24||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Fb(t,e){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(wg,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var i=t=t.next;do{var r=i,n=r.destroy;if(r=r.tag,n!==void 0)if((r&4)!==0)n1(e,i);else{r=e;try{n()}catch(s){Fr(r,s)}}i=i.next}while(i!==t)}break;case 1:if(Lb(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Fr(e,s)}break;case 5:Lb(e);break;case 4:Kw(t,e)}}function Nb(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Ub(t){return t.tag===5||t.tag===3||t.tag===4}function Bb(t){e:{for(var e=t.return;e!==null;){if(Ub(e))break e;e=e.return}throw Error(oe(160))}var i=e;switch(e=i.stateNode,i.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(oe(161))}i.flags&16&&(Vl(e,""),i.flags&=-17);e:t:for(i=t;;){for(;i.sibling===null;){if(i.return===null||Ub(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2)){i=i.stateNode;break e}}r?Mm(t,i,e):Lm(t,i,e)}function Mm(t,e,i){var r=t.tag,n=r===5||r===6;if(n)t=n?t.stateNode:t.stateNode.instance,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Cd));else if(r!==4&&(t=t.child,t!==null))for(Mm(t,e,i),t=t.sibling;t!==null;)Mm(t,e,i),t=t.sibling}function Lm(t,e,i){var r=t.tag,n=r===5||r===6;if(n)t=n?t.stateNode:t.stateNode.instance,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lm(t,e,i),t=t.sibling;t!==null;)Lm(t,e,i),t=t.sibling}function Kw(t,e){for(var i=e,r=!1,n,s;;){if(!r){r=i.return;e:for(;;){if(r===null)throw Error(oe(160));switch(n=r.stateNode,r.tag){case 5:s=!1;break e;case 3:n=n.containerInfo,s=!0;break e;case 4:n=n.containerInfo,s=!0;break e}r=r.return}r=!0}if(i.tag===5||i.tag===6){e:for(var a=t,o=i,l=o;;)if(Fb(a,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(a=n,o=i.stateNode,a.nodeType===8?a.parentNode.removeChild(o):a.removeChild(o)):n.removeChild(i.stateNode)}else if(i.tag===4){if(i.child!==null){n=i.stateNode.containerInfo,s=!0,i.child.return=i,i=i.child;continue}}else if(Fb(t,i),i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return,i.tag===4&&(r=!1)}i.sibling.return=i.return,i=i.sibling}}function op(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==i)}return;case 1:return;case 5:if(i=e.stateNode,i!=null){r=e.memoizedProps;var n=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(i[kd]=r,t==="input"&&r.type==="radio"&&r.name!=null&&NS(i,r),fm(t,n),e=fm(t,r),n=0;n<s.length;n+=2){var a=s[n],o=s[n+1];a==="style"?VS(i,o):a==="dangerouslySetInnerHTML"?zS(i,o):a==="children"?Vl(i,o):ig(i,a,o,e)}switch(t){case"input":sm(i,r);break;case"textarea":US(i,r);break;case"select":t=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?xa(i,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?xa(i,!!r.multiple,r.defaultValue,!0):xa(i,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(oe(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:i=e.stateNode,i.hydrate&&(i.hydrate=!1,JS(i.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Bg=Wt(),Rb(e.child,!0)),zb(e);return;case 19:zb(e);return;case 17:return;case 23:case 24:Rb(e,e.memoizedState!==null);return}throw Error(oe(163))}function zb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new $D),e.forEach(function(r){var n=sM.bind(null,t,r);i.has(r)||(i.add(r),r.then(n,n))})}}function KD(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var QD=Math.ceil,zd=Us.ReactCurrentDispatcher,Ng=Us.ReactCurrentOwner,Oe=0,ui=null,Tt=null,qt=0,Os=0,Rm=Yr(0),Mt=0,Uf=null,oo=0,Eu=0,lo=0,Ug=0,Fm=null,Bg=0,Nm=1/0;function uo(){Nm=Wt()+500}var ye=null,jd=!1,Um=null,On=null,Hr=!1,Pl=null,sl=90,Bm=[],zm=[],er=null,Ol=0,jm=null,Jc=-1,Kn=0,Zc=0,Al=null,ed=!1;function Ui(){return(Oe&48)!==0?Wt():Jc!==-1?Jc:Jc=Wt()}function Lr(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Ba()===99?1:2;if(Kn===0&&(Kn=oo),ND.transition!==0){Zc!==0&&(Zc=Fm!==null?Fm.pendingLanes:0),t=Kn;var e=4186112&~Zc;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Ba(),(Oe&4)!==0&&t===98?t=wd(12,Kn):(t=zI(t),t=wd(t,Kn)),t}function Rr(t,e,i){if(50<Ol)throw Ol=0,jm=null,Error(oe(185));if(t=Bf(t,e),t===null)return null;If(t,e,i),t===ui&&(lo|=e,Mt===4&&Pa(t,qt));var r=Ba();e===1?(Oe&8)!==0&&(Oe&48)===0?Vm(t):(en(t,i),Oe===0&&(uo(),jn())):((Oe&4)===0||r!==98&&r!==99||(er===null?er=new Set([t]):er.add(t)),en(t,i)),Fm=t}function Bf(t,e){t.lanes|=e;var i=t.alternate;for(i!==null&&(i.lanes|=e),i=t,t=t.return;t!==null;)t.childLanes|=e,i=t.alternate,i!==null&&(i.childLanes|=e),i=t,t=t.return;return i.tag===3?i.stateNode:null}function en(t,e){for(var i=t.callbackNode,r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-jr(a),l=1<<o,u=s[o];if(u===-1){if((l&r)===0||(l&n)!==0){u=e,aa(l);var c=Qe;s[o]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=e&&(t.expiredLanes|=l);a&=~l}if(r=$l(t,t===ui?qt:0),e=Qe,r===0)i!==null&&(i!==ip&&Sm(i),t.callbackNode=null,t.callbackPriority=0);else{if(i!==null){if(t.callbackPriority===e)return;i!==ip&&Sm(i)}e===15?(i=Vm.bind(null,t),Xn===null?(Xn=[i],Yc=Eg(Ff,kw)):Xn.push(i),i=ip):e===14?i=Ql(99,Vm.bind(null,t)):(i=jI(e),i=Ql(i,Qw.bind(null,t))),t.callbackPriority=e,t.callbackNode=i}}function Qw(t){if(Jc=-1,Zc=Kn=0,(Oe&48)!==0)throw Error(oe(327));var e=t.callbackNode;if(Jr()&&t.callbackNode!==e)return null;var i=$l(t,t===ui?qt:0);if(i===0)return null;var r=i,n=Oe;Oe|=16;var s=e1();(ui!==t||qt!==r)&&(uo(),Oa(t,r));do try{ZD();break}catch(o){Zw(t,o)}while(1);if(Cg(),zd.current=s,Oe=n,Tt!==null?r=0:(ui=null,qt=0,r=Mt),(oo&lo)!==0)Oa(t,0);else if(r!==0){if(r===2&&(Oe|=64,t.hydrate&&(t.hydrate=!1,Sg(t.containerInfo)),i=sw(t),i!==0&&(r=al(t,i))),r===1)throw e=Uf,Oa(t,0),Pa(t,i),en(t,Wt()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=i,r){case 0:case 1:throw Error(oe(345));case 2:cs(t);break;case 3:if(Pa(t,i),(i&62914560)===i&&(r=Bg+500-Wt(),10<r)){if($l(t,0)!==0)break;if(n=t.suspendedLanes,(n&i)!==i){Ui(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=ob(cs.bind(null,t),r);break}cs(t);break;case 4:if(Pa(t,i),(i&4186112)===i)break;for(r=t.eventTimes,n=-1;0<i;){var a=31-jr(i);s=1<<a,a=r[a],a>n&&(n=a),i&=~s}if(i=n,i=Wt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*QD(i/1960))-i,10<i){t.timeoutHandle=ob(cs.bind(null,t),i);break}cs(t);break;case 5:cs(t);break;default:throw Error(oe(329))}}return en(t,Wt()),t.callbackNode===e?Qw.bind(null,t):null}function Pa(t,e){for(e&=~Ug,e&=~lo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-jr(e),r=1<<i;t[i]=-1,e&=~r}}function Vm(t){if((Oe&48)!==0)throw Error(oe(327));if(Jr(),t===ui&&(t.expiredLanes&qt)!==0){var e=qt,i=al(t,e);(oo&lo)!==0&&(e=$l(t,e),i=al(t,e))}else e=$l(t,0),i=al(t,e);if(t.tag!==0&&i===2&&(Oe|=64,t.hydrate&&(t.hydrate=!1,Sg(t.containerInfo)),e=sw(t),e!==0&&(i=al(t,e))),i===1)throw i=Uf,Oa(t,0),Pa(t,e),en(t,Wt()),i;return t.finishedWork=t.current.alternate,t.finishedLanes=e,cs(t),en(t,Wt()),null}function YD(){if(er!==null){var t=er;er=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,en(e,Wt())})}jn()}function Yw(t,e){var i=Oe;Oe|=1;try{return t(e)}finally{Oe=i,Oe===0&&(uo(),jn())}}function Jw(t,e){var i=Oe;Oe&=-2,Oe|=8;try{return t(e)}finally{Oe=i,Oe===0&&(uo(),jn())}}function Ec(t,e){lt(Rm,Os),Os|=e,oo|=e}function zg(){Os=Rm.current,tt(Rm)}function Oa(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,ID(i)),Tt!==null)for(i=Tt.return;i!==null;){var r=i;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pd();break;case 3:za(),tt(Si),tt(Kt),Ag();break;case 5:Og(r);break;case 4:za();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:kg(r);break;case 23:case 24:zg()}i=i.return}ui=t,Tt=Wr(t.current,null),qt=Os=oo=e,Mt=0,Uf=null,Ug=lo=Eu=0}function Zw(t,e){do{var i=Tt;try{if(Cg(),Cl.current=Bd,Rd){for(var r=pt.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}Rd=!1}if(eu=0,Dt=Vt=pt=null,kl=!1,Ng.current=null,i===null||i.return===null){Mt=1,Uf=e,Tt=null;break}e:{var s=t,a=i.return,o=i,l=e;if(e=qt,o.flags|=2048,o.firstEffect=o.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l;if((o.mode&2)===0){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.lanes=c.lanes):(o.updateQueue=null,o.memoizedState=null)}var d=(ot.current&1)!==0,f=a;do{var p;if(p=f.tag===13){var g=f.memoizedState;if(g!==null)p=g.dehydrated!==null;else{var b=f.memoizedProps;p=b.fallback===void 0?!1:b.unstable_avoidThisFallback!==!0?!0:!d}}if(p){var y=f.updateQueue;if(y===null){var T=new Set;T.add(u),f.updateQueue=T}else y.add(u);if((f.mode&2)===0){if(f.flags|=64,o.flags|=16384,o.flags&=-2981,o.tag===1)if(o.alternate===null)o.tag=17;else{var w=Dr(-1,1);w.tag=2,Mr(o,w)}o.lanes|=1;break e}l=void 0,o=e;var O=s.pingCache;if(O===null?(O=s.pingCache=new qD,l=new Set,O.set(u,l)):(l=O.get(u),l===void 0&&(l=new Set,O.set(u,l))),!l.has(o)){l.add(o);var P=rM.bind(null,s,u,o);u.then(P,P)}f.flags|=4096,f.lanes=e;break e}f=f.return}while(f!==null);l=Error((Ta(o.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Mt!==5&&(Mt=2),l=Fg(l,o),f=a;do{switch(f.tag){case 3:s=l,f.flags|=4096,e&=-e,f.lanes|=e;var F=Gw(f,s,e);pb(f,F);break e;case 1:s=l;var L=f.type,R=f.stateNode;if((f.flags&64)===0&&(typeof L.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(On===null||!On.has(R)))){f.flags|=4096,e&=-e,f.lanes|=e;var E=Xw(f,s,e);pb(f,E);break e}}f=f.return}while(f!==null)}i1(i)}catch(k){e=k,Tt===i&&i!==null&&(Tt=i=i.return);continue}break}while(1)}function e1(){var t=zd.current;return zd.current=Bd,t===null?Bd:t}function al(t,e){var i=Oe;Oe|=16;var r=e1();ui===t&&qt===e||Oa(t,e);do try{JD();break}catch(n){Zw(t,n)}while(1);if(Cg(),Oe=i,zd.current=r,Tt!==null)throw Error(oe(261));return ui=null,qt=0,Mt}function JD(){for(;Tt!==null;)t1(Tt)}function ZD(){for(;Tt!==null&&!LD();)t1(Tt)}function t1(t){var e=r1(t.alternate,t,Os);t.memoizedProps=t.pendingProps,e===null?i1(t):Tt=e,Ng.current=null}function i1(t){var e=t;do{var i=e.alternate;if(t=e.return,(e.flags&2048)===0){if(i=HD(i,e,Os),i!==null){Tt=i;return}if(i=e,i.tag!==24&&i.tag!==23||i.memoizedState===null||(Os&1073741824)!==0||(i.mode&4)===0){for(var r=0,n=i.child;n!==null;)r|=n.lanes|n.childLanes,n=n.sibling;i.childLanes=r}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(i=WD(e),i!==null){i.flags&=2047,Tt=i;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Mt===0&&(Mt=5)}function cs(t){var e=Ba();return Ps(99,eM.bind(null,t,e)),null}function eM(t,e){do Jr();while(Pl!==null);if((Oe&48)!==0)throw Error(oe(327));var i=t.finishedWork;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(oe(177));t.callbackNode=null;var r=i.lanes|i.childLanes,n=r,s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;for(var a=t.eventTimes,o=t.expirationTimes;0<s;){var l=31-jr(s),u=1<<l;n[l]=0,a[l]=-1,o[l]=-1,s&=~u}if(er!==null&&(r&24)===0&&er.has(t)&&er.delete(t),t===ui&&(Tt=ui=null,qt=0),1<i.flags?i.lastEffect!==null?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,r!==null){if(n=Oe,Oe|=32,Ng.current=null,Zh=Gc,a=eb(),ym(a)){if("selectionStart"in a)o={start:a.selectionStart,end:a.selectionEnd};else e:if(o=(o=a.ownerDocument)&&o.defaultView||window,(u=o.getSelection&&o.getSelection())&&u.rangeCount!==0){o=u.anchorNode,s=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{o.nodeType,l.nodeType}catch{o=null;break e}var c=0,d=-1,f=-1,p=0,g=0,b=a,y=null;t:for(;;){for(var T;b!==o||s!==0&&b.nodeType!==3||(d=c+s),b!==l||u!==0&&b.nodeType!==3||(f=c+u),b.nodeType===3&&(c+=b.nodeValue.length),(T=b.firstChild)!==null;)y=b,b=T;for(;;){if(b===a)break t;if(y===o&&++p===s&&(d=c),y===l&&++g===u&&(f=c),(T=b.nextSibling)!==null)break;b=y,y=b.parentNode}b=T}o=d===-1||f===-1?null:{start:d,end:f}}else o=null;o=o||{start:0,end:0}}else o=null;ep={focusedElem:a,selectionRange:o},Gc=!1,Al=null,ed=!1,ye=r;do try{tM()}catch(k){if(ye===null)throw Error(oe(330));Fr(ye,k),ye=ye.nextEffect}while(ye!==null);Al=null,ye=r;do try{for(a=t;ye!==null;){var w=ye.flags;if(w&16&&Vl(ye.stateNode,""),w&128){var O=ye.alternate;if(O!==null){var P=O.ref;P!==null&&(typeof P=="function"?P(null):P.current=null)}}switch(w&1038){case 2:Bb(ye),ye.flags&=-3;break;case 6:Bb(ye),ye.flags&=-3,op(ye.alternate,ye);break;case 1024:ye.flags&=-1025;break;case 1028:ye.flags&=-1025,op(ye.alternate,ye);break;case 4:op(ye.alternate,ye);break;case 8:o=ye,Kw(a,o);var F=o.alternate;Nb(o),F!==null&&Nb(F)}ye=ye.nextEffect}}catch(k){if(ye===null)throw Error(oe(330));Fr(ye,k),ye=ye.nextEffect}while(ye!==null);if(P=ep,O=eb(),w=P.focusedElem,a=P.selectionRange,O!==w&&w&&w.ownerDocument&&hw(w.ownerDocument.documentElement,w)){for(a!==null&&ym(w)&&(O=a.start,P=a.end,P===void 0&&(P=O),"selectionStart"in w?(w.selectionStart=O,w.selectionEnd=Math.min(P,w.value.length)):(P=(O=w.ownerDocument||document)&&O.defaultView||window,P.getSelection&&(P=P.getSelection(),o=w.textContent.length,F=Math.min(a.start,o),a=a.end===void 0?F:Math.min(a.end,o),!P.extend&&F>a&&(o=a,a=F,F=o),o=Z_(w,F),s=Z_(w,a),o&&s&&(P.rangeCount!==1||P.anchorNode!==o.node||P.anchorOffset!==o.offset||P.focusNode!==s.node||P.focusOffset!==s.offset)&&(O=O.createRange(),O.setStart(o.node,o.offset),P.removeAllRanges(),F>a?(P.addRange(O),P.extend(s.node,s.offset)):(O.setEnd(s.node,s.offset),P.addRange(O)))))),O=[],P=w;P=P.parentNode;)P.nodeType===1&&O.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<O.length;w++)P=O[w],P.element.scrollLeft=P.left,P.element.scrollTop=P.top}Gc=!!Zh,ep=Zh=null,t.current=i,ye=r;do try{for(w=t;ye!==null;){var L=ye.flags;if(L&36&&XD(w,ye.alternate,ye),L&128){O=void 0;var R=ye.ref;if(R!==null){var E=ye.stateNode;switch(ye.tag){case 5:O=E;break;default:O=E}typeof R=="function"?R(O):R.current=O}}ye=ye.nextEffect}}catch(k){if(ye===null)throw Error(oe(330));Fr(ye,k),ye=ye.nextEffect}while(ye!==null);ye=null,FD(),Oe=n}else t.current=i;if(Hr)Hr=!1,Pl=t,sl=e;else for(ye=r;ye!==null;)e=ye.nextEffect,ye.nextEffect=null,ye.flags&8&&(L=ye,L.sibling=null,L.stateNode=null),ye=e;if(r=t.pendingLanes,r===0&&(On=null),r===1?t===jm?Ol++:(Ol=0,jm=t):Ol=0,i=i.stateNode,xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(wg,i,void 0,(i.current.flags&64)===64)}catch{}if(en(t,Wt()),jd)throw jd=!1,t=Um,Um=null,t;return(Oe&8)!==0||jn(),null}function tM(){for(;ye!==null;){var t=ye.alternate;ed||Al===null||((ye.flags&8)!==0?B_(ye,Al)&&(ed=!0):ye.tag===13&&KD(t,ye)&&B_(ye,Al)&&(ed=!0));var e=ye.flags;(e&256)!==0&&GD(t,ye),(e&512)===0||Hr||(Hr=!0,Ql(97,function(){return Jr(),null})),ye=ye.nextEffect}}function Jr(){if(sl!==90){var t=97<sl?97:sl;return sl=90,Ps(t,nM)}return!1}function iM(t,e){Bm.push(e,t),Hr||(Hr=!0,Ql(97,function(){return Jr(),null}))}function n1(t,e){zm.push(e,t),Hr||(Hr=!0,Ql(97,function(){return Jr(),null}))}function nM(){if(Pl===null)return!1;var t=Pl;if(Pl=null,(Oe&48)!==0)throw Error(oe(331));var e=Oe;Oe|=32;var i=zm;zm=[];for(var r=0;r<i.length;r+=2){var n=i[r],s=i[r+1],a=n.destroy;if(n.destroy=void 0,typeof a=="function")try{a()}catch(l){if(s===null)throw Error(oe(330));Fr(s,l)}}for(i=Bm,Bm=[],r=0;r<i.length;r+=2){n=i[r],s=i[r+1];try{var o=n.create;n.destroy=o()}catch(l){if(s===null)throw Error(oe(330));Fr(s,l)}}for(o=t.current.firstEffect;o!==null;)t=o.nextEffect,o.nextEffect=null,o.flags&8&&(o.sibling=null,o.stateNode=null),o=t;return Oe=e,jn(),!0}function jb(t,e,i){e=Fg(i,e),e=Gw(t,e,1),Mr(t,e),e=Ui(),t=Bf(t,1),t!==null&&(If(t,1,e),en(t,e))}function Fr(t,e){if(t.tag===3)jb(t,t,e);else for(var i=t.return;i!==null;){if(i.tag===3){jb(i,t,e);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){t=Fg(e,t);var n=Xw(i,t,1);if(Mr(i,n),n=Ui(),i=Bf(i,1),i!==null)If(i,1,n),en(i,n);else if(typeof r.componentDidCatch=="function"&&(On===null||!On.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}i=i.return}}function rM(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),e=Ui(),t.pingedLanes|=t.suspendedLanes&i,ui===t&&(qt&i)===i&&(Mt===4||Mt===3&&(qt&62914560)===qt&&500>Wt()-Bg?Oa(t,0):Ug|=i),en(t,e)}function sM(t,e){var i=t.stateNode;i!==null&&i.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=Ba()===99?1:2:(Kn===0&&(Kn=oo),e=oa(62914560&~Kn),e===0&&(e=4194304))),i=Ui(),t=Bf(t,e),t!==null&&(If(t,e,i),en(t,i))}var r1;r1=function(t,e,i){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Si.current)vn=!0;else if((i&r)!==0)vn=(t.flags&16384)!==0;else{switch(vn=!1,e.tag){case 3:kb(e),rp();break;case 5:yb(e);break;case 1:wi(e.type)&&Qc(e);break;case 4:Cm(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var n=e.type._context;lt(Od,n._currentValue),n._currentValue=r;break;case 13:if(e.memoizedState!==null)return(i&e.child.childLanes)!==0?Pb(t,e,i):(lt(ot,ot.current&1),e=Zn(t,e,i),e!==null?e.sibling:null);lt(ot,ot.current&1);break;case 19:if(r=(i&e.childLanes)!==0,(t.flags&64)!==0){if(r)return Mb(t,e,i);e.flags|=64}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),lt(ot,ot.current),r)break;return null;case 23:case 24:return e.lanes=0,sp(t,e,i)}return Zn(t,e,i)}else vn=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,n=Ua(e,Kt.current),Ca(e,i),n=Dg(null,e,r,t,n,i),e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,wi(r)){var s=!0;Qc(e)}else s=!1;e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Pg(e);var a=r.getDerivedStateFromProps;typeof a=="function"&&Dd(e,r,a,t),n.updater=Nf,e.stateNode=n,n._reactInternals=e,Em(e,r,t,i),e=Am(null,e,r,!0,s,i)}else e.tag=0,_i(null,e,n,i),e=e.child;return e;case 16:n=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=oM(n),t=dn(n,t),s){case 0:e=Om(null,e,n,t,i);break e;case 1:e=Cb(null,e,n,t,i);break e;case 11:e=wb(null,e,n,t,i);break e;case 14:e=Eb(null,e,n,dn(n.type,t),r,i);break e}throw Error(oe(306,n,""))}return e;case 0:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:dn(r,n),Om(t,e,r,n,i);case 1:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:dn(r,n),Cb(t,e,r,n,i);case 3:if(kb(e),r=e.updateQueue,t===null||r===null)throw Error(oe(282));if(r=e.pendingProps,n=e.memoizedState,n=n!==null?n.element:null,Ow(t,e),Yl(e,r,null,i),r=e.memoizedState.element,r===n)rp(),e=Zn(t,e,i);else{if(n=e.stateNode,(s=n.hydrate)&&(wr=Ea(e.stateNode.containerInfo.firstChild),Jn=e,s=Rn=!0),s){if(t=n.mutableSourceEagerHydrationData,t!=null)for(n=0;n<t.length;n+=2)s=t[n],s._workInProgressVersionPrimary=t[n+1],ka.push(s);for(i=Mw(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|1024,i=i.sibling}else _i(t,e,r,i),rp();e=e.child}return e;case 5:return yb(e),t===null&&km(e),r=e.type,n=e.pendingProps,s=t!==null?t.memoizedProps:null,a=n.children,Tm(r,n)?a=null:s!==null&&Tm(r,s)&&(e.flags|=16),Hw(t,e),_i(t,e,a,i),e.child;case 6:return t===null&&km(e),null;case 13:return Pb(t,e,i);case 4:return Cm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Md(e,null,r,i):_i(t,e,r,i),e.child;case 11:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:dn(r,n),wb(t,e,r,n,i);case 7:return _i(t,e,e.pendingProps,i),e.child;case 8:return _i(t,e,e.pendingProps.children,i),e.child;case 12:return _i(t,e,e.pendingProps.children,i),e.child;case 10:e:{r=e.type._context,n=e.pendingProps,a=e.memoizedProps,s=n.value;var o=e.type._context;if(lt(Od,o._currentValue),o._currentValue=s,a!==null)if(o=a.value,s=Gi(o,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(o,s):1073741823)|0,s===0){if(a.children===n.children&&!Si.current){e=Zn(t,e,i);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r&&(u.observedBits&s)!==0){o.tag===1&&(u=Dr(-1,i&-i),u.tag=2,Mr(o,u)),o.lanes|=i,u=o.alternate,u!==null&&(u.lanes|=i),Pw(o.return,i),l.lanes|=i;break}u=u.next}}else a=o.tag===10&&o.type===e.type?null:o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}_i(t,e,n.children,i),e=e.child}return e;case 9:return n=e.type,s=e.pendingProps,r=s.children,Ca(e,i),n=Zi(n,s.unstable_observedBits),r=r(n),e.flags|=1,_i(t,e,r,i),e.child;case 14:return n=e.type,s=dn(n,e.pendingProps),s=dn(n.type,s),Eb(t,e,n,s,r,i);case 15:return Vw(t,e,e.type,e.pendingProps,r,i);case 17:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:dn(r,n),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,wi(r)?(t=!0,Qc(e)):t=!1,Ca(e,i),Iw(e,r,n),Em(e,r,n,i),Am(null,e,r,!0,t,i);case 19:return Mb(t,e,i);case 23:return sp(t,e,i);case 24:return sp(t,e,i)}throw Error(oe(156,e.tag))};function aM(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Xi(t,e,i,r){return new aM(t,e,i,r)}function jg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oM(t){if(typeof t=="function")return jg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pf)return 11;if(t===Of)return 14}return 2}function Wr(t,e){var i=t.alternate;return i===null?(i=Xi(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function td(t,e,i,r,n,s){var a=2;if(r=t,typeof t=="function")jg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Tr:return Aa(i.children,n,s,e);case LS:a=8,n|=16;break;case ng:a=8,n|=1;break;case _l:return t=Xi(12,i,e,n|8),t.elementType=_l,t.type=_l,t.lanes=s,t;case bl:return t=Xi(13,i,e,n),t.type=bl,t.elementType=bl,t.lanes=s,t;case bd:return t=Xi(19,i,e,n),t.elementType=bd,t.lanes=s,t;case ug:return Vg(i,n,s,e);case nm:return t=Xi(24,i,e,n),t.elementType=nm,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rg:a=10;break e;case sg:a=9;break e;case Pf:a=11;break e;case Of:a=14;break e;case ag:a=16,r=null;break e;case og:a=22;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=Xi(a,i,e,n),e.elementType=t,e.type=r,e.lanes=s,e}function Aa(t,e,i,r){return t=Xi(7,t,r,e),t.lanes=i,t}function Vg(t,e,i,r){return t=Xi(23,t,r,e),t.elementType=ug,t.lanes=i,t}function lp(t,e,i){return t=Xi(6,t,null,e),t.lanes=i,t}function up(t,e,i){return e=Xi(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lM(t,e,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.mutableSourceEagerHydrationData=null}function uM(t,e,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ps,key:r==null?null:""+r,children:t,containerInfo:e,implementation:i}}function Vd(t,e,i,r){var n=e.current,s=Ui(),a=Lr(n);e:if(i){i=i._reactInternals;t:{if(Bs(i)!==i||i.tag!==1)throw Error(oe(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(wi(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(oe(171))}if(i.tag===1){var l=i.type;if(wi(l)){i=Tw(i,l,o);break e}}i=o}else i=Vr;return e.context===null?e.context=i:e.pendingContext=i,e=Dr(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Mr(n,e),Rr(n,a,s),a}function cp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Hg(t,e){Vb(t,e),(t=t.alternate)&&Vb(t,e)}function cM(){return null}function Wg(t,e,i){var r=i!=null&&i.hydrationOptions!=null&&i.hydrationOptions.mutableSources||null;if(i=new lM(t,e,i!=null&&i.hydrate===!0),e=Xi(3,null,null,e===2?7:e===1?3:0),i.current=e,e.stateNode=i,Pg(e),t[ao]=i.current,vw(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var n=e._getVersion;n=n(e._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[e,n]:i.mutableSourceEagerHydrationData.push(e,n)}this._internalRoot=i}Wg.prototype.render=function(t){Vd(t,this._internalRoot,null,null)};Wg.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Vd(null,t,null,function(){e[ao]=null})};function Cu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dM(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new Wg(t,0,e?{hydrate:!0}:void 0)}function zf(t,e,i,r,n){var s=i._reactRootContainer;if(s){var a=s._internalRoot;if(typeof n=="function"){var o=n;n=function(){var u=cp(a);o.call(u)}}Vd(e,a,t,n)}else{if(s=i._reactRootContainer=dM(i,r),a=s._internalRoot,typeof n=="function"){var l=n;n=function(){var u=cp(a);l.call(u)}}Jw(function(){Vd(e,a,t,n)})}return cp(a)}KS=function(t){if(t.tag===13){var e=Ui();Rr(t,4,e),Hg(t,4)}};pg=function(t){if(t.tag===13){var e=Ui();Rr(t,67108864,e),Hg(t,67108864)}};QS=function(t){if(t.tag===13){var e=Ui(),i=Lr(t);Rr(t,i,e),Hg(t,i)}};YS=function(t,e){return e()};hm=function(t,e,i){switch(e){case"input":if(sm(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var n=Rf(r);if(!n)throw Error(oe(90));FS(r),sm(r,n)}}}break;case"textarea":US(t,i);break;case"select":e=i.value,e!=null&&xa(t,!!i.multiple,e,!1)}};dg=Yw;qS=function(t,e,i,r,n){var s=Oe;Oe|=4;try{return Ps(98,t.bind(null,e,i,r,n))}finally{Oe=s,Oe===0&&(uo(),jn())}};fg=function(){(Oe&49)===0&&(YD(),Jr())};$S=function(t,e){var i=Oe;Oe|=2;try{return t(e)}finally{Oe=i,Oe===0&&(uo(),jn())}};function s1(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cu(e))throw Error(oe(200));return uM(t,e,null,i)}var fM={Events:[Su,ha,Rf,HS,WS,Jr,{current:!1}]},Vo={findFiberByHostInstance:vs,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},hM={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XS(t),t===null?null:t.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||cM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{wg=Cc.inject(hM),xs=Cc}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fM;rn.createPortal=s1;rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):Error(oe(268,Object.keys(t)));return t=XS(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t,e){var i=Oe;if((i&48)!==0)return t(e);Oe|=1;try{if(t)return Ps(99,t.bind(null,e))}finally{Oe=i,jn()}};rn.hydrate=function(t,e,i){if(!Cu(e))throw Error(oe(200));return zf(null,t,e,!0,i)};rn.render=function(t,e,i){if(!Cu(e))throw Error(oe(200));return zf(null,t,e,!1,i)};rn.unmountComponentAtNode=function(t){if(!Cu(t))throw Error(oe(40));return t._reactRootContainer?(Jw(function(){zf(null,null,t,!1,function(){t._reactRootContainer=null,t[ao]=null})}),!0):!1};rn.unstable_batchedUpdates=Yw;rn.unstable_createPortal=function(t,e){return s1(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};rn.unstable_renderSubtreeIntoContainer=function(t,e,i,r){if(!Cu(i))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return zf(t,e,i,!1,r)};rn.version="17.0.2";function a1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a1)}catch(t){console.error(t)}}a1(),Zv.exports=rn;var JV=Zv.exports;function Hd(){return Hd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Hd.apply(this,arguments)}var _s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_s||(_s={}));var Hb=function(t){return t},Wb="beforeunload",pM="hashchange",mM="popstate";function vM(t){t===void 0&&(t={});var e=t,i=e.window,r=i===void 0?document.defaultView:i,n=r.history;function s(){var E=qr(r.location.hash.substr(1)),k=E.pathname,A=k===void 0?"/":k,U=E.search,z=U===void 0?"":U,H=E.hash,G=H===void 0?"":H,Q=n.state||{};return[Q.idx,Hb({pathname:A,search:z,hash:G,state:Q.usr||null,key:Q.key||"default"})]}var a=null;function o(){if(a)p.call(a),a=null;else{var E=_s.Pop,k=s(),A=k[0],U=k[1];if(p.length){if(A!=null){var z=c-A;z&&(a={action:E,location:U,retry:function(){L(z*-1)}},L(z))}}else O(E)}}r.addEventListener(mM,o),r.addEventListener(pM,function(){var E=s(),k=E[1];Il(k)!==Il(d)&&o()});var l=_s.Pop,u=s(),c=u[0],d=u[1],f=$b(),p=$b();c==null&&(c=0,n.replaceState(Hd({},n.state,{idx:c}),""));function g(){var E=document.querySelector("base"),k="";if(E&&E.getAttribute("href")){var A=r.location.href,U=A.indexOf("#");k=U===-1?A:A.slice(0,U)}return k}function b(E){return g()+"#"+(typeof E=="string"?E:Il(E))}function y(E,k){return k===void 0&&(k=null),Hb(Hd({pathname:d.pathname,hash:"",search:""},typeof E=="string"?qr(E):E,{state:k,key:gM()}))}function T(E,k){return[{usr:E.state,key:E.key,idx:k},b(E)]}function w(E,k,A){return!p.length||(p.call({action:E,location:k,retry:A}),!1)}function O(E){l=E;var k=s();c=k[0],d=k[1],f.call({action:l,location:d})}function P(E,k){var A=_s.Push,U=y(E,k);function z(){P(E,k)}if(w(A,U,z)){var H=T(U,c+1),G=H[0],Q=H[1];try{n.pushState(G,"",Q)}catch{r.location.assign(Q)}O(A)}}function F(E,k){var A=_s.Replace,U=y(E,k);function z(){F(E,k)}if(w(A,U,z)){var H=T(U,c),G=H[0],Q=H[1];n.replaceState(G,"",Q),O(A)}}function L(E){n.go(E)}var R={get action(){return l},get location(){return d},createHref:b,push:P,replace:F,go:L,back:function(){L(-1)},forward:function(){L(1)},listen:function(k){return f.push(k)},block:function(k){var A=p.push(k);return p.length===1&&r.addEventListener(Wb,qb),function(){A(),p.length||r.removeEventListener(Wb,qb)}}};return R}function qb(t){t.preventDefault(),t.returnValue=""}function $b(){var t=[];return{get length(){return t.length},push:function(i){return t.push(i),function(){t=t.filter(function(r){return r!==i})}},call:function(i){t.forEach(function(r){return r&&r(i)})}}}function gM(){return Math.random().toString(36).substr(2,8)}function Il(t){var e=t.pathname,i=e===void 0?"/":e,r=t.search,n=r===void 0?"":r,s=t.hash,a=s===void 0?"":s;return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function qr(t){var e={};if(t){var i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const qg=ve.exports.createContext(null),$g=ve.exports.createContext(null),jf=ve.exports.createContext({outlet:null,matches:[]});function Nn(t,e){if(!t)throw new Error(e)}function yM(t,e,i){i===void 0&&(i="/");let r=typeof e=="string"?qr(e):e,n=u1(r.pathname||"/",i);if(n==null)return null;let s=o1(t);_M(s);let a=null;for(let o=0;a==null&&o<s.length;++o)a=PM(s[o],n);return a}function o1(t,e,i,r){return e===void 0&&(e=[]),i===void 0&&(i=[]),r===void 0&&(r=""),t.forEach((n,s)=>{let a={relativePath:n.path||"",caseSensitive:n.caseSensitive===!0,childrenIndex:s,route:n};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||Nn(!1),a.relativePath=a.relativePath.slice(r.length));let o=Nr([r,a.relativePath]),l=i.concat(a);n.children&&n.children.length>0&&(n.index===!0&&Nn(!1),o1(n.children,e,l,o)),!(n.path==null&&!n.index)&&e.push({path:o,score:CM(o,n.index),routesMeta:l})}),e}function _M(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:kM(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}const bM=/^:\w+$/,TM=3,xM=2,SM=1,wM=10,EM=-2,Gb=t=>t==="*";function CM(t,e){let i=t.split("/"),r=i.length;return i.some(Gb)&&(r+=EM),e&&(r+=xM),i.filter(n=>!Gb(n)).reduce((n,s)=>n+(bM.test(s)?TM:s===""?SM:wM),r)}function kM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,n)=>r===e[n])?t[t.length-1]-e[e.length-1]:0}function PM(t,e){let{routesMeta:i}=t,r={},n="/",s=[];for(let a=0;a<i.length;++a){let o=i[a],l=a===i.length-1,u=n==="/"?e:e.slice(n.length)||"/",c=OM({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=o.route;s.push({params:r,pathname:Nr([n,c.pathname]),pathnameBase:c1(Nr([n,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(n=Nr([n,c.pathnameBase]))}return s}function OM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=AM(t.path,t.caseSensitive,t.end),n=e.match(i);if(!n)return null;let s=n[0],a=s.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=o[d]||"";a=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=IM(o[d]||""),u},{}),pathname:s,pathnameBase:a,pattern:t}}function AM(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0);let r=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(a,o)=>(r.push(o),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n+=i?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(n,e?void 0:"i"),r]}function IM(t,e){try{return decodeURIComponent(t)}catch{return t}}function DM(t,e){e===void 0&&(e="/");let{pathname:i,search:r="",hash:n=""}=typeof t=="string"?qr(t):t;return{pathname:i?i.startsWith("/")?i:MM(i,e):e,search:RM(r),hash:FM(n)}}function MM(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?i.length>1&&i.pop():n!=="."&&i.push(n)}),i.length>1?i.join("/"):"/"}function l1(t,e,i){let r=typeof t=="string"?qr(t):t,n=t===""||r.pathname===""?"/":r.pathname,s;if(n==null)s=i;else{let o=e.length-1;if(n.startsWith("..")){let l=n.split("/");for(;l[0]==="..";)l.shift(),o-=1;r.pathname=l.join("/")}s=o>=0?e[o]:"/"}let a=DM(r,s);return n&&n!=="/"&&n.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}function LM(t){return t===""||t.pathname===""?"/":typeof t=="string"?qr(t).pathname:t.pathname}function u1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=t.charAt(e.length);return i&&i!=="/"?null:t.slice(e.length)||"/"}const Nr=t=>t.join("/").replace(/\/\/+/g,"/"),c1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NM(t){ku()||Nn(!1);let{basename:e,navigator:i}=ve.exports.useContext(qg),{hash:r,pathname:n,search:s}=d1(t),a=n;if(e!=="/"){let o=LM(t),l=o!=null&&o.endsWith("/");a=n==="/"?e+(l?"/":""):Nr([e,n])}return i.createHref({pathname:a,search:s,hash:r})}function ku(){return ve.exports.useContext($g)!=null}function Vf(){return ku()||Nn(!1),ve.exports.useContext($g).location}function UM(){ku()||Nn(!1);let{basename:t,navigator:e}=ve.exports.useContext(qg),{matches:i}=ve.exports.useContext(jf),{pathname:r}=Vf(),n=JSON.stringify(i.map(o=>o.pathnameBase)),s=ve.exports.useRef(!1);return ve.exports.useEffect(()=>{s.current=!0}),ve.exports.useCallback(function(o,l){if(l===void 0&&(l={}),!s.current)return;if(typeof o=="number"){e.go(o);return}let u=l1(o,JSON.parse(n),r);t!=="/"&&(u.pathname=Nr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state)},[t,e,n,r])}function d1(t){let{matches:e}=ve.exports.useContext(jf),{pathname:i}=Vf(),r=JSON.stringify(e.map(n=>n.pathnameBase));return ve.exports.useMemo(()=>l1(t,JSON.parse(r),i),[t,r,i])}function BM(t,e){ku()||Nn(!1);let{matches:i}=ve.exports.useContext(jf),r=i[i.length-1],n=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let a=Vf(),o;if(e){var l;let f=typeof e=="string"?qr(e):e;s==="/"||((l=f.pathname)==null?void 0:l.startsWith(s))||Nn(!1),o=f}else o=a;let u=o.pathname||"/",c=s==="/"?u:u.slice(s.length)||"/",d=yM(t,{pathname:c});return zM(d&&d.map(f=>Object.assign({},f,{params:Object.assign({},n,f.params),pathname:Nr([s,f.pathname]),pathnameBase:f.pathnameBase==="/"?s:Nr([s,f.pathnameBase])})),i)}function zM(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((i,r,n)=>ve.exports.createElement(jf.Provider,{children:r.route.element!==void 0?r.route.element:i,value:{outlet:i,matches:e.concat(t.slice(0,n+1))}}),null)}function jM(t){Nn(!1)}function VM(t){let{basename:e="/",children:i=null,location:r,navigationType:n=_s.Pop,navigator:s,static:a=!1}=t;ku()&&Nn(!1);let o=c1(e),l=ve.exports.useMemo(()=>({basename:o,navigator:s,static:a}),[o,s,a]);typeof r=="string"&&(r=qr(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=r,g=ve.exports.useMemo(()=>{let b=u1(u,o);return b==null?null:{pathname:b,search:c,hash:d,state:f,key:p}},[o,u,c,d,f,p]);return g==null?null:ve.exports.createElement(qg.Provider,{value:l},ve.exports.createElement($g.Provider,{children:i,value:{location:g,navigationType:n}}))}function ZV(t){let{children:e,location:i}=t;return BM(Hm(e),i)}function Hm(t){let e=[];return ve.exports.Children.forEach(t,i=>{if(!ve.exports.isValidElement(i))return;if(i.type===ve.exports.Fragment){e.push.apply(e,Hm(i.props.children));return}i.type!==jM&&Nn(!1);let r={caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path};i.props.children&&(r.children=Hm(i.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wm(){return Wm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Wm.apply(this,arguments)}function HM(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}const WM=["onClick","reloadDocument","replace","state","target","to"];function eH(t){let{basename:e,children:i,window:r}=t,n=ve.exports.useRef();n.current==null&&(n.current=vM({window:r}));let s=n.current,[a,o]=ve.exports.useState({action:s.action,location:s.location});return ve.exports.useLayoutEffect(()=>s.listen(o),[s]),ve.exports.createElement(VM,{basename:e,children:i,location:a.location,navigationType:a.action,navigator:s})}function qM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const tH=ve.exports.forwardRef(function(e,i){let{onClick:r,reloadDocument:n,replace:s=!1,state:a,target:o,to:l}=e,u=HM(e,WM),c=NM(l),d=$M(l,{replace:s,state:a,target:o});function f(p){r&&r(p),!p.defaultPrevented&&!n&&d(p)}return ve.exports.createElement("a",Wm({},u,{href:c,onClick:f,ref:i,target:o}))});function $M(t,e){let{target:i,replace:r,state:n}=e===void 0?{}:e,s=UM(),a=Vf(),o=d1(t);return ve.exports.useCallback(l=>{if(l.button===0&&(!i||i==="_self")&&!qM(l)){l.preventDefault();let u=!!r||Il(a)===Il(o);s(t,{replace:u,state:n})}},[a,s,o,r,n,i,t])}let Gg=Ou();const Me=t=>Pu(t,Gg);let Xg=Ou();Me.write=t=>Pu(t,Xg);let Hf=Ou();Me.onStart=t=>Pu(t,Hf);let Kg=Ou();Me.onFrame=t=>Pu(t,Kg);let Qg=Ou();Me.onFinish=t=>Pu(t,Qg);let Ia=[];Me.setTimeout=(t,e)=>{let i=Me.now()+e,r=()=>{let s=Ia.findIndex(a=>a.cancel==r);~s&&Ia.splice(s,1),Cr-=~s?1:0},n={time:i,handler:t,cancel:r};return Ia.splice(f1(i),0,n),Cr+=1,h1(),n};let f1=t=>~(~Ia.findIndex(e=>e.time>t)||~Ia.length);Me.cancel=t=>{Hf.delete(t),Kg.delete(t),Gg.delete(t),Xg.delete(t),Qg.delete(t)};Me.sync=t=>{qm=!0,Me.batchedUpdates(t),qm=!1};Me.throttle=t=>{let e;function i(){try{t(...e)}finally{e=null}}function r(...n){e=n,Me.onStart(i)}return r.handler=t,r.cancel=()=>{Hf.delete(i),e=null},r};let Yg=typeof window<"u"?window.requestAnimationFrame:()=>{};Me.use=t=>Yg=t;Me.now=typeof performance<"u"?()=>performance.now():Date.now;Me.batchedUpdates=t=>t();Me.catch=console.error;Me.frameLoop="always";Me.advance=()=>{Me.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):m1()};let Er=-1,Cr=0,qm=!1;function Pu(t,e){qm?(e.delete(t),t(0)):(e.add(t),h1())}function h1(){Er<0&&(Er=0,Me.frameLoop!=="demand"&&Yg(p1))}function GM(){Er=-1}function p1(){~Er&&(Yg(p1),Me.batchedUpdates(m1))}function m1(){let t=Er;Er=Me.now();let e=f1(Er);e&&(v1(Ia.splice(0,e),i=>i.handler()),Cr-=e),Hf.flush(),Gg.flush(t?Math.min(64,Er-t):16.667),Kg.flush(),Xg.flush(),Qg.flush(),Cr||GM()}function Ou(){let t=new Set,e=t;return{add(i){Cr+=e==t&&!t.has(i)?1:0,t.add(i)},delete(i){return Cr-=e==t&&t.has(i)?1:0,t.delete(i)},flush(i){e.size&&(t=new Set,Cr-=e.size,v1(e,r=>r(i)&&t.add(r)),Cr+=t.size,e=t)}}}function v1(t,e){t.forEach(i=>{try{e(i)}catch(r){Me.catch(r)}})}function $m(){}const XM=(t,e,i)=>Object.defineProperty(t,e,{value:i,writable:!0,configurable:!0}),ie={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function $n(t,e){if(ie.arr(t)){if(!ie.arr(e)||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}return t===e}const De=(t,e)=>t.forEach(e);function Un(t,e,i){if(ie.arr(t)){for(let r=0;r<t.length;r++)e.call(i,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r)}const li=t=>ie.und(t)?[]:ie.arr(t)?t:[t];function Dl(t,e){if(t.size){const i=Array.from(t);t.clear(),De(i,e)}}const ol=(t,...e)=>Dl(t,i=>i(...e)),g1=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let Jg,y1,Ur=null,_1=!1,Zg=$m;const KM=t=>{t.to&&(y1=t.to),t.now&&(Me.now=t.now),t.colors!==void 0&&(Ur=t.colors),t.skipAnimation!=null&&(_1=t.skipAnimation),t.createStringInterpolator&&(Jg=t.createStringInterpolator),t.requestAnimationFrame&&Me.use(t.requestAnimationFrame),t.batchedUpdates&&(Me.batchedUpdates=t.batchedUpdates),t.willAdvance&&(Zg=t.willAdvance),t.frameLoop&&(Me.frameLoop=t.frameLoop)};var Bn=Object.freeze({__proto__:null,get createStringInterpolator(){return Jg},get to(){return y1},get colors(){return Ur},get skipAnimation(){return _1},get willAdvance(){return Zg},assign:KM});const Ml=new Set;let Ki=[],dp=[],Wd=0;const Wf={get idle(){return!Ml.size&&!Ki.length},start(t){Wd>t.priority?(Ml.add(t),Me.onStart(QM)):(b1(t),Me(Gm))},advance:Gm,sort(t){if(Wd)Me.onFrame(()=>Wf.sort(t));else{const e=Ki.indexOf(t);~e&&(Ki.splice(e,1),T1(t))}},clear(){Ki=[],Ml.clear()}};function QM(){Ml.forEach(b1),Ml.clear(),Me(Gm)}function b1(t){Ki.includes(t)||T1(t)}function T1(t){Ki.splice(YM(Ki,e=>e.priority>t.priority),0,t)}function Gm(t){const e=dp;for(let i=0;i<Ki.length;i++){const r=Ki[i];Wd=r.priority,r.idle||(Zg(r),r.advance(t),r.idle||e.push(r))}return Wd=0,dp=Ki,dp.length=0,Ki=e,Ki.length>0}function YM(t,e){const i=t.findIndex(e);return i<0?t.length:i}const JM={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},gn="[-+]?\\d*\\.?\\d+",qd=gn+"%";function qf(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const ZM=new RegExp("rgb"+qf(gn,gn,gn)),eL=new RegExp("rgba"+qf(gn,gn,gn,gn)),tL=new RegExp("hsl"+qf(gn,qd,qd)),iL=new RegExp("hsla"+qf(gn,qd,qd,gn)),nL=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,rL=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,sL=/^#([0-9a-fA-F]{6})$/,aL=/^#([0-9a-fA-F]{8})$/;function oL(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=sL.exec(t))?parseInt(e[1]+"ff",16)>>>0:Ur&&Ur[t]!==void 0?Ur[t]:(e=ZM.exec(t))?(Ys(e[1])<<24|Ys(e[2])<<16|Ys(e[3])<<8|255)>>>0:(e=eL.exec(t))?(Ys(e[1])<<24|Ys(e[2])<<16|Ys(e[3])<<8|Qb(e[4]))>>>0:(e=nL.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=aL.exec(t))?parseInt(e[1],16)>>>0:(e=rL.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=tL.exec(t))?(Xb(Kb(e[1]),kc(e[2]),kc(e[3]))|255)>>>0:(e=iL.exec(t))?(Xb(Kb(e[1]),kc(e[2]),kc(e[3]))|Qb(e[4]))>>>0:null}function fp(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function Xb(t,e,i){const r=i<.5?i*(1+e):i+e-i*e,n=2*i-r,s=fp(n,r,t+1/3),a=fp(n,r,t),o=fp(n,r,t-1/3);return Math.round(s*255)<<24|Math.round(a*255)<<16|Math.round(o*255)<<8}function Ys(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function Kb(t){return(parseFloat(t)%360+360)%360/360}function Qb(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function kc(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function Yb(t){let e=oL(t);if(e===null)return t;e=e||0;let i=(e&4278190080)>>>24,r=(e&16711680)>>>16,n=(e&65280)>>>8,s=(e&255)/255;return`rgba(${i}, ${r}, ${n}, ${s})`}const tu=(t,e,i)=>{if(ie.fun(t))return t;if(ie.arr(t))return tu({range:t,output:e,extrapolate:i});if(ie.str(t.output[0]))return Jg(t);const r=t,n=r.output,s=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",o=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=uL(u,s);return lL(u,s[c],s[c+1],n[c],n[c+1],l,a,o,r.map)}};function lL(t,e,i,r,n,s,a,o,l){let u=l?l(t):t;if(u<e){if(a==="identity")return u;a==="clamp"&&(u=e)}if(u>i){if(o==="identity")return u;o==="clamp"&&(u=i)}return r===n?r:e===i?t<=e?r:n:(e===-1/0?u=-u:i===1/0?u=u-e:u=(u-e)/(i-e),u=s(u),r===-1/0?u=-u:n===1/0?u=u+r:u=u*(n-r)+r,u)}function uL(t,e){for(var i=1;i<e.length-1&&!(e[i]>=t);++i);return i-1}function Xm(){return Xm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Xm.apply(this,arguments)}const ja=Symbol.for("FluidValue.get"),As=Symbol.for("FluidValue.observers"),$i=t=>Boolean(t&&t[ja]),bi=t=>t&&t[ja]?t[ja]():t,Jb=t=>t[As]||null;function cL(t,e){t.eventObserved?t.eventObserved(e):t(e)}function iu(t,e){let i=t[As];i&&i.forEach(r=>{cL(r,e)})}class x1{constructor(e){if(this[ja]=void 0,this[As]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");dL(this,e)}}const dL=(t,e)=>S1(t,ja,e);function co(t,e){if(t[ja]){let i=t[As];i||S1(t,As,i=new Set),i.has(e)||(i.add(e),t.observerAdded&&t.observerAdded(i.size,e))}return e}function nu(t,e){let i=t[As];if(i&&i.has(e)){const r=i.size-1;r?i.delete(e):t[As]=null,t.observerRemoved&&t.observerRemoved(r,e)}}const S1=(t,e,i)=>Object.defineProperty(t,e,{value:i,writable:!0,configurable:!0}),id=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,fL=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Zb=new RegExp(`(${id.source})(%|[a-z]+)`,"i"),hL=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,$f=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,w1=t=>{const[e,i]=pL(t);if(!e||g1())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(i&&i.startsWith("--")){const n=window.getComputedStyle(document.documentElement).getPropertyValue(i);return n||t}else{if(i&&$f.test(i))return w1(i);if(i)return i}return t},pL=t=>{const e=$f.exec(t);if(!e)return[,];const[,i,r]=e;return[i,r]};let hp;const mL=(t,e,i,r,n)=>`rgba(${Math.round(e)}, ${Math.round(i)}, ${Math.round(r)}, ${n})`,E1=t=>{hp||(hp=Ur?new RegExp(`(${Object.keys(Ur).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>bi(s).replace($f,w1).replace(fL,Yb).replace(hp,Yb)),i=e.map(s=>s.match(id).map(Number)),n=i[0].map((s,a)=>i.map(o=>{if(!(a in o))throw Error('The arity of each "output" value must be equal');return o[a]})).map(s=>tu(Xm({},t,{output:s})));return s=>{var a;const o=!Zb.test(e[0])&&((a=e.find(u=>Zb.test(u)))==null?void 0:a.replace(id,""));let l=0;return e[0].replace(id,()=>`${n[l++](s)}${o||""}`).replace(hL,mL)}},e0="react-spring: ",C1=t=>{const e=t;let i=!1;if(typeof e!="function")throw new TypeError(`${e0}once requires a function parameter`);return(...r)=>{i||(e(...r),i=!0)}},vL=C1(console.warn);function gL(){vL(`${e0}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const yL=C1(console.warn);function _L(){yL(`${e0}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Gf(t){return ie.str(t)&&(t[0]=="#"||/\d/.test(t)||!g1()&&$f.test(t)||t in(Ur||{}))}const Xf=t=>ve.exports.useEffect(t,bL),bL=[];function t0(){const t=ve.exports.useState()[1],e=ve.exports.useState(TL)[0];return Xf(e.unmount),()=>{e.current&&t({})}}function TL(){const t={current:!0,unmount:()=>()=>{t.current=!1}};return t}function xL(t,e){const[i]=ve.exports.useState(()=>({inputs:e,result:t()})),r=ve.exports.useRef(),n=r.current;let s=n;return s?Boolean(e&&s.inputs&&SL(e,s.inputs))||(s={inputs:e,result:t()}):s=i,ve.exports.useEffect(()=>{r.current=s,n==i&&(i.inputs=i.result=void 0)},[s]),s.result}function SL(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}function Km(t){const e=ve.exports.useRef();return ve.exports.useEffect(()=>{e.current=t}),e.current}const va=typeof window<"u"&&window.document&&window.document.createElement?ve.exports.useLayoutEffect:ve.exports.useEffect,ru=Symbol.for("Animated:node"),wL=t=>!!t&&t[ru]===t,wn=t=>t&&t[ru],i0=(t,e)=>XM(t,ru,e),Kf=t=>t&&t[ru]&&t[ru].getPayload();class k1{constructor(){this.payload=void 0,i0(this,this)}getPayload(){return this.payload||[]}}class fo extends k1{constructor(e){super();this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,ie.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new fo(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,i){return ie.num(e)&&(this.lastPosition=e,i&&(e=Math.round(e/i)*i,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,ie.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class Va extends fo{constructor(e){super(0);this._string=null,this._toString=void 0,this._toString=tu({output:[e,e]})}static create(e){return new Va(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(ie.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=tu({output:[this.getValue(),e]})),this._value=0,super.reset()}}const $d={dependencies:null};class Qf extends k1{constructor(e){super();this.source=e,this.setValue(e)}getValue(e){const i={};return Un(this.source,(r,n)=>{wL(r)?i[n]=r.getValue(e):$i(r)?i[n]=bi(r):e||(i[n]=r)}),i}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&De(this.payload,e=>e.reset())}_makePayload(e){if(e){const i=new Set;return Un(e,this._addToPayload,i),Array.from(i)}}_addToPayload(e){$d.dependencies&&$i(e)&&$d.dependencies.add(e);const i=Kf(e);i&&De(i,r=>this.add(r))}}class n0 extends Qf{constructor(e){super(e)}static create(e){return new n0(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const i=this.getPayload();return e.length==i.length?i.map((r,n)=>r.setValue(e[n])).some(Boolean):(super.setValue(e.map(EL)),!0)}}function EL(t){return(Gf(t)?Va:fo).create(t)}function Qm(t){const e=wn(t);return e?e.constructor:ie.arr(t)?n0:Gf(t)?Va:fo}function Gd(){return Gd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Gd.apply(this,arguments)}const eT=(t,e)=>{const i=!ie.fun(t)||t.prototype&&t.prototype.isReactComponent;return ve.exports.forwardRef((r,n)=>{const s=ve.exports.useRef(null),a=i&&ve.exports.useCallback(g=>{s.current=PL(n,g)},[n]),[o,l]=kL(r,e),u=t0(),c=()=>{const g=s.current;if(i&&!g)return;(g?e.applyAnimatedValues(g,o.getValue(!0)):!1)===!1&&u()},d=new CL(c,l),f=ve.exports.useRef();va(()=>{const g=f.current;f.current=d,De(l,b=>co(b,d)),g&&(De(g.deps,b=>nu(b,g)),Me.cancel(g.update))}),ve.exports.useEffect(c,[]),Xf(()=>()=>{const g=f.current;De(g.deps,b=>nu(b,g))});const p=e.getComponentProps(o.getValue());return ve.exports.createElement(t,Gd({},p,{ref:a}))})};class CL{constructor(e,i){this.update=e,this.deps=i}eventObserved(e){e.type=="change"&&Me.write(this.update)}}function kL(t,e){const i=new Set;return $d.dependencies=i,t.style&&(t=Gd({},t,{style:e.createAnimatedStyle(t.style)})),t=new Qf(t),$d.dependencies=null,[t,i]}function PL(t,e){return t&&(ie.fun(t)?t(e):t.current=e),e}const tT=Symbol.for("AnimatedComponent"),OL=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:i=n=>new Qf(n),getComponentProps:r=n=>n}={})=>{const n={applyAnimatedValues:e,createAnimatedStyle:i,getComponentProps:r},s=a=>{const o=iT(a)||"Anonymous";return ie.str(a)?a=s[a]||(s[a]=eT(a,n)):a=a[tT]||(a[tT]=eT(a,n)),a.displayName=`Animated(${o})`,a};return Un(t,(a,o)=>{ie.arr(t)&&(o=iT(a)),s[o]=s(a)}),{animated:s}},iT=t=>ie.str(t)?t:t&&ie.str(t.displayName)?t.displayName:ie.fun(t)&&t.name||null;function ut(){return ut=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ut.apply(this,arguments)}function Ti(t,...e){return ie.fun(t)?t(...e):t}const Ll=(t,e)=>t===!0||!!(e&&t&&(ie.fun(t)?t(e):li(t).includes(e))),P1=(t,e)=>ie.obj(t)?e&&t[e]:t,O1=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,AL=t=>t,Yf=(t,e=AL)=>{let i=IL;t.default&&t.default!==!0&&(t=t.default,i=Object.keys(t));const r={};for(const n of i){const s=e(t[n],n);ie.und(s)||(r[n]=s)}return r},IL=["config","onProps","onStart","onChange","onPause","onResume","onRest"],DL={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function ML(t){const e={};let i=0;if(Un(t,(r,n)=>{DL[n]||(e[n]=r,i++)}),i)return e}function r0(t){const e=ML(t);if(e){const i={to:e};return Un(t,(r,n)=>n in e||(i[n]=r)),i}return ut({},t)}function su(t){return t=bi(t),ie.arr(t)?t.map(su):Gf(t)?Bn.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function A1(t){for(const e in t)return!0;return!1}function Ym(t){return ie.fun(t)||ie.arr(t)&&ie.obj(t[0])}function Jm(t,e){var i;(i=t.ref)==null||i.delete(t),e?.delete(t)}function I1(t,e){if(e&&t.ref!==e){var i;(i=t.ref)==null||i.delete(t),e.add(t),t.ref=e}}const LL={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Xd=1.70158,Pc=Xd*1.525,nT=Xd+1,rT=2*Math.PI/3,sT=2*Math.PI/4.5,Oc=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,RL={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>nT*t*t*t-Xd*t*t,easeOutBack:t=>1+nT*Math.pow(t-1,3)+Xd*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Pc+1)*2*t-Pc)/2:(Math.pow(2*t-2,2)*((Pc+1)*(t*2-2)+Pc)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*rT),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*rT)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*sT))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*sT)/2+1,easeInBounce:t=>1-Oc(1-t),easeOutBounce:Oc,easeInOutBounce:t=>t<.5?(1-Oc(1-2*t))/2:(1+Oc(2*t-1))/2},Zm=ut({},LL.default,{mass:1,damping:1,easing:RL.linear,clamp:!1});class FL{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Zm)}}function NL(t,e,i){i&&(i=ut({},i),aT(i,e),e=ut({},i,e)),aT(t,e),Object.assign(t,e);for(const a in Zm)t[a]==null&&(t[a]=Zm[a]);let{mass:r,frequency:n,damping:s}=t;return ie.und(n)||(n<.01&&(n=.01),s<0&&(s=0),t.tension=Math.pow(2*Math.PI/n,2)*r,t.friction=4*Math.PI*s*r/n),t}function aT(t,e){if(!ie.und(e.decay))t.duration=void 0;else{const i=!ie.und(e.tension)||!ie.und(e.friction);(i||!ie.und(e.frequency)||!ie.und(e.damping)||!ie.und(e.mass))&&(t.duration=void 0,t.decay=void 0),i&&(t.frequency=void 0)}}const oT=[];class UL{constructor(){this.changed=!1,this.values=oT,this.toValues=null,this.fromValues=oT,this.to=void 0,this.from=void 0,this.config=new FL,this.immediate=!1}}function D1(t,{key:e,props:i,defaultProps:r,state:n,actions:s}){return new Promise((a,o)=>{var l;let u,c,d=Ll((l=i.cancel)!=null?l:r?.cancel,e);if(d)g();else{ie.und(i.pause)||(n.paused=Ll(i.pause,e));let b=r?.pause;b!==!0&&(b=n.paused||Ll(b,e)),u=Ti(i.delay||0,e),b?(n.resumeQueue.add(p),s.pause()):(s.resume(),p())}function f(){n.resumeQueue.add(p),n.timeouts.delete(c),c.cancel(),u=c.time-Me.now()}function p(){u>0&&!Bn.skipAnimation?(n.delayed=!0,c=Me.setTimeout(g,u),n.pauseQueue.add(f),n.timeouts.add(c)):g()}function g(){n.delayed&&(n.delayed=!1),n.pauseQueue.delete(f),n.timeouts.delete(c),t<=(n.cancelId||0)&&(d=!0);try{s.start(ut({},i,{callId:t,cancel:d}),a)}catch(b){o(b)}}})}const s0=(t,e)=>e.length==1?e[0]:e.some(i=>i.cancelled)?Da(t.get()):e.every(i=>i.noop)?M1(t.get()):fn(t.get(),e.every(i=>i.finished)),M1=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),fn=(t,e,i=!1)=>({value:t,finished:e,cancelled:i}),Da=t=>({value:t,cancelled:!0,finished:!1});function L1(t,e,i,r){const{callId:n,parentId:s,onRest:a}=e,{asyncTo:o,promise:l}=i;return!s&&t===o&&!e.reset?l:i.promise=(async()=>{i.asyncId=n,i.asyncTo=t;const u=Yf(e,(y,T)=>T==="onRest"?void 0:y);let c,d;const f=new Promise((y,T)=>(c=y,d=T)),p=y=>{const T=n<=(i.cancelId||0)&&Da(r)||n!==i.asyncId&&fn(r,!1);if(T)throw y.result=T,d(y),y},g=(y,T)=>{const w=new lT,O=new uT;return(async()=>{if(Bn.skipAnimation)throw au(i),O.result=fn(r,!1),d(O),O;p(w);const P=ie.obj(y)?ut({},y):ut({},T,{to:y});P.parentId=n,Un(u,(L,R)=>{ie.und(P[R])&&(P[R]=L)});const F=await r.start(P);return p(w),i.paused&&await new Promise(L=>{i.resumeQueue.add(L)}),F})()};let b;if(Bn.skipAnimation)return au(i),fn(r,!1);try{let y;ie.arr(t)?y=(async T=>{for(const w of T)await g(w)})(t):y=Promise.resolve(t(g,r.stop.bind(r))),await Promise.all([y.then(c),f]),b=fn(r.get(),!0,!1)}catch(y){if(y instanceof lT)b=y.result;else if(y instanceof uT)b=y.result;else throw y}finally{n==i.asyncId&&(i.asyncId=s,i.asyncTo=s?o:void 0,i.promise=s?l:void 0)}return ie.fun(a)&&Me.batchedUpdates(()=>{a(b,r,r.item)}),b})()}function au(t,e){Dl(t.timeouts,i=>i.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}class lT extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");this.result=void 0}}class uT extends Error{constructor(){super("SkipAnimationSignal");this.result=void 0}}const ev=t=>t instanceof a0;let BL=1;class a0 extends x1{constructor(...e){super(...e);this.id=BL++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=wn(this);return e&&e.getValue()}to(...e){return Bn.to(this,e)}interpolate(...e){return gL(),Bn.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,i=!1){iu(this,{type:"change",parent:this,value:e,idle:i})}_onPriorityChange(e){this.idle||Wf.sort(this),iu(this,{type:"priority",parent:this,priority:e})}}const Is=Symbol.for("SpringPhase"),R1=1,tv=2,iv=4,pp=t=>(t[Is]&R1)>0,yr=t=>(t[Is]&tv)>0,Ho=t=>(t[Is]&iv)>0,cT=(t,e)=>e?t[Is]|=tv|R1:t[Is]&=~tv,dT=(t,e)=>e?t[Is]|=iv:t[Is]&=~iv;class zL extends a0{constructor(e,i){super();if(this.key=void 0,this.animation=new UL,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ie.und(e)||!ie.und(i)){const r=ie.obj(e)?ut({},e):ut({},i,{from:e});ie.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(yr(this)||this._state.asyncTo)||Ho(this)}get goal(){return bi(this.animation.to)}get velocity(){const e=wn(this);return e instanceof fo?e.lastVelocity||0:e.getPayload().map(i=>i.lastVelocity||0)}get hasAnimated(){return pp(this)}get isAnimating(){return yr(this)}get isPaused(){return Ho(this)}get isDelayed(){return this._state.delayed}advance(e){let i=!0,r=!1;const n=this.animation;let{config:s,toValues:a}=n;const o=Kf(n.to);!o&&$i(n.to)&&(a=li(bi(n.to))),n.values.forEach((c,d)=>{if(c.done)return;const f=c.constructor==Va?1:o?o[d].lastPosition:a[d];let p=n.immediate,g=f;if(!p){if(g=c.lastPosition,s.tension<=0){c.done=!0;return}let b=c.elapsedTime+=e;const y=n.fromValues[d],T=c.v0!=null?c.v0:c.v0=ie.arr(s.velocity)?s.velocity[d]:s.velocity;let w;if(ie.und(s.duration))if(s.decay){const O=s.decay===!0?.998:s.decay,P=Math.exp(-(1-O)*b);g=y+T/(1-O)*(1-P),p=Math.abs(c.lastPosition-g)<.1,w=T*P}else{w=c.lastVelocity==null?T:c.lastVelocity;const O=s.precision||(y==f?.005:Math.min(1,Math.abs(f-y)*.001)),P=s.restVelocity||O/10,F=s.clamp?0:s.bounce,L=!ie.und(F),R=y==f?c.v0>0:y<f;let E,k=!1;const A=1,U=Math.ceil(e/A);for(let z=0;z<U&&(E=Math.abs(w)>P,!(!E&&(p=Math.abs(f-g)<=O,p)));++z){L&&(k=g==f||g>f==R,k&&(w=-w*F,g=f));const H=-s.tension*1e-6*(g-f),G=-s.friction*.001*w,Q=(H+G)/s.mass;w=w+Q*A,g=g+w*A}}else{let O=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,b=c.elapsedTime+=e)),O=(s.progress||0)+b/this._memoizedDuration,O=O>1?1:O<0?0:O,c.durationProgress=O),g=y+s.easing(O)*(f-y),w=(g-c.lastPosition)/e,p=O==1}c.lastVelocity=w,Number.isNaN(g)&&(console.warn("Got NaN while animating:",this),p=!0)}o&&!o[d].done&&(p=!1),p?c.done=!0:i=!1,c.setValue(g,s.round)&&(r=!0)});const l=wn(this),u=l.getValue();if(i){const c=bi(n.to);(u!==c||r)&&!s.decay?(l.setValue(c),this._onChange(c)):r&&s.decay&&this._onChange(u),this._stop()}else r&&this._onChange(u)}set(e){return Me.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(yr(this)){const{to:e,config:i}=this.animation;Me.batchedUpdates(()=>{this._onStart(),i.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,i){let r;return ie.und(e)?(r=this.queue||[],this.queue=[]):r=[ie.obj(e)?e:ut({},i,{to:e})],Promise.all(r.map(n=>this._update(n))).then(n=>s0(this,n))}stop(e){const{to:i}=this.animation;return this._focus(this.get()),au(this._state,e&&this._lastCallId),Me.batchedUpdates(()=>this._stop(i,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const i=this.key||"";let{to:r,from:n}=e;r=ie.obj(r)?r[i]:r,(r==null||Ym(r))&&(r=void 0),n=ie.obj(n)?n[i]:n,n==null&&(n=void 0);const s={to:r,from:n};return pp(this)||(e.reverse&&([r,n]=[n,r]),n=bi(n),ie.und(n)?wn(this)||this._set(r):this._set(n)),s}_update(e,i){let r=ut({},e);const{key:n,defaultProps:s}=this;r.default&&Object.assign(s,Yf(r,(l,u)=>/^on/.test(u)?P1(l,n):l)),hT(this,r,"onProps"),qo(this,"onProps",r,this);const a=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return D1(++this._lastCallId,{key:n,props:r,defaultProps:s,state:o,actions:{pause:()=>{Ho(this)||(dT(this,!0),ol(o.pauseQueue),qo(this,"onPause",fn(this,Wo(this,this.animation.to)),this))},resume:()=>{Ho(this)&&(dT(this,!1),yr(this)&&this._resume(),ol(o.resumeQueue),qo(this,"onResume",fn(this,Wo(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(l=>{if(r.loop&&l.finished&&!(i&&l.noop)){const u=F1(r);if(u)return this._update(u,!0)}return l})}_merge(e,i,r){if(i.cancel)return this.stop(!0),r(Da(this));const n=!ie.und(e.to),s=!ie.und(e.from);if(n||s)if(i.callId>this._lastToId)this._lastToId=i.callId;else return r(Da(this));const{key:a,defaultProps:o,animation:l}=this,{to:u,from:c}=l;let{to:d=u,from:f=c}=e;s&&!n&&(!i.default||ie.und(d))&&(d=f),i.reverse&&([d,f]=[f,d]);const p=!$n(f,c);p&&(l.from=f),f=bi(f);const g=!$n(d,u);g&&this._focus(d);const b=Ym(i.to),{config:y}=l,{decay:T,velocity:w}=y;(n||s)&&(y.velocity=0),i.config&&!b&&NL(y,Ti(i.config,a),i.config!==o.config?Ti(o.config,a):void 0);let O=wn(this);if(!O||ie.und(d))return r(fn(this,!0));const P=ie.und(i.reset)?s&&!i.default:!ie.und(f)&&Ll(i.reset,a),F=P?f:this.get(),L=su(d),R=ie.num(L)||ie.arr(L)||Gf(L),E=!b&&(!R||Ll(o.immediate||i.immediate,a));if(g){const z=Qm(d);if(z!==O.constructor)if(E)O=this._set(L);else throw Error(`Cannot animate between ${O.constructor.name} and ${z.name}, as the "to" prop suggests`)}const k=O.constructor;let A=$i(d),U=!1;if(!A){const z=P||!pp(this)&&p;(g||z)&&(U=$n(su(F),L),A=!U),(!$n(l.immediate,E)&&!E||!$n(y.decay,T)||!$n(y.velocity,w))&&(A=!0)}if(U&&yr(this)&&(l.changed&&!P?A=!0:A||this._stop(u)),!b&&((A||$i(u))&&(l.values=O.getPayload(),l.toValues=$i(d)?null:k==Va?[1]:li(L)),l.immediate!=E&&(l.immediate=E,!E&&!P&&this._set(u)),A)){const{onRest:z}=l;De(VL,G=>hT(this,i,G));const H=fn(this,Wo(this,u));ol(this._pendingCalls,H),this._pendingCalls.add(r),l.changed&&Me.batchedUpdates(()=>{l.changed=!P,z?.(H,this),P?Ti(o.onRest,H):l.onStart==null||l.onStart(H,this)})}P&&this._set(F),b?r(L1(i.to,i,this._state,this)):A?this._start():yr(this)&&!g?this._pendingCalls.add(r):r(M1(F))}_focus(e){const i=this.animation;e!==i.to&&(Jb(this)&&this._detach(),i.to=e,Jb(this)&&this._attach())}_attach(){let e=0;const{to:i}=this.animation;$i(i)&&(co(i,this),ev(i)&&(e=i.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;$i(e)&&nu(e,this)}_set(e,i=!0){const r=bi(e);if(!ie.und(r)){const n=wn(this);if(!n||!$n(r,n.getValue())){const s=Qm(r);!n||n.constructor!=s?i0(this,s.create(r)):n.setValue(r),n&&Me.batchedUpdates(()=>{this._onChange(r,i)})}}return wn(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,qo(this,"onStart",fn(this,Wo(this,e.to)),this))}_onChange(e,i){i||(this._onStart(),Ti(this.animation.onChange,e,this)),Ti(this.defaultProps.onChange,e,this),super._onChange(e,i)}_start(){const e=this.animation;wn(this).reset(bi(e.to)),e.immediate||(e.fromValues=e.values.map(i=>i.lastPosition)),yr(this)||(cT(this,!0),Ho(this)||this._resume())}_resume(){Bn.skipAnimation?this.finish():Wf.start(this)}_stop(e,i){if(yr(this)){cT(this,!1);const r=this.animation;De(r.values,s=>{s.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),iu(this,{type:"idle",parent:this});const n=i?Da(this.get()):fn(this.get(),Wo(this,e??r.to));ol(this._pendingCalls,n),r.changed&&(r.changed=!1,qo(this,"onRest",n,this))}}}function Wo(t,e){const i=su(e),r=su(t.get());return $n(r,i)}function F1(t,e=t.loop,i=t.to){let r=Ti(e);if(r){const n=r!==!0&&r0(r),s=(n||t).reverse,a=!n||n.reset;return ou(ut({},t,{loop:e,default:!1,pause:void 0,to:!s||Ym(i)?i:void 0,from:a?t.from:void 0,reset:a},n))}}function ou(t){const{to:e,from:i}=t=r0(t),r=new Set;return ie.obj(e)&&fT(e,r),ie.obj(i)&&fT(i,r),t.keys=r.size?Array.from(r):null,t}function jL(t){const e=ou(t);return ie.und(e.default)&&(e.default=Yf(e)),e}function fT(t,e){Un(t,(i,r)=>i!=null&&e.add(r))}const VL=["onStart","onRest","onChange","onPause","onResume"];function hT(t,e,i){t.animation[i]=e[i]!==O1(e,i)?P1(e[i],t.key):void 0}function qo(t,e,...i){var r,n,s,a;(r=(n=t.animation)[e])==null||r.call(n,...i),(s=(a=t.defaultProps)[e])==null||s.call(a,...i)}const HL=["onStart","onChange","onRest"];let WL=1;class N1{constructor(e,i){this.id=WL++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),i&&(this._flush=i),e&&this.start(ut({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((i,r)=>e[r]=i.get()),e}set(e){for(const i in e){const r=e[i];ie.und(r)||this.springs[i].set(r)}}update(e){return e&&this.queue.push(ou(e)),this}start(e){let{queue:i}=this;return e?i=li(e).map(ou):this.queue=[],this._flush?this._flush(this,i):(V1(this,i),nv(this,i))}stop(e,i){if(e!==!!e&&(i=e),i){const r=this.springs;De(li(i),n=>r[n].stop(!!e))}else au(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(ie.und(e))this.start({pause:!0});else{const i=this.springs;De(li(e),r=>i[r].pause())}return this}resume(e){if(ie.und(e))this.start({pause:!1});else{const i=this.springs;De(li(e),r=>i[r].resume())}return this}each(e){Un(this.springs,e)}_onFrame(){const{onStart:e,onChange:i,onRest:r}=this._events,n=this._active.size>0,s=this._changed.size>0;(n&&!this._started||s&&!this._started)&&(this._started=!0,Dl(e,([l,u])=>{u.value=this.get(),l(u,this,this._item)}));const a=!n&&this._started,o=s||a&&r.size?this.get():null;s&&i.size&&Dl(i,([l,u])=>{u.value=o,l(u,this,this._item)}),a&&(this._started=!1,Dl(r,([l,u])=>{u.value=o,l(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Me.onFrame(this._onFrame)}}function nv(t,e){return Promise.all(e.map(i=>U1(t,i))).then(i=>s0(t,i))}async function U1(t,e,i){const{keys:r,to:n,from:s,loop:a,onRest:o,onResolve:l}=e,u=ie.obj(e.default)&&e.default;a&&(e.loop=!1),n===!1&&(e.to=null),s===!1&&(e.from=null);const c=ie.arr(n)||ie.fun(n)?n:void 0;c?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):De(HL,b=>{const y=e[b];if(ie.fun(y)){const T=t._events[b];e[b]=({finished:w,cancelled:O})=>{const P=T.get(y);P?(w||(P.finished=!1),O&&(P.cancelled=!0)):T.set(y,{value:null,finished:w||!1,cancelled:O||!1})},u&&(u[b]=e[b])}});const d=t._state;e.pause===!d.paused?(d.paused=e.pause,ol(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);const f=(r||Object.keys(t.springs)).map(b=>t.springs[b].start(e)),p=e.cancel===!0||O1(e,"cancel")===!0;(c||p&&d.asyncId)&&f.push(D1(++t._lastAsyncId,{props:e,state:d,actions:{pause:$m,resume:$m,start(b,y){p?(au(d,t._lastAsyncId),y(Da(t))):(b.onRest=o,y(L1(c,b,d,t)))}}})),d.paused&&await new Promise(b=>{d.resumeQueue.add(b)});const g=s0(t,await Promise.all(f));if(a&&g.finished&&!(i&&g.noop)){const b=F1(e,a,n);if(b)return V1(t,[b]),U1(t,b,!0)}return l&&Me.batchedUpdates(()=>l(g,t,t.item)),g}function rv(t,e){const i=ut({},t.springs);return e&&De(li(e),r=>{ie.und(r.keys)&&(r=ou(r)),ie.obj(r.to)||(r=ut({},r,{to:void 0})),j1(i,r,n=>z1(n))}),B1(t,i),i}function B1(t,e){Un(e,(i,r)=>{t.springs[r]||(t.springs[r]=i,co(i,t))})}function z1(t,e){const i=new zL;return i.key=t,e&&co(i,e),i}function j1(t,e,i){e.keys&&De(e.keys,r=>{(t[r]||(t[r]=i(r)))._prepareNode(e)})}function V1(t,e){De(e,i=>{j1(t.springs,i,r=>z1(r,t))})}function qL(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}const $L=["children"],Au=t=>{let{children:e}=t,i=qL(t,$L);const r=ve.exports.useContext(Kd),n=i.pause||!!r.pause,s=i.immediate||!!r.immediate;i=xL(()=>({pause:n,immediate:s}),[n,s]);const{Provider:a}=Kd;return ve.exports.createElement(a,{value:i},e)},Kd=GL(Au,{});Au.Provider=Kd.Provider;Au.Consumer=Kd.Consumer;function GL(t,e){return Object.assign(t,ve.exports.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}const H1=()=>{const t=[],e=function(n){_L();const s=[];return De(t,(a,o)=>{if(ie.und(n))s.push(a.start());else{const l=i(n,a,o);l&&s.push(a.start(l))}}),s};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const n=t.indexOf(r);~n&&t.splice(n,1)},e.pause=function(){return De(t,r=>r.pause(...arguments)),this},e.resume=function(){return De(t,r=>r.resume(...arguments)),this},e.set=function(r){De(t,n=>n.set(r))},e.start=function(r){const n=[];return De(t,(s,a)=>{if(ie.und(r))n.push(s.start());else{const o=this._getProps(r,s,a);o&&n.push(s.start(o))}}),n},e.stop=function(){return De(t,r=>r.stop(...arguments)),this},e.update=function(r){return De(t,(n,s)=>n.update(this._getProps(r,n,s))),this};const i=function(n,s,a){return ie.fun(n)?n(a,s):n};return e._getProps=i,e};function XL(t,e,i){const r=ie.fun(e)&&e;r&&!i&&(i=[]);const n=ve.exports.useMemo(()=>r||arguments.length==3?H1():void 0,[]),s=ve.exports.useRef(0),a=t0(),o=ve.exports.useMemo(()=>({ctrls:[],queue:[],flush(T,w){const O=rv(T,w);return s.current>0&&!o.queue.length&&!Object.keys(O).some(F=>!T.springs[F])?nv(T,w):new Promise(F=>{B1(T,O),o.queue.push(()=>{F(nv(T,w))}),a()})}}),[]),l=ve.exports.useRef([...o.ctrls]),u=[],c=Km(t)||0;ve.exports.useMemo(()=>{De(l.current.slice(t,c),T=>{Jm(T,n),T.stop(!0)}),l.current.length=t,d(c,t)},[t]),ve.exports.useMemo(()=>{d(0,Math.min(c,t))},i);function d(T,w){for(let O=T;O<w;O++){const P=l.current[O]||(l.current[O]=new N1(null,o.flush)),F=r?r(O,P):e[O];F&&(u[O]=jL(F))}}const f=l.current.map((T,w)=>rv(T,u[w])),p=ve.exports.useContext(Au),g=Km(p),b=p!==g&&A1(p);va(()=>{s.current++,o.ctrls=l.current;const{queue:T}=o;T.length&&(o.queue=[],De(T,w=>w())),De(l.current,(w,O)=>{n?.add(w),b&&w.start({default:p});const P=u[O];P&&(I1(w,P.ref),w.ref?w.queue.push(P):w.start(P))})}),Xf(()=>()=>{De(o.ctrls,T=>T.stop(!0))});const y=f.map(T=>ut({},T));return n?[y,n]:y}function iH(t,e){const i=ie.fun(t),[[r],n]=XL(1,i?t:[t],i?e||[]:e);return i||arguments.length==2?[r,n]:r}let ii;(function(t){t.MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave"})(ii||(ii={}));function nH(t,e,i){const r=ie.fun(e)&&e,{reset:n,sort:s,trail:a=0,expires:o=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:c,config:d}=r?r():e,f=ve.exports.useMemo(()=>r||arguments.length==3?H1():void 0,[]),p=li(t),g=[],b=ve.exports.useRef(null),y=n?null:b.current;va(()=>{b.current=g}),Xf(()=>()=>{De(b.current,G=>{G.expired&&clearTimeout(G.expirationId),Jm(G.ctrl,f),G.ctrl.stop(!0)})});const T=QL(p,r?r():e,y),w=n&&b.current||[];va(()=>De(w,({ctrl:G,item:Q,key:ee})=>{Jm(G,f),Ti(u,Q,ee)}));const O=[];if(y&&De(y,(G,Q)=>{G.expired?(clearTimeout(G.expirationId),w.push(G)):(Q=O[Q]=T.indexOf(G.key),~Q&&(g[Q]=G))}),De(p,(G,Q)=>{g[Q]||(g[Q]={key:T[Q],item:G,phase:ii.MOUNT,ctrl:new N1},g[Q].ctrl.item=G)}),O.length){let G=-1;const{leave:Q}=r?r():e;De(O,(ee,q)=>{const Y=y[q];~ee?(G=g.indexOf(Y),g[G]=ut({},Y,{item:p[ee]})):Q&&g.splice(++G,0,Y)})}ie.fun(s)&&g.sort((G,Q)=>s(G.item,Q.item));let P=-a;const F=t0(),L=Yf(e),R=new Map,E=ve.exports.useRef(new Map),k=ve.exports.useRef(!1);De(g,(G,Q)=>{const ee=G.key,q=G.phase,Y=r?r():e;let te,pe,J=Ti(Y.delay||0,ee);if(q==ii.MOUNT)te=Y.enter,pe=ii.ENTER;else{const W=T.indexOf(ee)<0;if(q!=ii.LEAVE)if(W)te=Y.leave,pe=ii.LEAVE;else if(te=Y.update)pe=ii.UPDATE;else return;else if(!W)te=Y.enter,pe=ii.ENTER;else return}if(te=Ti(te,G.item,Q),te=ie.obj(te)?r0(te):{to:te},!te.config){const W=d||L.config;te.config=Ti(W,G.item,Q,pe)}P+=a;const $=ut({},L,{delay:J+P,ref:c,immediate:Y.immediate,reset:!1},te);if(pe==ii.ENTER&&ie.und($.from)){const W=r?r():e,ae=ie.und(W.initial)||y?W.from:W.initial;$.from=Ti(ae,G.item,Q)}const{onResolve:de}=$;$.onResolve=W=>{Ti(de,W);const ae=b.current,fe=ae.find(le=>le.key===ee);if(!!fe&&!(W.cancelled&&fe.phase!=ii.UPDATE)&&fe.ctrl.idle){const le=ae.every(re=>re.ctrl.idle);if(fe.phase==ii.LEAVE){const re=Ti(o,fe.item);if(re!==!1){const Se=re===!0?0:re;if(fe.expired=!0,!le&&Se>0){Se<=2147483647&&(fe.expirationId=setTimeout(F,Se));return}}}le&&ae.some(re=>re.expired)&&(E.current.delete(fe),l&&(k.current=!0),F())}};const X=rv(G.ctrl,$);pe===ii.LEAVE&&l?E.current.set(G,{phase:pe,springs:X,payload:$}):R.set(G,{phase:pe,springs:X,payload:$})});const A=ve.exports.useContext(Au),U=Km(A),z=A!==U&&A1(A);va(()=>{z&&De(g,G=>{G.ctrl.start({default:A})})},[A]),De(R,(G,Q)=>{if(E.current.size){const ee=g.findIndex(q=>q.key===Q.key);g.splice(ee,1)}}),va(()=>{De(E.current.size?E.current:R,({phase:G,payload:Q},ee)=>{const{ctrl:q}=ee;ee.phase=G,f?.add(q),z&&G==ii.ENTER&&q.start({default:A}),Q&&(I1(q,Q.ref),q.ref&&!k.current?q.update(Q):(q.start(Q),k.current&&(k.current=!1)))})},n?void 0:i);const H=G=>ve.exports.createElement(ve.exports.Fragment,null,g.map((Q,ee)=>{const{springs:q}=R.get(Q)||Q.ctrl,Y=G(ut({},q),Q.item,Q,ee);return Y&&Y.type?ve.exports.createElement(Y.type,ut({},Y.props,{key:ie.str(Q.key)||ie.num(Q.key)?Q.key:Q.ctrl.id,ref:Y.ref})):Y}));return f?[H,f]:H}let KL=1;function QL(t,{key:e,keys:i=e},r){if(i===null){const n=new Set;return t.map(s=>{const a=r&&r.find(o=>o.item===s&&o.phase!==ii.LEAVE&&!n.has(o));return a?(n.add(a),a.key):KL++})}return ie.und(i)?t:ie.fun(i)?t.map(i):li(i)}class YL extends a0{constructor(e,i){super();this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=tu(...i);const r=this._get(),n=Qm(r);i0(this,n.create(r))}advance(e){const i=this._get(),r=this.get();$n(i,r)||(wn(this).setValue(i),this._onChange(i,this.idle)),!this.idle&&pT(this._active)&&mp(this)}_get(){const e=ie.arr(this.source)?this.source.map(bi):li(bi(this.source));return this.calc(...e)}_start(){this.idle&&!pT(this._active)&&(this.idle=!1,De(Kf(this),e=>{e.done=!1}),Bn.skipAnimation?(Me.batchedUpdates(()=>this.advance()),mp(this)):Wf.start(this))}_attach(){let e=1;De(li(this.source),i=>{$i(i)&&co(i,this),ev(i)&&(i.idle||this._active.add(i),e=Math.max(e,i.priority+1))}),this.priority=e,this._start()}_detach(){De(li(this.source),e=>{$i(e)&&nu(e,this)}),this._active.clear(),mp(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=li(this.source).reduce((i,r)=>Math.max(i,(ev(r)?r.priority:0)+1),0))}}function JL(t){return t.idle!==!1}function pT(t){return!t.size||Array.from(t).every(JL)}function mp(t){t.idle||(t.idle=!0,De(Kf(t),e=>{e.done=!0}),iu(t,{type:"idle",parent:t}))}Bn.assign({createStringInterpolator:E1,to:(t,e)=>new YL(t,e)});function o0(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}const ZL=["style","children","scrollTop","scrollLeft"],W1=/^--/;function eR(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!W1.test(t)&&!(Rl.hasOwnProperty(t)&&Rl[t])?e+"px":(""+e).trim()}const mT={};function tR(t,e){if(!t.nodeType||!t.setAttribute)return!1;const i=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",r=e,{style:n,children:s,scrollTop:a,scrollLeft:o}=r,l=o0(r,ZL),u=Object.values(l),c=Object.keys(l).map(d=>i||t.hasAttribute(d)?d:mT[d]||(mT[d]=d.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));s!==void 0&&(t.textContent=s);for(let d in n)if(n.hasOwnProperty(d)){const f=eR(d,n[d]);W1.test(d)?t.style.setProperty(d,f):t.style[d]=f}c.forEach((d,f)=>{t.setAttribute(d,u[f])}),a!==void 0&&(t.scrollTop=a),o!==void 0&&(t.scrollLeft=o)}let Rl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const iR=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),nR=["Webkit","Ms","Moz","O"];Rl=Object.keys(Rl).reduce((t,e)=>(nR.forEach(i=>t[iR(i,e)]=t[e]),t),Rl);const rR=["x","y","z"],sR=/^(matrix|translate|scale|rotate|skew)/,aR=/^(translate)/,oR=/^(rotate|skew)/,vp=(t,e)=>ie.num(t)&&t!==0?t+e:t,nd=(t,e)=>ie.arr(t)?t.every(i=>nd(i,e)):ie.num(t)?t===e:parseFloat(t)===e;class lR extends Qf{constructor(e){let{x:i,y:r,z:n}=e,s=o0(e,rR);const a=[],o=[];(i||r||n)&&(a.push([i||0,r||0,n||0]),o.push(l=>[`translate3d(${l.map(u=>vp(u,"px")).join(",")})`,nd(l,0)])),Un(s,(l,u)=>{if(u==="transform")a.push([l||""]),o.push(c=>[c,c===""]);else if(sR.test(u)){if(delete s[u],ie.und(l))return;const c=aR.test(u)?"px":oR.test(u)?"deg":"";a.push(li(l)),o.push(u==="rotate3d"?([d,f,p,g])=>[`rotate3d(${d},${f},${p},${vp(g,c)})`,nd(g,0)]:d=>[`${u}(${d.map(f=>vp(f,c)).join(",")})`,nd(d,u.startsWith("scale")?1:0)])}}),a.length&&(s.transform=new uR(a,o));super(s)}}class uR extends x1{constructor(e,i){super();this._value=null,this.inputs=e,this.transforms=i}get(){return this._value||(this._value=this._get())}_get(){let e="",i=!0;return De(this.inputs,(r,n)=>{const s=bi(r[0]),[a,o]=this.transforms[n](ie.arr(s)?s:r.map(bi));e+=" "+a,i=i&&o}),i?"none":e}observerAdded(e){e==1&&De(this.inputs,i=>De(i,r=>$i(r)&&co(r,this)))}observerRemoved(e){e==0&&De(this.inputs,i=>De(i,r=>$i(r)&&nu(r,this)))}eventObserved(e){e.type=="change"&&(this._value=null),iu(this,e)}}const cR=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],dR=["scrollTop","scrollLeft"];Bn.assign({batchedUpdates:Zv.exports.unstable_batchedUpdates,createStringInterpolator:E1,colors:JM});const fR=OL(cR,{applyAnimatedValues:tR,createAnimatedStyle:t=>new lR(t),getComponentProps:t=>o0(t,dR)}),rH=fR.animated;var hR={exports:{}},Iu={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR=ve.exports,q1=60103;Iu.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var vT=Symbol.for;q1=vT("react.element"),Iu.Fragment=vT("react.fragment")}var mR=pR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vR=Object.prototype.hasOwnProperty,gR={key:!0,ref:!0,__self:!0,__source:!0};function $1(t,e,i){var r,n={},s=null,a=null;i!==void 0&&(s=""+i),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)vR.call(e,r)&&!gR.hasOwnProperty(r)&&(n[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)n[r]===void 0&&(n[r]=e[r]);return{$$typeof:q1,type:t,key:s,ref:a,props:n,_owner:mR.current}}Iu.jsx=$1;Iu.jsxs=$1;hR.exports=Iu;var G1={};function tn(t,e,i){return Math.min(Math.max(t,e),i)}function rd(t,e,i,r){return Math.floor((t*i+e*r)/(i+r))}function $t(t){const e=Qi(t);let i=Ds(t);return e===i&&(i=0),Math.random()*(e-i)+i}function be(t){return typeof t=="number"?t:$t(t)}function Ds(t){return typeof t=="number"?t:t.min}function Qi(t){return typeof t=="number"?t:t.max}function xe(t,e){if(t===e||e===void 0&&typeof t=="number")return t;const i=Ds(t),r=Qi(t);return e!==void 0?{min:Math.min(i,e),max:Math.max(r,e)}:xe(i,r)}function Ms(t){const e=t.random,{enable:i,minimumValue:r}=typeof e=="boolean"?{enable:e,minimumValue:0}:e;return be(i?xe(t.value,r):t.value)}function Gt(t,e){const i=t.x-e.x,r=t.y-e.y;return{dx:i,dy:r,distance:Math.sqrt(i*i+r*r)}}function ht(t,e){return Gt(t,e).distance}function X1(t){if(typeof t=="number")return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"none":default:return Math.random()*Math.PI*2}}function K1(t){const e=$e.origin;return e.length=1,e.angle=t,e}function sv(t,e,i,r){return $e.create(t.x*(i-r)/(i+r)+e.x*2*r/(i+r),t.y)}function l0(t,e){switch(e){case"ease-out-quad":return 1-(1-t)**2;case"ease-out-cubic":return 1-(1-t)**3;case"ease-out-quart":return 1-(1-t)**4;case"ease-out-quint":return 1-(1-t)**5;case"ease-out-expo":return t===1?1:1-Math.pow(2,-10*t);case"ease-out-sine":return Math.sin(t*Math.PI/2);case"ease-out-back":return 1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2);case"ease-out-circ":return Math.sqrt(1-Math.pow(t-1,2));default:return t}}function gT(t,e,i,r,n,s){const a={bounced:!1};return e.min>=r.min&&e.min<=r.max&&e.max>=r.min&&e.max<=r.max&&(t.max>=i.min&&t.max<=(i.max+i.min)/2&&n>0||t.min<=i.max&&t.min>(i.max+i.min)/2&&n<0)&&(a.velocity=n*-s,a.bounced=!0),a}function yT(t,e){if(e instanceof Array){for(const i of e)if(t.matches(i))return!0;return!1}else return t.matches(e)}function $r(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function Q1(){return $r()?t=>setTimeout(t):t=>(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.setTimeout)(t)}function Y1(){return $r()?t=>clearTimeout(t):t=>(window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout)(t)}function We(t,e){return t===e||e instanceof Array&&e.indexOf(t)>-1}async function av(t){var e,i;try{await document.fonts.load(`${(e=t.weight)!==null&&e!==void 0?e:"400"} 36px '${(i=t.font)!==null&&i!==void 0?i:"Verdana"}'`)}catch{}}function J1(t){return Math.floor(Math.random()*t.length)}function Rt(t,e,i=!0){const r=e!==void 0&&i?e%t.length:J1(t);return t[r]}function Ma(t,e,i,r){return Z1(Ha(t,i??0),e,r)}function Z1(t,e,i){let r=!0;return(!i||i==="bottom")&&(r=t.top<e.height),r&&(!i||i==="left")&&(r=t.right>0),r&&(!i||i==="right")&&(r=t.left<e.width),r&&(!i||i==="top")&&(r=t.bottom>0),r}function Ha(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Ge(t,...e){for(const i of e){if(i==null)continue;if(typeof i!="object"){t=i;continue}const r=Array.isArray(i);r&&(typeof t!="object"||!t||!Array.isArray(t))?t=[]:!r&&(typeof t!="object"||!t||Array.isArray(t))&&(t={});for(const n in i){if(n==="__proto__")continue;const a=i[n],o=typeof a=="object",l=t;l[n]=o&&Array.isArray(a)?a.map(u=>Ge(l[n],u)):Ge(l[n],a)}}return t}function Jf(t,e){return e instanceof Array?!!e.find(i=>i.enable&&We(t,i.mode)):We(t,e.mode)}function Zf(t,e,i){if(e instanceof Array)for(const r of e){const n=r.mode;r.enable&&We(t,n)&&ov(r,i)}else{const r=e.mode;e.enable&&We(t,r)&&ov(e,i)}}function ov(t,e){const i=t.selectors;if(i instanceof Array)for(const r of i)e(r,t);else e(i,t)}function u0(t,e){if(!(!e||!t)){if(t instanceof Array)return t.find(i=>yT(e,i.selectors));if(yT(e,t.selectors))return t}}function Qd(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:$e.create(Ms(t.options.bounce.horizontal),Ms(t.options.bounce.vertical))}}function c0(t,e){const{x:i,y:r}=t.velocity.sub(e.velocity),[n,s]=[t.position,e.position],{dx:a,dy:o}=Gt(s,n);if(i*a+r*o>=0){const l=-Math.atan2(o,a),u=t.mass,c=e.mass,d=t.velocity.rotate(l),f=e.velocity.rotate(l),p=sv(d,f,u,c),g=sv(f,d,u,c),b=p.rotate(-l),y=g.rotate(-l);t.velocity.x=b.x*t.factor.x,t.velocity.y=b.y*t.factor.y,e.velocity.x=y.x*e.factor.x,e.velocity.y=y.y*e.factor.y}}function eE(t,e){const i=t.getPosition(),r=t.getRadius(),n=Ha(i,r),s=gT({min:n.left,max:n.right},{min:n.top,max:n.bottom},{min:e.left,max:e.right},{min:e.top,max:e.bottom},t.velocity.x,Ms(t.options.bounce.horizontal));s.bounced&&(s.velocity!==void 0&&(t.velocity.x=s.velocity),s.position!==void 0&&(t.position.x=s.position));const a=gT({min:n.top,max:n.bottom},{min:n.left,max:n.right},{min:e.top,max:e.bottom},{min:e.left,max:e.right},t.velocity.y,Ms(t.options.bounce.vertical));a.bounced&&(a.velocity!==void 0&&(t.velocity.y=a.velocity),a.position!==void 0&&(t.position.y=a.position))}function gp(t,e,i){let r=i;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function tE(t){if(t.startsWith("rgb")){const i=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.]+)\s*)?\)/i.exec(t);return i?{a:i.length>4?parseFloat(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}else if(t.startsWith("hsl")){const i=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i.exec(t);return i?rE({a:i.length>4?parseFloat(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}else if(t.startsWith("hsv")){const i=/hsva?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i.exec(t);return i?aE({a:i.length>4?parseFloat(i[5]):1,h:parseInt(i[1],10),s:parseInt(i[2],10),v:parseInt(i[3],10)}):void 0}else{const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,i=t.replace(e,(s,a,o,l,u)=>a+a+o+o+l+l+(u!==void 0?u+u:"")),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(i);return n?{a:n[4]!==void 0?parseInt(n[4],16)/255:1,b:parseInt(n[3],16),g:parseInt(n[2],16),r:parseInt(n[1],16)}:void 0}}function ci(t,e,i=!0){var r,n,s;if(t===void 0)return;const a=typeof t=="string"?{value:t}:t;let o;if(typeof a.value=="string")a.value===Ee.randomColorValue?o=p0():o=nE(a.value);else if(a.value instanceof Array){const l=Rt(a.value,e,i);o=ci({value:l})}else{const l=a.value,u=(r=l.rgb)!==null&&r!==void 0?r:a.value;if(u.r!==void 0)o=u;else{const c=(n=l.hsl)!==null&&n!==void 0?n:a.value;if(c.h!==void 0&&c.l!==void 0)o=Wa(c);else{const d=(s=l.hsv)!==null&&s!==void 0?s:a.value;d.h!==void 0&&d.v!==void 0&&(o=h0(d))}}}return o}function tr(t,e,i=!0){const r=ci(t,e,i);return r!==void 0?d0(r):void 0}function d0(t){const e=t.r/255,i=t.g/255,r=t.b/255,n=Math.max(e,i,r),s=Math.min(e,i,r),a={h:0,l:(n+s)/2,s:0};return n!=s&&(a.s=a.l<.5?(n-s)/(n+s):(n-s)/(2-n-s),a.h=e===n?(i-r)/(n-s):a.h=i===n?2+(r-e)/(n-s):4+(e-i)/(n-s)),a.l*=100,a.s*=100,a.h*=60,a.h<0&&(a.h+=360),a}function iE(t){var e;return(e=tE(t))===null||e===void 0?void 0:e.a}function nE(t){return tE(t)}function Wa(t){const e={b:0,g:0,r:0},i={h:t.h/360,l:t.l/100,s:t.s/100};if(i.s===0)e.b=i.l,e.g=i.l,e.r=i.l;else{const r=i.l<.5?i.l*(1+i.s):i.l+i.s-i.l*i.s,n=2*i.l-r;e.r=gp(n,r,i.h+1/3),e.g=gp(n,r,i.h),e.b=gp(n,r,i.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function rE(t){const e=Wa(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function sE(t){const e=t.l/100,i=t.s/100,r=e+i*Math.min(e,1-e),n=r?2*(1-e/r):0;return{h:t.h,s:n*100,v:r*100}}function yR(t){const e=sE(t);return{a:t.a,h:e.h,s:e.s,v:e.v}}function f0(t){const e=t.v/100,i=t.s/100,r=e*(1-i/2),n=r===0||r===1?0:(e-r)/Math.min(r,1-r);return{h:t.h,l:r*100,s:n*100}}function _R(t){const e=f0(t);return{a:t.a,h:e.h,l:e.l,s:e.s}}function h0(t){const e={b:0,g:0,r:0},i={h:t.h/60,s:t.s/100,v:t.v/100},r=i.v*i.s,n=r*(1-Math.abs(i.h%2-1));let s;if(i.h>=0&&i.h<=1?s={r,g:n,b:0}:i.h>1&&i.h<=2?s={r:n,g:r,b:0}:i.h>2&&i.h<=3?s={r:0,g:r,b:n}:i.h>3&&i.h<=4?s={r:0,g:n,b:r}:i.h>4&&i.h<=5?s={r:n,g:0,b:r}:i.h>5&&i.h<=6&&(s={r,g:0,b:n}),s){const a=i.v-r;e.r=Math.floor((s.r+a)*255),e.g=Math.floor((s.g+a)*255),e.b=Math.floor((s.b+a)*255)}return e}function aE(t){const e=h0(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function oE(t){const e={r:t.r/255,g:t.g/255,b:t.b/255},i=Math.max(e.r,e.g,e.b),r=Math.min(e.r,e.g,e.b),n=i,s=i-r;let a=0;n===e.r?a=60*((e.g-e.b)/s):n===e.g?a=60*(2+(e.b-e.r)/s):n===e.b&&(a=60*(4+(e.r-e.g)/s));const o=n?s/n:0;return{h:a,s:o*100,v:n*100}}function bR(t){const e=oE(t);return{a:t.a,h:e.h,s:e.s,v:e.v}}function p0(t){const e=t??0;return{b:Math.floor($t(xe(e,256))),g:Math.floor($t(xe(e,256))),r:Math.floor($t(xe(e,256)))}}function Bi(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function or(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function TR(t,e){return or(f0(t),e)}function eh(t,e,i,r){let n=t,s=e;return n.r===void 0&&(n=Wa(t)),s.r===void 0&&(s=Wa(e)),{b:rd(n.b,s.b,i,r),g:rd(n.g,s.g,i,r),r:rd(n.r,s.r,i,r)}}function Yd(t,e,i){var r,n;if(i===Ee.randomColorValue)return p0();if(i==="mid"){const s=(r=t.getFillColor())!==null&&r!==void 0?r:t.getStrokeColor(),a=(n=e?.getFillColor())!==null&&n!==void 0?n:e?.getStrokeColor();if(s&&a&&e)return eh(s,a,t.getRadius(),e.getRadius());{const o=s??a;if(o)return Wa(o)}}else return i}function m0(t,e,i){const r=typeof t=="string"?t:t.value;return r===Ee.randomColorValue?i?ci({value:r}):e?Ee.randomColorValue:Ee.midColorValue:ci({value:r})}function lv(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function v0(t,e,i){const r={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(yp(r.h,e.h,i),yp(r.s,e.s,i),yp(r.l,e.l,i)),r}function yp(t,e,i){if(t.enable=e.enable,t.enable){if(t.velocity=be(e.speed)/100*i,e.sync)return;t.status=0,t.velocity*=Math.random(),t.value&&(t.value*=Math.random())}else t.velocity=0}function Fl(t,e,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.closePath()}function xR(t,e,i,r){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.lineTo(r.x,r.y),t.closePath()}function lE(t,e,i){t.save(),t.fillStyle=i??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height),t.restore()}function sd(t,e){t.clearRect(0,0,e.width,e.height)}function uE(t,e,i,r,n,s,a,o,l,u,c,d){let f=!1;if(ht(i,r)<=n)Fl(t,i,r),f=!0;else if(a){let p,g;const b={x:r.x-s.width,y:r.y},y=Gt(i,b);if(y.distance<=n){const T=i.y-y.dy/y.dx*i.x;p={x:0,y:T},g={x:s.width,y:T}}else{const T={x:r.x,y:r.y-s.height},w=Gt(i,T);if(w.distance<=n){const P=-(i.y-w.dy/w.dx*i.x)/(w.dy/w.dx);p={x:P,y:0},g={x:P,y:s.height}}else{const O={x:r.x-s.width,y:r.y-s.height},P=Gt(i,O);if(P.distance<=n){const F=i.y-P.dy/P.dx*i.x;p={x:-F/(P.dy/P.dx),y:F},g={x:p.x+s.width,y:p.y+s.height}}}}p&&g&&(Fl(t,i,p),Fl(t,r,g),f=!0)}if(!!f){if(t.lineWidth=e,o&&(t.globalCompositeOperation=l),t.strokeStyle=Bi(u,c),d.enable){const p=ci(d.color);p&&(t.shadowBlur=d.blur,t.shadowColor=Bi(p))}t.stroke()}}function cE(t,e,i,r,n,s,a,o){xR(t,e,i,r),n&&(t.globalCompositeOperation=s),t.fillStyle=Bi(a,o),t.fill()}function dE(t,e,i,r,n){t.save(),Fl(t,r,n),t.lineWidth=e,t.strokeStyle=i,t.stroke(),t.restore()}function fE(t,e,i,r){const n=Math.floor(i.getRadius()/e.getRadius()),s=e.getFillColor(),a=i.getFillColor();if(!s||!a)return;const o=e.getPosition(),l=i.getPosition(),u=eh(s,a,e.getRadius(),i.getRadius()),c=t.createLinearGradient(o.x,o.y,l.x,l.y);return c.addColorStop(0,or(s,r)),c.addColorStop(n>1?1:n,Bi(u,r)),c.addColorStop(1,or(a,r)),c}function hE(t,e,i,r,n,s){t.save(),Fl(t,i,r),t.strokeStyle=Bi(n,s),t.lineWidth=e,t.stroke(),t.restore()}function pE(t,e,i,r,n,s,a,o,l,u,c,d){var f,p,g,b,y,T;const w=i.getPosition(),O=i.options.tilt,P=i.options.roll;if(e.save(),O.enable||P.enable){const E=P.enable&&i.roll,k=O.enable&&i.tilt,A=E&&(P.mode==="horizontal"||P.mode==="both"),U=E&&(P.mode==="vertical"||P.mode==="both");e.setTransform(A?Math.cos(i.roll.angle):1,k?Math.cos(i.tilt.value)*i.tilt.cosDirection:0,k?Math.sin(i.tilt.value)*i.tilt.sinDirection:0,U?Math.sin(i.roll.angle):1,w.x,w.y)}else e.translate(w.x,w.y);e.beginPath();const F=((p=(f=i.rotate)===null||f===void 0?void 0:f.value)!==null&&p!==void 0?p:0)+(i.options.rotate.path?i.velocity.angle:0);F!==0&&e.rotate(F),a&&(e.globalCompositeOperation=o);const L=i.shadowColor;if(c.enable&&L&&(e.shadowBlur=c.blur,e.shadowColor=Bi(L),e.shadowOffsetX=c.offset.x,e.shadowOffsetY=c.offset.y),d){const E=d.angle.value,k=d.type==="radial"?e.createRadialGradient(0,0,0,0,0,l):e.createLinearGradient(Math.cos(E)*-l,Math.sin(E)*-l,Math.cos(E)*l,Math.sin(E)*l);for(const A of d.colors)k.addColorStop(A.stop,or({h:A.value.h.value,s:A.value.s.value,l:A.value.l.value},(b=(g=A.opacity)===null||g===void 0?void 0:g.value)!==null&&b!==void 0?b:u));e.fillStyle=k}else n&&(e.fillStyle=n);const R=i.stroke;e.lineWidth=(y=i.strokeWidth)!==null&&y!==void 0?y:0,s&&(e.strokeStyle=s),mE(t,e,i,l,u,r),((T=R?.width)!==null&&T!==void 0?T:0)>0&&e.stroke(),i.close&&e.closePath(),i.fill&&e.fill(),e.restore(),e.save(),O.enable&&i.tilt?e.setTransform(1,Math.cos(i.tilt.value)*i.tilt.cosDirection,Math.sin(i.tilt.value)*i.tilt.sinDirection,1,w.x,w.y):e.translate(w.x,w.y),F!==0&&e.rotate(F),a&&(e.globalCompositeOperation=o),vE(t,e,i,l,u,r),e.restore()}function mE(t,e,i,r,n,s){if(!i.shape)return;const a=t.drawers.get(i.shape);!a||a.draw(e,i,r,n,s,t.retina.pixelRatio)}function vE(t,e,i,r,n,s){if(!i.shape)return;const a=t.drawers.get(i.shape);!a?.afterEffect||a.afterEffect(e,i,r,n,s,t.retina.pixelRatio)}function gE(t,e,i){!e.draw||(t.save(),e.draw(t,i),t.restore())}function yE(t,e,i,r){e.drawParticle!==void 0&&(t.save(),e.drawParticle(t,i,r),t.restore())}function SR(t,e,i,r,n,s,a,o,l){const u=e.getPosition();if(i&&(t.strokeStyle=or(i,n)),s===0)return;t.lineWidth=s;const c=a*Math.PI/180;t.beginPath(),t.ellipse(u.x,u.y,r/2,r*2,c,o,l),t.stroke()}function _E(t,e,i){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*i}}class g0{constructor(e,i){this.position={x:e,y:i}}}class Ei extends g0{constructor(e,i,r){super(e,i);this.radius=r}contains(e){return ht(e,this.position)<=this.radius}intersects(e){const i=e,r=e,n=this.position,s=e.position,a=Math.abs(s.x-n.x),o=Math.abs(s.y-n.y),l=this.radius;if(r.radius!==void 0){const u=l+r.radius,c=Math.sqrt(a*a+o+o);return u>c}else if(i.size!==void 0){const u=i.size.width,c=i.size.height,d=Math.pow(a-u,2)+Math.pow(o-c,2);return a>l+u||o>l+c?!1:a<=u||o<=c?!0:d<=l*l}return!1}}class Fi extends g0{constructor(e,i,r,n){super(e,i);this.size={height:n,width:r}}contains(e){const i=this.size.width,r=this.size.height,n=this.position;return e.x>=n.x&&e.x<=n.x+i&&e.y>=n.y&&e.y<=n.y+r}intersects(e){const i=e,r=e,n=this.size.width,s=this.size.height,a=this.position,o=e.position;if(r.radius!==void 0)return r.intersects(this);if(i.size!==void 0){const l=i.size,u=l.width,c=l.height;return o.x<a.x+n&&o.x+u>a.x&&o.y<a.y+s&&o.y+c>a.y}return!1}}class y0 extends Ei{constructor(e,i,r,n){super(e,i,r);this.canvasSize=n,this.canvasSize={height:n.height,width:n.width}}contains(e){if(super.contains(e))return!0;const i={x:e.x-this.canvasSize.width,y:e.y};if(super.contains(i))return!0;const r={x:e.x-this.canvasSize.width,y:e.y-this.canvasSize.height};if(super.contains(r))return!0;const n={x:e.x,y:e.y-this.canvasSize.height};return super.contains(n)}intersects(e){if(super.intersects(e))return!0;const i=e,r=e,n={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(r.radius!==void 0){const s=new Ei(n.x,n.y,r.radius*2);return super.intersects(s)}else if(i.size!==void 0){const s=new Fi(n.x,n.y,i.size.width*2,i.size.height*2);return super.intersects(s)}return!1}}class Ee{}Ee.generatedAttribute="generated";Ee.randomColorValue="random";Ee.midColorValue="mid";Ee.touchEndEvent="touchend";Ee.mouseDownEvent="mousedown";Ee.mouseUpEvent="mouseup";Ee.mouseMoveEvent="mousemove";Ee.touchStartEvent="touchstart";Ee.touchMoveEvent="touchmove";Ee.mouseLeaveEvent="mouseleave";Ee.mouseOutEvent="mouseout";Ee.touchCancelEvent="touchcancel";Ee.resizeEvent="resize";Ee.visibilityChangeEvent="visibilitychange";Ee.noPolygonDataLoaded="No polygon data loaded.";Ee.noPolygonFound="No polygon found, you need to specify SVG url in config.";function Wi(t,e,i,r,n){if(r){let s={passive:!0};typeof n=="boolean"?s.capture=n:n!==void 0&&(s=n),t.addEventListener(e,i,s)}else{const s=n;t.removeEventListener(e,i,s)}}class bE{constructor(e){this.container=e,this.canPush=!0,this.mouseMoveHandler=i=>this.mouseTouchMove(i),this.touchStartHandler=i=>this.mouseTouchMove(i),this.touchMoveHandler=i=>this.mouseTouchMove(i),this.touchEndHandler=()=>this.mouseTouchFinish(),this.mouseLeaveHandler=()=>this.mouseTouchFinish(),this.touchCancelHandler=()=>this.mouseTouchFinish(),this.touchEndClickHandler=i=>this.mouseTouchClick(i),this.mouseUpHandler=i=>this.mouseTouchClick(i),this.mouseDownHandler=()=>this.mouseDown(),this.visibilityChangeHandler=()=>this.handleVisibilityChange(),this.themeChangeHandler=i=>this.handleThemeChange(i),this.oldThemeChangeHandler=i=>this.handleThemeChange(i),this.resizeHandler=()=>this.handleWindowResize()}addListeners(){this.manageListeners(!0)}removeListeners(){this.manageListeners(!1)}manageListeners(e){var i;const r=this.container,n=r.actualOptions,s=n.interactivity.detectsOn;let a=Ee.mouseLeaveEvent;if(s==="window")r.interactivity.element=window,a=Ee.mouseOutEvent;else if(s==="parent"&&r.canvas.element){const c=r.canvas.element;r.interactivity.element=(i=c.parentElement)!==null&&i!==void 0?i:c.parentNode}else r.interactivity.element=r.canvas.element;const o=!$r()&&typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)");o&&(o.addEventListener!==void 0?Wi(o,"change",this.themeChangeHandler,e):o.addListener!==void 0&&(e?o.addListener(this.oldThemeChangeHandler):o.removeListener(this.oldThemeChangeHandler)));const l=r.interactivity.element;if(!l)return;const u=l;(n.interactivity.events.onHover.enable||n.interactivity.events.onClick.enable)&&(Wi(l,Ee.mouseMoveEvent,this.mouseMoveHandler,e),Wi(l,Ee.touchStartEvent,this.touchStartHandler,e),Wi(l,Ee.touchMoveEvent,this.touchMoveHandler,e),n.interactivity.events.onClick.enable?(Wi(l,Ee.touchEndEvent,this.touchEndClickHandler,e),Wi(l,Ee.mouseUpEvent,this.mouseUpHandler,e),Wi(l,Ee.mouseDownEvent,this.mouseDownHandler,e)):Wi(l,Ee.touchEndEvent,this.touchEndHandler,e),Wi(l,a,this.mouseLeaveHandler,e),Wi(l,Ee.touchCancelEvent,this.touchCancelHandler,e)),r.canvas.element&&(r.canvas.element.style.pointerEvents=u===r.canvas.element?"initial":"none"),n.interactivity.events.resize&&(typeof ResizeObserver<"u"?this.resizeObserver&&!e?(r.canvas.element&&this.resizeObserver.unobserve(r.canvas.element),this.resizeObserver.disconnect(),delete this.resizeObserver):!this.resizeObserver&&e&&r.canvas.element&&(this.resizeObserver=new ResizeObserver(c=>{!c.find(f=>f.target===r.canvas.element)||this.handleWindowResize()}),this.resizeObserver.observe(r.canvas.element)):Wi(window,Ee.resizeEvent,this.resizeHandler,e)),document&&Wi(document,Ee.visibilityChangeEvent,this.visibilityChangeHandler,e,!1)}handleWindowResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),delete this.resizeTimeout),this.resizeTimeout=setTimeout(async()=>{var e;return await((e=this.container.canvas)===null||e===void 0?void 0:e.windowResize())},500)}handleVisibilityChange(){const e=this.container,i=e.actualOptions;this.mouseTouchFinish(),i.pauseOnBlur&&(document?.hidden?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))}mouseDown(){const e=this.container.interactivity;if(e){const i=e.mouse;i.clicking=!0,i.downPosition=i.position}}mouseTouchMove(e){var i,r,n,s,a,o,l;const u=this.container,c=u.actualOptions;if(((i=u.interactivity)===null||i===void 0?void 0:i.element)===void 0)return;u.interactivity.mouse.inside=!0;let d;const f=u.canvas.element;if(e.type.startsWith("mouse")){this.canPush=!0;const g=e;if(u.interactivity.element===window){if(f){const b=f.getBoundingClientRect();d={x:g.clientX-b.left,y:g.clientY-b.top}}}else if(c.interactivity.detectsOn==="parent"){const b=g.target,y=g.currentTarget,T=u.canvas.element;if(b&&y&&T){const w=b.getBoundingClientRect(),O=y.getBoundingClientRect(),P=T.getBoundingClientRect();d={x:g.offsetX+2*w.left-(O.left+P.left),y:g.offsetY+2*w.top-(O.top+P.top)}}else d={x:(r=g.offsetX)!==null&&r!==void 0?r:g.clientX,y:(n=g.offsetY)!==null&&n!==void 0?n:g.clientY}}else g.target===u.canvas.element&&(d={x:(s=g.offsetX)!==null&&s!==void 0?s:g.clientX,y:(a=g.offsetY)!==null&&a!==void 0?a:g.clientY})}else{this.canPush=e.type!=="touchmove";const g=e,b=g.touches[g.touches.length-1],y=f?.getBoundingClientRect();d={x:b.clientX-((o=y?.left)!==null&&o!==void 0?o:0),y:b.clientY-((l=y?.top)!==null&&l!==void 0?l:0)}}const p=u.retina.pixelRatio;d&&(d.x*=p,d.y*=p),u.interactivity.mouse.position=d,u.interactivity.status=Ee.mouseMoveEvent}mouseTouchFinish(){const e=this.container.interactivity;if(e===void 0)return;const i=e.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,e.status=Ee.mouseLeaveEvent,i.inside=!1,i.clicking=!1}mouseTouchClick(e){const i=this.container,r=i.actualOptions,n=i.interactivity.mouse;n.inside=!0;let s=!1;const a=n.position;if(!(a===void 0||!r.interactivity.events.onClick.enable)){for(const[,o]of i.plugins)if(o.clickPositionValid!==void 0&&(s=o.clickPositionValid(a),s))break;s||this.doMouseTouchClick(e),n.clicking=!1}}doMouseTouchClick(e){const i=this.container,r=i.actualOptions;if(this.canPush){const n=i.interactivity.mouse.position;if(n)i.interactivity.mouse.clickPosition={x:n.x,y:n.y};else return;i.interactivity.mouse.clickTime=new Date().getTime();const s=r.interactivity.events.onClick;if(s.mode instanceof Array)for(const a of s.mode)this.handleClickMode(a);else this.handleClickMode(s.mode)}e.type==="touchend"&&setTimeout(()=>this.mouseTouchFinish(),500)}handleThemeChange(e){const r=e.matches?this.container.options.defaultDarkTheme:this.container.options.defaultLightTheme,n=this.container.options.themes.find(s=>s.name===r);n&&n.default.auto&&this.container.loadTheme(r)}handleClickMode(e){const i=this.container,r=i.actualOptions,n=r.interactivity.modes.push.quantity,s=r.interactivity.modes.remove.quantity;switch(e){case"push":{if(n>0){const a=r.interactivity.modes.push,o=Rt([void 0,...a.groups]),l=o!==void 0?i.actualOptions.particles.groups[o]:void 0;i.particles.push(n,i.interactivity.mouse,l,o)}break}case"remove":i.particles.removeQuantity(s);break;case"bubble":i.bubble.clicking=!0;break;case"repulse":i.repulse.clicking=!0,i.repulse.count=0;for(const a of i.repulse.particles)a.velocity.setTo(a.initialVelocity);i.repulse.particles=[],i.repulse.finish=!1,setTimeout(()=>{i.destroyed||(i.repulse.clicking=!1)},r.interactivity.modes.repulse.duration*1e3);break;case"attract":i.attract.clicking=!0,i.attract.count=0;for(const a of i.attract.particles)a.velocity.setTo(a.initialVelocity);i.attract.particles=[],i.attract.finish=!1,setTimeout(()=>{i.destroyed||(i.attract.clicking=!1)},r.interactivity.modes.attract.duration*1e3);break;case"pause":i.getAnimationStatus()?i.pause():i.play();break}for(const[,a]of i.plugins)a.handleClickMode&&a.handleClickMode(e)}}class Zr{constructor(e){this.container=e,this.type=0}}class TE{constructor(e){this.container=e}async nextFrame(e){var i;try{const r=this.container;if(r.lastFrameTime!==void 0&&e<r.lastFrameTime+1e3/r.fpsLimit){r.draw(!1);return}(i=r.lastFrameTime)!==null&&i!==void 0||(r.lastFrameTime=e);const n=e-r.lastFrameTime,s={value:n,factor:60*n/1e3};if(r.lifeTime+=s.value,r.lastFrameTime=e,n>1e3){r.draw(!1);return}if(await r.particles.draw(s),r.duration>0&&r.lifeTime>r.duration){r.destroy();return}r.getAnimationStatus()&&r.draw(!1)}catch(r){console.error("tsParticles error in animation loop",r)}}}var wR=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},ER=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},ad;class xE{constructor(e,i){this.container=i,ad.set(this,void 0),wR(this,ad,e,"f"),this.externalInteractors=[],this.particleInteractors=[],this.init()}init(){const e=ER(this,ad,"f").plugins.getInteractors(this.container,!0);this.externalInteractors=[],this.particleInteractors=[];for(const i of e)switch(i.type){case 0:this.externalInteractors.push(i);break;case 1:this.particleInteractors.push(i);break}}async externalInteract(e){for(const i of this.externalInteractors)i.isEnabled()&&await i.interact(e)}async particlesInteract(e,i){for(const r of this.externalInteractors)r.reset(e);for(const r of this.particleInteractors)r.isEnabled(e)&&await r.interact(e,i)}}ad=new WeakMap;class th{constructor(e){this.container=e,this.type=1}}function CR(t){const e=t.initialPosition,{dx:i,dy:r}=Gt(e,t.position),n=Math.abs(i),s=Math.abs(r),a=t.retina.maxDistance.horizontal,o=t.retina.maxDistance.vertical;if(!(!a&&!o)){if((a&&n>=a||o&&s>=o)&&!t.misplaced)t.misplaced=!!a&&n>a||!!o&&s>o,a&&(t.velocity.x=t.velocity.y/2-t.velocity.x),o&&(t.velocity.y=t.velocity.x/2-t.velocity.y);else if((!a||n<a)&&(!o||s<o)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const l=t.position,u=t.velocity;a&&(l.x<e.x&&u.x<0||l.x>e.x&&u.x>0)&&(u.x*=-Math.random()),o&&(l.y<e.y&&u.y<0||l.y>e.y&&u.y>0)&&(u.y*=-Math.random())}}}class SE{constructor(e){this.container=e}move(e,i){e.destroyed||(this.moveParticle(e,i),this.moveParallax(e))}moveParticle(e,i){var r,n,s,a,o;const l=e.options,u=l.move;if(!u.enable)return;const c=this.container,d=this.getProximitySpeedFactor(e),f=((r=(a=e.retina).moveSpeed)!==null&&r!==void 0?r:a.moveSpeed=be(u.speed)*c.retina.pixelRatio)*c.retina.reduceFactor,p=(n=(o=e.retina).moveDrift)!==null&&n!==void 0?n:o.moveDrift=be(e.options.move.drift)*c.retina.pixelRatio,g=Qi(l.size.value)*c.retina.pixelRatio,b=u.size?e.getRadius()/g:1,y=2,T=b*d*(i.factor||1)/y,w=f*T;this.applyPath(e,i);const O=e.gravity,P=O.enable&&O.inverse?-1:1;O.enable&&w&&(e.velocity.y+=P*(O.acceleration*i.factor)/(60*w)),p&&w&&(e.velocity.x+=p*i.factor/(60*w));const F=e.moveDecay;F!=1&&e.velocity.multTo(F);const L=e.velocity.mult(w),R=(s=e.retina.maxSpeed)!==null&&s!==void 0?s:c.retina.maxSpeed;O.enable&&R>0&&(!O.inverse&&L.y>=0&&L.y>=R||O.inverse&&L.y<=0&&L.y<=-R)&&(L.y=P*R,w&&(e.velocity.y=L.y/w));const E=e.options.zIndex,k=(1-e.zIndexFactor)**E.velocityRate;u.spin.enable?this.spin(e,w):(k!=1&&L.multTo(k),e.position.addTo(L),u.vibrate&&(e.position.x+=Math.sin(e.position.x*Math.cos(e.position.y)),e.position.y+=Math.cos(e.position.y*Math.sin(e.position.x)))),CR(e)}spin(e,i){const r=this.container;if(!e.spin)return;const n={x:e.spin.direction==="clockwise"?Math.cos:Math.sin,y:e.spin.direction==="clockwise"?Math.sin:Math.cos};e.position.x=e.spin.center.x+e.spin.radius*n.x(e.spin.angle),e.position.y=e.spin.center.y+e.spin.radius*n.y(e.spin.angle),e.spin.radius+=e.spin.acceleration;const s=Math.max(r.canvas.size.width,r.canvas.size.height);e.spin.radius>s/2?(e.spin.radius=s/2,e.spin.acceleration*=-1):e.spin.radius<0&&(e.spin.radius=0,e.spin.acceleration*=-1),e.spin.angle+=i/100*(1-e.spin.radius/s)}applyPath(e,i){const n=e.options.move.path;if(!n.enable)return;const a=this.container;if(e.lastPathTime<=e.pathDelay){e.lastPathTime+=i.value;return}const o=a.pathGenerator.generate(e);e.velocity.addTo(o),n.clamp&&(e.velocity.x=tn(e.velocity.x,-1,1),e.velocity.y=tn(e.velocity.y,-1,1)),e.lastPathTime-=e.pathDelay}moveParallax(e){const i=this.container,r=i.actualOptions;if($r()||!r.interactivity.events.onHover.parallax.enable)return;const n=r.interactivity.events.onHover.parallax.force,s=i.interactivity.mouse.position;if(!s)return;const a={x:i.canvas.size.width/2,y:i.canvas.size.height/2},o=r.interactivity.events.onHover.parallax.smooth,l=e.getRadius()/n,u={x:(s.x-a.x)*l,y:(s.y-a.y)*l};e.offset.x+=(u.x-e.offset.x)/o,e.offset.y+=(u.y-e.offset.y)/o}getProximitySpeedFactor(e){const i=this.container,r=i.actualOptions;if(!We("slow",r.interactivity.events.onHover.mode))return 1;const s=this.container.interactivity.mouse.position;if(!s)return 1;const a=e.getPosition(),o=ht(s,a),l=i.retina.slowModeRadius;if(o>l)return 1;const u=o/l||0,c=r.interactivity.modes.slow.factor;return u/c}}var kR=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},uv;class wE{constructor(e){uv.set(this,void 0),kR(this,uv,e,"f"),this.plugins=[],this.interactorsInitializers=new Map,this.updatersInitializers=new Map,this.interactors=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}getPlugin(e){return this.plugins.find(i=>i.id===e)}addPlugin(e){this.getPlugin(e.id)||this.plugins.push(e)}getAvailablePlugins(e){const i=new Map;for(const r of this.plugins)!r.needsPlugin(e.actualOptions)||i.set(r.id,r.getPlugin(e));return i}loadOptions(e,i){for(const r of this.plugins)r.loadOptions(e,i)}getPreset(e){return this.presets.get(e)}addPreset(e,i,r=!1){(r||!this.getPreset(e))&&this.presets.set(e,i)}addShapeDrawer(e,i){this.getShapeDrawer(e)||this.drawers.set(e,i)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getPathGenerator(e){return this.pathGenerators.get(e)}addPathGenerator(e,i){this.getPathGenerator(e)||this.pathGenerators.set(e,i)}getInteractors(e,i=!1){let r=this.interactors.get(e);return(!r||i)&&(r=[...this.interactorsInitializers.values()].map(n=>n(e)),this.interactors.set(e,r)),r}addInteractor(e,i){this.interactorsInitializers.set(e,i)}getUpdaters(e,i=!1){let r=this.updaters.get(e);return(!r||i)&&(r=[...this.updatersInitializers.values()].map(n=>n(e)),this.updaters.set(e,r)),r}addParticleUpdater(e,i){this.updatersInitializers.set(e,i)}}uv=new WeakMap;class EE{constructor(e,i){this.position=e,this.particle=i}}class kr{constructor(e,i){this.rectangle=e,this.capacity=i,this.points=[],this.divided=!1}subdivide(){const e=this.rectangle.position.x,i=this.rectangle.position.y,r=this.rectangle.size.width,n=this.rectangle.size.height,s=this.capacity;this.northEast=new kr(new Fi(e,i,r/2,n/2),s),this.northWest=new kr(new Fi(e+r/2,i,r/2,n/2),s),this.southEast=new kr(new Fi(e,i+n/2,r/2,n/2),s),this.southWest=new kr(new Fi(e+r/2,i+n/2,r/2,n/2),s),this.divided=!0}insert(e){var i,r,n,s,a;return this.rectangle.contains(e.position)?this.points.length<this.capacity?(this.points.push(e),!0):(this.divided||this.subdivide(),(a=((i=this.northEast)===null||i===void 0?void 0:i.insert(e))||((r=this.northWest)===null||r===void 0?void 0:r.insert(e))||((n=this.southEast)===null||n===void 0?void 0:n.insert(e))||((s=this.southWest)===null||s===void 0?void 0:s.insert(e)))!==null&&a!==void 0?a:!1):!1}queryCircle(e,i){return this.query(new Ei(e.x,e.y,i))}queryCircleWarp(e,i,r){const n=r,s=r;return this.query(new y0(e.x,e.y,i,n.canvas!==void 0?n.canvas.size:s))}queryRectangle(e,i){return this.query(new Fi(e.x,e.y,i.width,i.height))}query(e,i){var r,n,s,a;const o=i??[];if(e.intersects(this.rectangle)){for(const l of this.points)!e.contains(l.position)&&ht(e.position,l.position)>l.particle.getRadius()||o.push(l.particle);this.divided&&((r=this.northEast)===null||r===void 0||r.query(e,o),(n=this.northWest)===null||n===void 0||n.query(e,o),(s=this.southEast)===null||s===void 0||s.query(e,o),(a=this.southWest)===null||a===void 0||a.query(e,o))}else return[];return o}}class $e{constructor(e,i){let r,n;if(i===void 0){if(typeof e=="number")throw new Error("tsParticles - Vector not initialized correctly");const s=e;[r,n]=[s.x,s.y]}else[r,n]=[e,i];this.x=r,this.y=n}static clone(e){return $e.create(e.x,e.y)}static create(e,i){return new $e(e,i)}static get origin(){return $e.create(0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this.updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.x**2+this.y**2)}set length(e){this.updateFromAngle(this.angle,e)}add(e){return $e.create(this.x+e.x,this.y+e.y)}addTo(e){this.x+=e.x,this.y+=e.y}sub(e){return $e.create(this.x-e.x,this.y-e.y)}subFrom(e){this.x-=e.x,this.y-=e.y}mult(e){return $e.create(this.x*e,this.y*e)}multTo(e){this.x*=e,this.y*=e}div(e){return $e.create(this.x/e,this.y/e)}divTo(e){this.x/=e,this.y/=e}distanceTo(e){return this.sub(e).length}getLengthSq(){return this.x**2+this.y**2}distanceToSq(e){return this.sub(e).getLengthSq()}manhattanDistanceTo(e){return Math.abs(e.x-this.x)+Math.abs(e.y-this.y)}copy(){return $e.clone(this)}setTo(e){this.x=e.x,this.y=e.y}rotate(e){return $e.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e))}updateFromAngle(e,i){this.x=Math.cos(e)*i,this.y=Math.sin(e)*i}}class jt extends $e{constructor(e,i,r){super(e,i);this.z=r===void 0?e.z:r}static clone(e){return jt.create(e.x,e.y,e.z)}static create(e,i,r){return new jt(e,i,r)}add(e){return e instanceof jt?jt.create(this.x+e.x,this.y+e.y,this.z+e.z):super.add(e)}addTo(e){super.addTo(e),e instanceof jt&&(this.z+=e.z)}sub(e){return e instanceof jt?jt.create(this.x-e.x,this.y-e.y,this.z-e.z):super.sub(e)}subFrom(e){super.subFrom(e),e instanceof jt&&(this.z-=e.z)}mult(e){return jt.create(this.x*e,this.y*e,this.z*e)}multTo(e){super.multTo(e),this.z*=e}div(e){return jt.create(this.x/e,this.y/e,this.z/e)}divTo(e){super.divTo(e),this.z/=e}copy(){return jt.clone(this)}setTo(e){super.setTo(e),e instanceof jt&&(this.z=e.z)}}class CE{constructor(e){this.container=e,this.size={height:0,width:0},this.context=null,this.generatedCanvas=!1}init(){this.resize(),this.initStyle(),this.initCover(),this.initTrail(),this.initBackground(),this.paint()}loadCanvas(e){var i;this.generatedCanvas&&((i=this.element)===null||i===void 0||i.remove()),this.generatedCanvas=e.dataset&&Ee.generatedAttribute in e.dataset?e.dataset[Ee.generatedAttribute]==="true":this.generatedCanvas,this.element=e,this.originalStyle=Ge({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this.context=this.element.getContext("2d"),this.container.retina.init(),this.initBackground()}destroy(){var e;this.generatedCanvas&&((e=this.element)===null||e===void 0||e.remove()),this.draw(i=>{sd(i,this.size)})}paint(){const e=this.container.actualOptions;this.draw(i=>{e.backgroundMask.enable&&e.backgroundMask.cover?(sd(i,this.size),this.paintBase(this.coverColorStyle)):this.paintBase()})}clear(){const e=this.container.actualOptions,i=e.particles.move.trail;e.backgroundMask.enable?this.paint():i.enable&&i.length>0&&this.trailFillColor?this.paintBase(Bi(this.trailFillColor,1/i.length)):this.draw(r=>{sd(r,this.size)})}async windowResize(){if(!this.element)return;const e=this.container;this.resize();const i=e.updateActualOptions();e.particles.setDensity();for(const[,r]of e.plugins)r.resize!==void 0&&r.resize();i&&await e.refresh()}resize(){if(!this.element)return;const e=this.container,i=e.retina.pixelRatio,r=e.canvas.size,n={width:this.element.offsetWidth*i,height:this.element.offsetHeight*i};if(n.height===r.height&&n.width===r.width&&n.height===this.element.height&&n.width===this.element.width)return;const s=Object.assign({},r);this.element.width=r.width=this.element.offsetWidth*i,this.element.height=r.height=this.element.offsetHeight*i,this.container.started&&(this.resizeFactor={width:r.width/s.width,height:r.height/s.height})}drawConnectLine(e,i){this.draw(r=>{var n;const s=this.lineStyle(e,i);if(!s)return;const a=e.getPosition(),o=i.getPosition();dE(r,(n=e.retina.linksWidth)!==null&&n!==void 0?n:this.container.retina.linksWidth,s,a,o)})}drawGrabLine(e,i,r,n){const s=this.container;this.draw(a=>{var o;const l=e.getPosition();hE(a,(o=e.retina.linksWidth)!==null&&o!==void 0?o:s.retina.linksWidth,l,n,i,r)})}drawParticle(e,i){var r,n,s,a,o,l;if(e.spawning||e.destroyed)return;const u=e.getFillColor(),c=(r=e.getStrokeColor())!==null&&r!==void 0?r:u;if(!u&&!c)return;let[d,f]=this.getPluginParticleColors(e);const g=e.options.twinkle.particles,b=g.enable&&Math.random()<g.frequency;if(!d||!f){const E=tr(g.color);d||(d=b&&E!==void 0?E:u||void 0),f||(f=b&&E!==void 0?E:c||void 0)}const y=this.container.actualOptions,T=e.options.zIndex,w=(1-e.zIndexFactor)**T.opacityRate,O=e.getRadius(),P=b?be(g.opacity):(a=(n=e.bubble.opacity)!==null&&n!==void 0?n:(s=e.opacity)===null||s===void 0?void 0:s.value)!==null&&a!==void 0?a:1,F=(l=(o=e.stroke)===null||o===void 0?void 0:o.opacity)!==null&&l!==void 0?l:P,L=P*w,R=d?or(d,L):void 0;!R&&!f||this.draw(E=>{const k=(1-e.zIndexFactor)**T.sizeRate,A=F*w,U=f?or(f,A):R;if(O<=0)return;const z=this.container;for(const H of z.particles.updaters)H.beforeDraw&&H.beforeDraw(e);pE(this.container,E,e,i,R,U,y.backgroundMask.enable,y.backgroundMask.composite,O*k,L,e.options.shadow,e.gradient);for(const H of z.particles.updaters)H.afterDraw&&H.afterDraw(e)})}drawPlugin(e,i){this.draw(r=>{gE(r,e,i)})}drawParticlePlugin(e,i,r){this.draw(n=>{yE(n,e,i,r)})}initBackground(){const i=this.container.actualOptions.background,r=this.element,n=r?.style;if(!!n){if(i.color){const s=ci(i.color);n.backgroundColor=s?Bi(s,i.opacity):""}else n.backgroundColor="";n.backgroundImage=i.image||"",n.backgroundPosition=i.position||"",n.backgroundRepeat=i.repeat||"",n.backgroundSize=i.size||""}}draw(e){if(!!this.context)return e(this.context)}initCover(){const i=this.container.actualOptions.backgroundMask.cover,r=i.color,n=ci(r);if(n){const s={r:n.r,g:n.g,b:n.b,a:i.opacity};this.coverColorStyle=Bi(s,s.a)}}initTrail(){const e=this.container.actualOptions,i=e.particles.move.trail,r=ci(i.fillColor);if(r){const n=e.particles.move.trail;this.trailFillColor={r:r.r,g:r.g,b:r.b,a:1/n.length}}}getPluginParticleColors(e){let i,r;for(const[,n]of this.container.plugins)if(!i&&n.particleFillColor&&(i=tr(n.particleFillColor(e))),!r&&n.particleStrokeColor&&(r=tr(n.particleStrokeColor(e))),i&&r)break;return[i,r]}initStyle(){const e=this.element,i=this.container.actualOptions;if(!e)return;const r=this.originalStyle;i.fullScreen.enable?(this.originalStyle=Ge({},e.style),e.style.setProperty("position","fixed","important"),e.style.setProperty("z-index",i.fullScreen.zIndex.toString(10),"important"),e.style.setProperty("top","0","important"),e.style.setProperty("left","0","important"),e.style.setProperty("width","100%","important"),e.style.setProperty("height","100%","important")):r&&(e.style.position=r.position,e.style.zIndex=r.zIndex,e.style.top=r.top,e.style.left=r.left,e.style.width=r.width,e.style.height=r.height);for(const n in i.style){if(!n||!i.style)continue;const s=i.style[n];!s||e.style.setProperty(n,s,"important")}}paintBase(e){this.draw(i=>{lE(i,this.size,e)})}lineStyle(e,i){return this.draw(r=>{const s=this.container.actualOptions.interactivity.modes.connect;return fE(r,e,i,s.links.opacity)})}}class Ue{constructor(){this.value="#fff"}static create(e,i){const r=new Ue;return r.load(e),i!==void 0&&(typeof i=="string"||i instanceof Array?r.load({value:i}):r.load(i)),r}load(e){e?.value!==void 0&&(this.value=e.value)}}class PR{constructor(){this.color=new Ue,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e!==void 0&&(e.color!==void 0&&(this.color=Ue.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class OR{constructor(){this.color=new Ue,this.opacity=1}load(e){e!==void 0&&(e.color!==void 0&&(this.color=Ue.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class AR{constructor(){this.composite="destination-out",this.cover=new OR,this.enable=!1}load(e){if(e!==void 0){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const i=e.cover,r=typeof e.cover=="string"?{color:e.cover}:e.cover;this.cover.load(i.color!==void 0?i:{color:r})}e.enable!==void 0&&(this.enable=e.enable)}}}class IR{constructor(){this.enable=!0,this.zIndex=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class DR{constructor(){this.enable=!1,this.mode=[]}load(e){e!==void 0&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class _p{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get elementId(){return this.ids}set elementId(e){this.ids=e}get el(){return this.elementId}set el(e){this.elementId=e}get ids(){return this.selectors instanceof Array?this.selectors.map(e=>e.replace("#","")):this.selectors.replace("#","")}set ids(e){this.selectors=e instanceof Array?e.map(i=>`#${i}`):`#${e}`}load(e){var i,r;if(e===void 0)return;const n=(r=(i=e.ids)!==null&&i!==void 0?i:e.elementId)!==null&&r!==void 0?r:e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class MR{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e!==void 0&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class LR{constructor(){this.enable=!1,this.mode=[],this.parallax=new MR}load(e){e!==void 0&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class RR{constructor(){this.onClick=new DR,this.onDiv=new _p,this.onHover=new LR,this.resize=!0}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){var i,r,n;if(e===void 0)return;this.onClick.load((i=e.onClick)!==null&&i!==void 0?i:e.onclick);const s=(r=e.onDiv)!==null&&r!==void 0?r:e.ondiv;s!==void 0&&(s instanceof Array?this.onDiv=s.map(a=>{const o=new _p;return o.load(a),o}):(this.onDiv=new _p,this.onDiv.load(s))),this.onHover.load((n=e.onHover)!==null&&n!==void 0?n:e.onhover),e.resize!==void 0&&(this.resize=e.resize)}}class FR{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){!e||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}class NR{constructor(){this.distance=200}load(e){!e||e.distance!==void 0&&(this.distance=e.distance)}}class kE{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){e!==void 0&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0&&(e.color instanceof Array?this.color=e.color.map(i=>Ue.create(void 0,i)):(this.color instanceof Array&&(this.color=new Ue),this.color=Ue.create(this.color,e.color))),e.size!==void 0&&(this.size=e.size))}}class _T extends kE{constructor(){super();this.selectors=[]}get ids(){return this.selectors instanceof Array?this.selectors.map(e=>e.replace("#","")):this.selectors.replace("#","")}set ids(e){this.selectors=e instanceof Array?e.map(i=>`#${i}`):`#${e}`}load(e){super.load(e),e!==void 0&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class UR extends kE{load(e){super.load(e),e!==void 0&&e.divs!==void 0&&(e.divs instanceof Array?this.divs=e.divs.map(i=>{const r=new _T;return r.load(i),r}):((this.divs instanceof Array||!this.divs)&&(this.divs=new _T),this.divs.load(e.divs)))}}class BR{constructor(){this.opacity=.5}load(e){e!==void 0&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class zR{constructor(){this.distance=80,this.links=new BR,this.radius=60}get line_linked(){return this.links}set line_linked(e){this.links=e}get lineLinked(){return this.links}set lineLinked(e){this.links=e}load(e){var i,r;e!==void 0&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load((r=(i=e.links)!==null&&i!==void 0?i:e.lineLinked)!==null&&r!==void 0?r:e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}class jR{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e!==void 0&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Ue.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class VR{constructor(){this.distance=100,this.links=new jR}get line_linked(){return this.links}set line_linked(e){this.links=e}get lineLinked(){return this.links}set lineLinked(e){this.links=e}load(e){var i,r;e!==void 0&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load((r=(i=e.links)!==null&&i!==void 0?i:e.lineLinked)!==null&&r!==void 0?r:e.line_linked))}}class HR{constructor(){this.start=new Ue,this.stop=new Ue,this.start.value="#ffffff",this.stop.value="#000000"}load(e){e!==void 0&&(this.start=Ue.create(this.start,e.start),this.stop=Ue.create(this.stop,e.stop))}}class WR{constructor(){this.gradient=new HR,this.radius=1e3}load(e){e!==void 0&&(this.gradient.load(e.gradient),e.radius!==void 0&&(this.radius=e.radius))}}class qR{constructor(){this.color=new Ue,this.color.value="#000000",this.length=2e3}load(e){e!==void 0&&(this.color=Ue.create(this.color,e.color),e.length!==void 0&&(this.length=e.length))}}class $R{constructor(){this.area=new WR,this.shadow=new qR}load(e){e!==void 0&&(this.area.load(e.area),this.shadow.load(e.shadow))}}class GR{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var i;if(e===void 0)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(n=>n)),this.groups.length||(this.default=!0);const r=(i=e.quantity)!==null&&i!==void 0?i:e.particles_nb;r!==void 0&&(this.quantity=r)}}class XR{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var i;if(e===void 0)return;const r=(i=e.quantity)!==null&&i!==void 0?i:e.particles_nb;r!==void 0&&(this.quantity=r)}}class PE{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){!e||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class bT extends PE{constructor(){super();this.selectors=[]}get ids(){return this.selectors instanceof Array?this.selectors.map(e=>e.replace("#","")):this.selectors.replace("#","")}set ids(e){e instanceof Array?this.selectors=e.map(()=>`#${e}`):this.selectors=`#${e}`}load(e){super.load(e),e!==void 0&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class KR extends PE{load(e){super.load(e),e?.divs!==void 0&&(e.divs instanceof Array?this.divs=e.divs.map(i=>{const r=new bT;return r.load(i),r}):((this.divs instanceof Array||!this.divs)&&(this.divs=new bT),this.divs.load(e.divs)))}}class QR{constructor(){this.factor=3,this.radius=200}get active(){return!1}set active(e){}load(e){e!==void 0&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class YR{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=Ge({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}class JR{constructor(){this.attract=new FR,this.bounce=new NR,this.bubble=new UR,this.connect=new zR,this.grab=new VR,this.light=new $R,this.push=new GR,this.remove=new XR,this.repulse=new KR,this.slow=new QR,this.trail=new YR}load(e){e!==void 0&&(this.attract.load(e.attract),this.bubble.load(e.bubble),this.connect.load(e.connect),this.grab.load(e.grab),this.light.load(e.light),this.push.load(e.push),this.remove.load(e.remove),this.repulse.load(e.repulse),this.slow.load(e.slow),this.trail.load(e.trail))}}class ZR{constructor(){this.detectsOn="window",this.events=new RR,this.modes=new JR}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){var i,r,n;if(e===void 0)return;const s=(i=e.detectsOn)!==null&&i!==void 0?i:e.detect_on;s!==void 0&&(this.detectsOn=s),this.events.load(e.events),this.modes.load(e.modes),((n=(r=e.modes)===null||r===void 0?void 0:r.slow)===null||n===void 0?void 0:n.active)===!0&&(this.events.onHover.mode instanceof Array?this.events.onHover.mode.indexOf("slow")<0&&this.events.onHover.mode.push("slow"):this.events.onHover.mode!=="slow"&&(this.events.onHover.mode=[this.events.onHover.mode,"slow"]))}}class e2{load(e){var i,r;!e||(e.position!==void 0&&(this.position={x:(i=e.position.x)!==null&&i!==void 0?i:50,y:(r=e.position.y)!==null&&r!==void 0?r:50}),e.options!==void 0&&(this.options=Ge({},e.options)))}}class t2{constructor(){this.factor=4,this.value=!0}load(e){!e||(e.factor!==void 0&&(this.factor=e.factor),e.value!==void 0&&(this.value=e.value))}}class i2{constructor(){this.disable=!1,this.reduce=new t2}load(e){!e||(e.disable!==void 0&&(this.disable=e.disable),this.reduce.load(e.reduce))}}class bp{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.sync=!0}load(e){e!==void 0&&(e.count!==void 0&&(this.count=xe(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=xe(e.offset)),e.speed!==void 0&&(this.speed=xe(e.speed)),e.sync!==void 0&&(this.sync=e.sync))}}class n2{constructor(){this.h=new bp,this.s=new bp,this.l=new bp}load(e){!e||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Gr extends Ue{constructor(){super();this.animation=new n2}static create(e,i){const r=new Gr;return r.load(e),i!==void 0&&(typeof i=="string"||i instanceof Array?r.load({value:i}):r.load(i)),r}load(e){if(super.load(e),!e)return;const i=e.animation;i!==void 0&&(i.enable!==void 0?this.animation.h.load(i):this.animation.load(e.animation))}}class TT{constructor(){this.angle=new r2,this.colors=[],this.type="random"}load(e){!e||(this.angle.load(e.angle),e.colors!==void 0&&(this.colors=e.colors.map(i=>{const r=new a2;return r.load(i),r})),e.type!==void 0&&(this.type=e.type))}}class r2{constructor(){this.value=0,this.animation=new o2,this.direction="clockwise"}load(e){!e||(this.animation.load(e.animation),e.value!==void 0&&(this.value=e.value),e.direction!==void 0&&(this.direction=e.direction))}}class s2{constructor(){this.value=0,this.animation=new l2}load(e){!e||(this.animation.load(e.animation),e.value!==void 0&&(this.value=xe(e.value)))}}class a2{constructor(){this.stop=0,this.value=new Gr}load(e){!e||(e.stop!==void 0&&(this.stop=e.stop),this.value=Gr.create(this.value,e.value),e.opacity!==void 0&&(this.opacity=new s2,typeof e.opacity=="number"?this.opacity.value=e.opacity:this.opacity.load(e.opacity)))}}class o2{constructor(){this.count=0,this.enable=!1,this.speed=0,this.sync=!1}load(e){!e||(e.count!==void 0&&(this.count=xe(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=xe(e.speed)),e.sync!==void 0&&(this.sync=e.sync))}}class l2{constructor(){this.count=0,this.enable=!1,this.speed=0,this.sync=!1,this.startValue="random"}load(e){!e||(e.count!==void 0&&(this.count=xe(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=xe(e.speed)),e.sync!==void 0&&(this.sync=e.sync),e.startValue!==void 0&&(this.startValue=e.startValue))}}class u2{constructor(){this.enable=!1,this.minimumValue=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class Pi{constructor(){this.random=new u2,this.value=0}load(e){!e||(typeof e.random=="boolean"?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=xe(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class xT extends Pi{constructor(){super();this.random.minimumValue=.1,this.value=1}}class OE{constructor(){this.horizontal=new xT,this.vertical=new xT}load(e){!e||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class c2{constructor(){this.enable=!0,this.retries=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class d2{constructor(){this.bounce=new OE,this.enable=!1,this.mode="bounce",this.overlap=new c2}load(e){e!==void 0&&(this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class f2 extends Pi{constructor(){super();this.value=3}}class h2 extends Pi{constructor(){super();this.value={min:4,max:9}}}class p2{constructor(){this.count=1,this.factor=new f2,this.rate=new h2,this.sizeOffset=!0}load(e){!e||(e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),e.particles!==void 0&&(this.particles=Ge({},e.particles)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset))}}class m2{constructor(){this.mode="none",this.split=new p2}load(e){!e||(e.mode!==void 0&&(this.mode=e.mode),this.split.load(e.split))}}class v2 extends Pi{constructor(){super();this.sync=!1}load(e){!e||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class g2 extends Pi{constructor(){super();this.random.minimumValue=1e-4,this.sync=!1}load(e){e!==void 0&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class y2{constructor(){this.count=0,this.delay=new v2,this.duration=new g2}load(e){e!==void 0&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class _2{constructor(){this.blur=5,this.color=new Ue,this.enable=!1,this.color.value="#00ff00"}load(e){e!==void 0&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Ue.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class b2{constructor(){this.enable=!1,this.frequency=1}load(e){e!==void 0&&(e.color!==void 0&&(this.color=Ue.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class T2{constructor(){this.blink=!1,this.color=new Ue,this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new _2,this.triangles=new b2,this.width=1,this.warp=!1}load(e){e!==void 0&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Ue.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}class x2{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var i,r,n,s;if(!e)return;e.distance!==void 0&&(this.distance=xe(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const a=(r=(i=e.rotate)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:e.rotateX;a!==void 0&&(this.rotate.x=a);const o=(s=(n=e.rotate)===null||n===void 0?void 0:n.y)!==null&&s!==void 0?s:e.rotateY;o!==void 0&&(this.rotate.y=o)}}class S2{constructor(){this.offset=0,this.value=90}load(e){e!==void 0&&(e.offset!==void 0&&(this.offset=xe(e.offset)),e.value!==void 0&&(this.value=xe(e.value)))}}class w2{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){!e||(e.acceleration!==void 0&&(this.acceleration=xe(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=xe(e.maxSpeed)))}}class E2{constructor(){this.default="out"}load(e){var i,r,n,s;!e||(e.default!==void 0&&(this.default=e.default),this.bottom=(i=e.bottom)!==null&&i!==void 0?i:e.default,this.left=(r=e.left)!==null&&r!==void 0?r:e.default,this.right=(n=e.right)!==null&&n!==void 0?n:e.default,this.top=(s=e.top)!==null&&s!==void 0?s:e.default)}}class C2 extends Pi{constructor(){super()}}class k2{constructor(){this.clamp=!0,this.delay=new C2,this.enable=!1,this.options={}}load(e){e!==void 0&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Ge(this.options,e.options)))}}class P2{constructor(){this.acceleration=0,this.enable=!1}load(e){!e||(e.acceleration!==void 0&&(this.acceleration=xe(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),this.position=e.position?Ge({},e.position):void 0)}}class O2{constructor(){this.enable=!1,this.length=10,this.fillColor=new Ue,this.fillColor.value="#000000"}load(e){e!==void 0&&(e.enable!==void 0&&(this.enable=e.enable),this.fillColor=Ue.create(this.fillColor,e.fillColor),e.length!==void 0&&(this.length=e.length))}}class A2{constructor(){this.angle=new S2,this.attract=new x2,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new w2,this.path=new k2,this.outModes=new E2,this.random=!1,this.size=!1,this.speed=2,this.spin=new P2,this.straight=!1,this.trail=new O2,this.vibrate=!1,this.warp=!1}get collisions(){return!1}set collisions(e){}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get noise(){return this.path}set noise(e){this.path=e}load(e){var i,r,n;if(e===void 0)return;e.angle!==void 0&&(typeof e.angle=="number"?this.angle.value=e.angle:this.angle.load(e.angle)),this.attract.load(e.attract),e.decay!==void 0&&(this.decay=e.decay),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=typeof e.distance=="number"?{horizontal:e.distance,vertical:e.distance}:Ge({},e.distance)),e.drift!==void 0&&(this.drift=xe(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const s=(i=e.outMode)!==null&&i!==void 0?i:e.out_mode;(e.outModes!==void 0||s!==void 0)&&(typeof e.outModes=="string"||e.outModes===void 0&&s!==void 0?this.outModes.load({default:(r=e.outModes)!==null&&r!==void 0?r:s}):this.outModes.load(e.outModes)),this.path.load((n=e.path)!==null&&n!==void 0?n:e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=xe(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class _0{constructor(){this.count=0,this.enable=!1,this.speed=1,this.sync=!1}load(e){!e||(e.count!==void 0&&(this.count=xe(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=xe(e.speed)),e.sync!==void 0&&(this.sync=e.sync))}}class I2 extends _0{constructor(){super();this.destroy="none",this.enable=!1,this.speed=2,this.startValue="random",this.sync=!1}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){var i;e!==void 0&&(super.load(e),e.destroy!==void 0&&(this.destroy=e.destroy),e.enable!==void 0&&(this.enable=e.enable),this.minimumValue=(i=e.minimumValue)!==null&&i!==void 0?i:e.opacity_min,e.speed!==void 0&&(this.speed=e.speed),e.startValue!==void 0&&(this.startValue=e.startValue),e.sync!==void 0&&(this.sync=e.sync))}}class D2 extends Pi{constructor(){super();this.animation=new I2,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var i;if(!e)return;super.load(e);const r=(i=e.animation)!==null&&i!==void 0?i:e.anim;r!==void 0&&(this.animation.load(r),this.value=xe(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class M2 extends Pi{constructor(){super();this.value=45,this.random.enable=!1,this.random.minimumValue=0}load(e){e!==void 0&&super.load(e)}}class L2{constructor(){this.animation=new _0,this.enable=!1,this.opacity=1,this.rotation=new M2,this.width=1}load(e){e!==void 0&&(this.animation.load(e.animation),this.rotation.load(e.rotation),e.enable!==void 0&&(this.enable=e.enable),e.opacity!==void 0&&(this.opacity=xe(e.opacity)),e.width!==void 0&&(this.width=xe(e.width)),e.radius!==void 0&&(this.radius=xe(e.radius)),e.color!==void 0&&(this.color=Ue.create(this.color,e.color)))}}class R2{constructor(){this.enable=!1,this.area=800,this.factor=1e3}get value_area(){return this.area}set value_area(e){this.area=e}load(e){var i;if(e===void 0)return;e.enable!==void 0&&(this.enable=e.enable);const r=(i=e.area)!==null&&i!==void 0?i:e.value_area;r!==void 0&&(this.area=r),e.factor!==void 0&&(this.factor=e.factor)}}class F2{constructor(){this.density=new R2,this.limit=0,this.value=100}get max(){return this.limit}set max(e){this.limit=e}load(e){var i;if(e===void 0)return;this.density.load(e.density);const r=(i=e.limit)!==null&&i!==void 0?i:e.max;r!==void 0&&(this.limit=r),e.value!==void 0&&(this.value=e.value)}}class N2 extends Pi{constructor(){super();this.enabled=!1,this.distance=1,this.duration=1,this.factor=1,this.speed=1}load(e){super.load(e),e&&(e.enabled!==void 0&&(this.enabled=e.enabled),e.distance!==void 0&&(this.distance=xe(e.distance)),e.duration!==void 0&&(this.duration=xe(e.duration)),e.factor!==void 0&&(this.factor=xe(e.factor)),e.speed!==void 0&&(this.speed=xe(e.speed)))}}class ST{constructor(){this.enable=!1,this.value=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=xe(e.value)))}}class U2{constructor(){this.darken=new ST,this.enable=!1,this.enlighten=new ST,this.mode="vertical",this.speed=25}load(e){!e||(e.backColor!==void 0&&(this.backColor=Ue.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=xe(e.speed)))}}class B2{constructor(){this.enable=!1,this.speed=0,this.sync=!1}load(e){e!==void 0&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=xe(e.speed)),e.sync!==void 0&&(this.sync=e.sync))}}class z2 extends Pi{constructor(){super();this.animation=new B2,this.direction="clockwise",this.path=!1,this.value=0}load(e){!e||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}class j2{constructor(){this.blur=0,this.color=new Ue,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000000"}load(e){e!==void 0&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Ue.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class AE{constructor(){this.options={},this.type="circle"}get image(){var e;return(e=this.options.image)!==null&&e!==void 0?e:this.options.images}set image(e){this.options.image=e,this.options.images=e}get custom(){return this.options}set custom(e){this.options=e}get images(){return this.image}set images(e){this.image=e}get stroke(){return[]}set stroke(e){}get character(){var e;return(e=this.options.character)!==null&&e!==void 0?e:this.options.char}set character(e){this.options.character=e,this.options.char=e}get polygon(){var e;return(e=this.options.polygon)!==null&&e!==void 0?e:this.options.star}set polygon(e){this.options.polygon=e,this.options.star=e}load(e){var i,r,n;if(e===void 0)return;const s=(i=e.options)!==null&&i!==void 0?i:e.custom;if(s!==void 0)for(const a in s){const o=s[a];o!==void 0&&(this.options[a]=Ge((r=this.options[a])!==null&&r!==void 0?r:{},o))}this.loadShape(e.character,"character","char",!0),this.loadShape(e.polygon,"polygon","star",!1),this.loadShape((n=e.image)!==null&&n!==void 0?n:e.images,"image","images",!0),e.type!==void 0&&(this.type=e.type)}loadShape(e,i,r,n){var s,a,o,l;e!==void 0&&(e instanceof Array?(this.options[i]instanceof Array||(this.options[i]=[],(!this.options[r]||n)&&(this.options[r]=[])),this.options[i]=Ge((s=this.options[i])!==null&&s!==void 0?s:[],e),(!this.options[r]||n)&&(this.options[r]=Ge((a=this.options[r])!==null&&a!==void 0?a:[],e))):(this.options[i]instanceof Array&&(this.options[i]={},(!this.options[r]||n)&&(this.options[r]={})),this.options[i]=Ge((o=this.options[i])!==null&&o!==void 0?o:{},e),(!this.options[r]||n)&&(this.options[r]=Ge((l=this.options[r])!==null&&l!==void 0?l:{},e))))}}class V2 extends _0{constructor(){super();this.destroy="none",this.enable=!1,this.speed=5,this.startValue="random",this.sync=!1}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){var i;e!==void 0&&(super.load(e),e.destroy!==void 0&&(this.destroy=e.destroy),e.enable!==void 0&&(this.enable=e.enable),this.minimumValue=(i=e.minimumValue)!==null&&i!==void 0?i:e.size_min,e.speed!==void 0&&(this.speed=e.speed),e.startValue!==void 0&&(this.startValue=e.startValue),e.sync!==void 0&&(this.sync=e.sync))}}class H2 extends Pi{constructor(){super();this.animation=new V2,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var i;if(!e)return;super.load(e);const r=(i=e.animation)!==null&&i!==void 0?i:e.anim;r!==void 0&&(this.animation.load(r),this.value=xe(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class Tp{constructor(){this.width=0}load(e){e!==void 0&&(e.color!==void 0&&(this.color=Gr.create(this.color,e.color)),e.width!==void 0&&(this.width=e.width),e.opacity!==void 0&&(this.opacity=e.opacity))}}class W2{constructor(){this.enable=!1,this.speed=0,this.sync=!1}load(e){e!==void 0&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=xe(e.speed)),e.sync!==void 0&&(this.sync=e.sync))}}class q2 extends Pi{constructor(){super();this.animation=new W2,this.direction="clockwise",this.enable=!1,this.value=0}load(e){!e||(super.load(e),this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}class wT{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){e!==void 0&&(e.color!==void 0&&(this.color=Ue.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=xe(e.opacity)))}}class $2{constructor(){this.lines=new wT,this.particles=new wT}load(e){e!==void 0&&(this.lines.load(e.lines),this.particles.load(e.particles))}}class G2{constructor(){this.distance=5,this.enable=!1,this.speed=50}load(e){!e||(e.distance!==void 0&&(this.distance=xe(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=xe(e.speed)))}}class X2 extends Pi{constructor(){super();this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class b0{constructor(){this.bounce=new OE,this.collisions=new d2,this.color=new Gr,this.destroy=new m2,this.gradient=[],this.groups={},this.life=new y2,this.links=new T2,this.move=new A2,this.number=new F2,this.opacity=new D2,this.orbit=new L2,this.reduceDuplicates=!1,this.repulse=new N2,this.roll=new U2,this.rotate=new z2,this.shadow=new j2,this.shape=new AE,this.size=new H2,this.stroke=new Tp,this.tilt=new q2,this.twinkle=new $2,this.wobble=new G2,this.zIndex=new X2}get line_linked(){return this.links}set line_linked(e){this.links=e}get lineLinked(){return this.links}set lineLinked(e){this.links=e}load(e){var i,r,n,s,a,o,l,u;if(e===void 0)return;this.bounce.load(e.bounce),this.color.load(Gr.create(this.color,e.color)),this.destroy.load(e.destroy),this.life.load(e.life);const c=(r=(i=e.links)!==null&&i!==void 0?i:e.lineLinked)!==null&&r!==void 0?r:e.line_linked;if(c!==void 0&&this.links.load(c),e.groups!==void 0)for(const g in e.groups){const b=e.groups[g];b!==void 0&&(this.groups[g]=Ge((n=this.groups[g])!==null&&n!==void 0?n:{},b))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.orbit.load(e.orbit),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.repulse.load(e.repulse),this.roll.load(e.roll),this.rotate.load(e.rotate),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.tilt.load(e.tilt),this.twinkle.load(e.twinkle),this.wobble.load(e.wobble),this.zIndex.load(e.zIndex);const d=(a=(s=e.move)===null||s===void 0?void 0:s.collisions)!==null&&a!==void 0?a:(o=e.move)===null||o===void 0?void 0:o.bounce;d!==void 0&&(this.collisions.enable=d),this.collisions.load(e.collisions);const f=(l=e.stroke)!==null&&l!==void 0?l:(u=e.shape)===null||u===void 0?void 0:u.stroke;f&&(f instanceof Array?this.stroke=f.map(g=>{const b=new Tp;return b.load(g),b}):(this.stroke instanceof Array&&(this.stroke=new Tp),this.stroke.load(f)));const p=e.gradient;p&&(p instanceof Array?this.gradient=p.map(g=>{const b=new TT;return b.load(g),b}):(this.gradient instanceof Array&&(this.gradient=new TT),this.gradient.load(p)))}}class K2{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){!e||(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Ge({},e.options)))}}class Q2{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){!e||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class Y2{constructor(){this.name="",this.default=new Q2}load(e){e!==void 0&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Ge({},e.options)))}}var J2=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},$o=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},ll,ul,od;class Go{constructor(e){ll.add(this),ul.set(this,void 0),J2(this,ul,e,"f"),this.autoPlay=!0,this.background=new PR,this.backgroundMask=new AR,this.fullScreen=new IR,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new ZR,this.manualParticles=[],this.motion=new i2,this.particles=new b0,this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.style={},this.themes=[],this.zLayers=100}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}load(e){var i,r,n,s,a;if(e===void 0)return;if(e.preset!==void 0)if(e.preset instanceof Array)for(const c of e.preset)this.importPreset(c);else this.importPreset(e.preset);e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay);const o=(i=e.detectRetina)!==null&&i!==void 0?i:e.retina_detect;o!==void 0&&(this.detectRetina=o),e.duration!==void 0&&(this.duration=e.duration);const l=(r=e.fpsLimit)!==null&&r!==void 0?r:e.fps_limit;l!==void 0&&(this.fpsLimit=l),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const u=(n=e.fullScreen)!==null&&n!==void 0?n:e.backgroundMode;if(typeof u=="boolean"?this.fullScreen.enable=u:this.fullScreen.load(u),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles!==void 0&&(this.manualParticles=e.manualParticles.map(c=>{const d=new e2;return d.load(c),d})),this.motion.load(e.motion),this.particles.load(e.particles),this.style=Ge(this.style,e.style),$o(this,ul,"f").plugins.loadOptions(this,e),e.responsive!==void 0)for(const c of e.responsive){const d=new K2;d.load(c),this.responsive.push(d)}if(this.responsive.sort((c,d)=>c.maxWidth-d.maxWidth),e.themes!==void 0)for(const c of e.themes){const d=new Y2;d.load(c),this.themes.push(d)}this.defaultDarkTheme=(s=$o(this,ll,"m",od).call(this,"dark"))===null||s===void 0?void 0:s.name,this.defaultLightTheme=(a=$o(this,ll,"m",od).call(this,"light"))===null||a===void 0?void 0:a.name}setTheme(e){if(e){const i=this.themes.find(r=>r.name===e);i&&this.load(i.options)}else{const i=typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)"),r=i&&i.matches,n=$o(this,ll,"m",od).call(this,r?"dark":"light");n&&this.load(n.options)}}setResponsive(e,i,r){this.load(r);const n=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth*i>screen.availWidth:s.maxWidth*i>e);return this.load(n?.options),n?.maxWidth}importPreset(e){this.load($o(this,ul,"f").plugins.getPreset(e))}}ul=new WeakMap,ll=new WeakSet,od=function(e){var i;return(i=this.themes.find(r=>r.default.value&&r.default.mode===e))!==null&&i!==void 0?i:this.themes.find(r=>r.default.value&&r.default.mode==="any")};var Z2=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},eF=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},ld;const ET=t=>{(We(t.outMode,t.checkModes)||We(t.outMode,t.checkModes))&&(t.coord>t.maxCoord-t.radius*2?t.setCb(-t.radius):t.coord<t.radius*2&&t.setCb(t.radius))};class IE{constructor(e,i,r,n,s,a){var o,l,u,c,d,f,p,g,b;this.id=i,this.container=r,this.group=a,ld.set(this,void 0),Z2(this,ld,e,"f"),this.fill=!0,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.splitCount=0,this.misplaced=!1,this.retina={maxDistance:{}},this.ignoresResizeRatio=!0;const y=r.retina.pixelRatio,T=r.actualOptions,w=new b0;w.load(T.particles);const O=w.shape.type,P=w.reduceDuplicates;if(this.shape=O instanceof Array?Rt(O,this.id,P):O,s?.shape){if(s.shape.type){const G=s.shape.type;this.shape=G instanceof Array?Rt(G,this.id,P):G}const H=new AE;H.load(s.shape),this.shape&&(this.shapeData=this.loadShapeData(H,P))}else this.shapeData=this.loadShapeData(w.shape,P);s!==void 0&&w.load(s),((o=this.shapeData)===null||o===void 0?void 0:o.particles)!==void 0&&w.load((l=this.shapeData)===null||l===void 0?void 0:l.particles),this.fill=(c=(u=this.shapeData)===null||u===void 0?void 0:u.fill)!==null&&c!==void 0?c:this.fill,this.close=(f=(d=this.shapeData)===null||d===void 0?void 0:d.close)!==null&&f!==void 0?f:this.close,this.options=w,this.pathDelay=Ms(this.options.move.path.delay)*1e3;const F=be(this.options.zIndex.value);r.retina.initParticle(this);const L=this.options.size,R=L.value;this.size={enable:L.animation.enable,value:Ms(L)*r.retina.pixelRatio,max:Qi(R)*y,min:Ds(R)*y,loops:0,maxLoops:be(L.animation.count)};const E=L.animation;if(E.enable){switch(this.size.status=0,E.startValue){case"min":this.size.value=this.size.min,this.size.status=0;break;case"random":this.size.value=$t(this.size)*y,this.size.status=Math.random()>=.5?0:1;break;case"max":default:this.size.value=this.size.max,this.size.status=1;break}this.size.velocity=((p=this.retina.sizeAnimationSpeed)!==null&&p!==void 0?p:r.retina.sizeAnimationSpeed)/100*r.retina.reduceFactor,E.sync||(this.size.velocity*=Math.random())}this.direction=X1(this.options.move.direction),this.bubble={inRange:!1},this.initialVelocity=this.calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-be(this.options.move.decay);const k=this.options.move.gravity;this.gravity={enable:k.enable,acceleration:be(k.acceleration),inverse:k.inverse},this.position=this.calcPosition(r,n,tn(F,0,r.zLayers)),this.initialPosition=this.position.copy(),this.offset=$e.origin;const A=r.particles;A.needsSort=A.needsSort||A.lastZIndex<this.position.z,A.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/r.zLayers,this.sides=24;let U=r.drawers.get(this.shape);U||(U=eF(this,ld,"f").plugins.getShapeDrawer(this.shape),U&&r.drawers.set(this.shape,U)),U?.loadShape&&U?.loadShape(this);const z=U?.getSidesCount;if(z&&(this.sides=z(this)),this.life=this.loadLife(),this.spawning=this.life.delay>0,this.options.move.spin.enable){const H=(g=this.options.move.spin.position)!==null&&g!==void 0?g:{x:50,y:50},G={x:H.x/100*r.canvas.size.width,y:H.y/100*r.canvas.size.height},Q=this.getPosition(),ee=ht(Q,G);this.spin={center:G,direction:this.velocity.x>=0?"clockwise":"counter-clockwise",angle:this.velocity.angle,radius:ee,acceleration:(b=this.retina.spinAcceleration)!==null&&b!==void 0?b:be(this.options.move.spin.acceleration)}}this.shadowColor=ci(this.options.shadow.color);for(const H of r.particles.updaters)H.init&&H.init(this);U&&U.particleInit&&U.particleInit(r,this);for(const[,H]of r.plugins)H.particleCreated&&H.particleCreated(this)}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}isInsideCanvas(){const e=this.getRadius(),i=this.container.canvas.size;return this.position.x>=-e&&this.position.y>=-e&&this.position.y<=i.height+e&&this.position.x<=i.width+e}draw(e){const i=this.container;for(const[,r]of i.plugins)i.canvas.drawParticlePlugin(r,this,e);i.canvas.drawParticle(this,e)}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){var e;return(e=this.bubble.radius)!==null&&e!==void 0?e:this.size.value}getMass(){return this.getRadius()**2*Math.PI/2}getFillColor(){var e,i;const r=(e=this.bubble.color)!==null&&e!==void 0?e:lv(this.color);if(r&&this.roll&&(this.backColor||this.roll.alter)){const n=this.options.roll.mode==="both"?2:1,s=this.options.roll.mode==="horizontal"?Math.PI/2:0;if(Math.floor((((i=this.roll.angle)!==null&&i!==void 0?i:0)+s)/(Math.PI/n))%2){if(this.backColor)return this.backColor;if(this.roll.alter)return _E(r,this.roll.alter.type,this.roll.alter.value)}}return r}getStrokeColor(){var e,i;return(i=(e=this.bubble.color)!==null&&e!==void 0?e:lv(this.strokeColor))!==null&&i!==void 0?i:this.getFillColor()}destroy(e){if(this.destroyed=!0,this.bubble.inRange=!1,this.unbreakable)return;this.destroyed=!0,this.bubble.inRange=!1;for(const[,r]of this.container.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);if(e)return;this.options.destroy.mode==="split"&&this.split()}reset(){this.opacity&&(this.opacity.loops=0),this.size.loops=0}split(){const e=this.options.destroy.split;if(e.count>=0&&this.splitCount++>e.count)return;const i=be(e.rate.value);for(let r=0;r<i;r++)this.container.particles.addSplitParticle(this)}calcPosition(e,i,r,n=0){var s,a,o,l,u,c;for(const[,T]of e.plugins){const w=T.particlePosition!==void 0?T.particlePosition(i,this):void 0;if(w!==void 0)return jt.create(w.x,w.y,r)}const d=e.canvas.size,f=jt.create((s=i?.x)!==null&&s!==void 0?s:Math.random()*d.width,(a=i?.y)!==null&&a!==void 0?a:Math.random()*d.height,r),p=this.getRadius(),g=this.options.move.outModes,b=T=>{ET({outMode:T,checkModes:["bounce","bounce-horizontal"],coord:f.x,maxCoord:e.canvas.size.width,setCb:w=>f.x+=w,radius:p})},y=T=>{ET({outMode:T,checkModes:["bounce","bounce-vertical"],coord:f.y,maxCoord:e.canvas.size.height,setCb:w=>f.y+=w,radius:p})};return b((o=g.left)!==null&&o!==void 0?o:g.default),b((l=g.right)!==null&&l!==void 0?l:g.default),y((u=g.top)!==null&&u!==void 0?u:g.default),y((c=g.bottom)!==null&&c!==void 0?c:g.default),this.checkOverlap(f,n)?this.calcPosition(e,void 0,r,n+1):f}checkOverlap(e,i=0){const r=this.options.collisions,n=this.getRadius();if(!r.enable)return!1;const s=r.overlap;if(s.enable)return!1;const a=s.retries;if(a>=0&&i>a)throw new Error("Particle is overlapping and can't be placed");let o=!1;for(const l of this.container.particles.array)if(ht(e,l.position)<n+l.getRadius()){o=!0;break}return o}calculateVelocity(){const e=K1(this.direction),i=e.copy(),r=this.options.move,n=Math.PI/180*be(r.angle.value),s=Math.PI/180*be(r.angle.offset),a={left:s-n/2,right:s+n/2};return r.straight||(i.angle+=$t(xe(a.left,a.right))),r.random&&typeof r.speed=="number"&&(i.length*=Math.random()),i}loadShapeData(e,i){const r=e.options[this.shape];if(r)return Ge({},r instanceof Array?Rt(r,this.id,i):r)}loadLife(){const e=this.container,i=this.options,r=i.life,n={delay:e.retina.reduceFactor?be(r.delay.value)*(r.delay.sync?1:Math.random())/e.retina.reduceFactor*1e3:0,delayTime:0,duration:e.retina.reduceFactor?be(r.duration.value)*(r.duration.sync?1:Math.random())/e.retina.reduceFactor*1e3:0,time:0,count:i.life.count};return n.duration<=0&&(n.duration=-1),n.count<=0&&(n.count=-1),n}}ld=new WeakMap;var tF=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},Ac=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},ds;class DE{constructor(e,i){this.container=i,ds.set(this,void 0),tF(this,ds,e,"f"),this.nextId=0,this.array=[],this.zArray=[],this.mover=new SE(i),this.limit=0,this.needsSort=!1,this.lastZIndex=0,this.freqs={links:new Map,triangles:new Map},this.interactionManager=new xE(Ac(this,ds,"f"),i);const r=this.container.canvas.size;this.linksColors=new Map,this.quadTree=new kr(new Fi(-r.width/4,-r.height/4,r.width*3/2,r.height*3/2),4),this.updaters=Ac(this,ds,"f").plugins.getUpdaters(i,!0)}get count(){return this.array.length}init(){var e;const i=this.container,r=i.actualOptions;this.lastZIndex=0,this.needsSort=!1,this.freqs.links=new Map,this.freqs.triangles=new Map;let n=!1;this.updaters=Ac(this,ds,"f").plugins.getUpdaters(i,!0),this.interactionManager.init();for(const[,s]of i.plugins)if(s.particlesInitialization!==void 0&&(n=s.particlesInitialization()),n)break;if(this.addManualParticles(),!n){for(const s in r.particles.groups){const a=r.particles.groups[s];for(let o=this.count,l=0;l<((e=a.number)===null||e===void 0?void 0:e.value)&&o<r.particles.number.value;o++,l++)this.addParticle(void 0,a,s)}for(let s=this.count;s<r.particles.number.value;s++)this.addParticle()}i.pathGenerator.init(i)}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}removeAt(e,i=1,r,n){if(!(e>=0&&e<=this.count))return;let s=0;for(let a=e;s<i&&a<this.count;a++){const o=this.array[a];if(!o||o.group!==r)continue;o.destroy(n),this.array.splice(a--,1);const l=this.zArray.indexOf(o);this.zArray.splice(l,1),s++}}remove(e,i,r){this.removeAt(this.array.indexOf(e),void 0,i,r)}async update(e){const i=this.container,r=[];i.pathGenerator.update();for(const[,n]of i.plugins)n.update!==void 0&&n.update(e);for(const n of this.array){const s=i.canvas.resizeFactor;s&&!n.ignoresResizeRatio&&(n.position.x*=s.width,n.position.y*=s.height),n.ignoresResizeRatio=!1,n.bubble.inRange=!1;for(const[,a]of this.container.plugins){if(n.destroyed)break;a.particleUpdate&&a.particleUpdate(n,e)}if(this.mover.move(n,e),n.destroyed){r.push(n);continue}this.quadTree.insert(new EE(n.getPosition(),n))}for(const n of r)this.remove(n);await this.interactionManager.externalInteract(e);for(const n of i.particles.array){for(const s of this.updaters)s.update(n,e);!n.destroyed&&!n.spawning&&await this.interactionManager.particlesInteract(n,e)}delete i.canvas.resizeFactor}async draw(e){const i=this.container,r=this.container.canvas.size;this.quadTree=new kr(new Fi(-r.width/4,-r.height/4,r.width*3/2,r.height*3/2),4),i.canvas.clear(),await this.update(e),this.needsSort&&(this.zArray.sort((n,s)=>s.position.z-n.position.z||n.id-s.id),this.lastZIndex=this.zArray[this.zArray.length-1].position.z,this.needsSort=!1);for(const[,n]of i.plugins)i.canvas.drawPlugin(n,e);for(const n of this.zArray)n.draw(e)}clear(){this.array=[],this.zArray=[]}push(e,i,r,n){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(i?.position,r,n);this.pushing=!1}addParticle(e,i,r){const n=this.container,s=n.actualOptions,a=s.particles.number.limit*n.density;if(a>0){const o=this.count+1-a;o>0&&this.removeQuantity(o)}return this.pushParticle(e,i,r)}addSplitParticle(e){const i=e.options.destroy.split,r=new b0;r.load(e.options);const n=be(i.factor.value);r.color.load({value:{hsl:e.getFillColor()}}),typeof r.size.value=="number"?r.size.value/=n:(r.size.value.min/=n,r.size.value.max/=n),r.load(i.particles);const s=i.sizeOffset?xe(-e.size.value,e.size.value):0,a={x:e.position.x+$t(s),y:e.position.y+$t(s)};return this.pushParticle(a,r,e.group,o=>o.size.value<.5?!1:(o.velocity.length=$t(xe(e.velocity.length,o.velocity.length)),o.splitCount=e.splitCount+1,o.unbreakable=!0,setTimeout(()=>{o.unbreakable=!1},500),!0))}removeQuantity(e,i){this.removeAt(0,e,i)}getLinkFrequency(e,i){const r=xe(e.id,i.id),n=`${Ds(r)}_${Qi(r)}`;let s=this.freqs.links.get(n);return s===void 0&&(s=Math.random(),this.freqs.links.set(n,s)),s}getTriangleFrequency(e,i,r){let[n,s,a]=[e.id,i.id,r.id];n>s&&([s,n]=[n,s]),s>a&&([a,s]=[s,a]),n>a&&([a,n]=[n,a]);const o=`${n}_${s}_${a}`;let l=this.freqs.triangles.get(o);return l===void 0&&(l=Math.random(),this.freqs.triangles.set(o,l)),l}addManualParticles(){const e=this.container,i=e.actualOptions;for(const r of i.manualParticles){const n=r.position?{x:r.position.x*e.canvas.size.width/100,y:r.position.y*e.canvas.size.height/100}:void 0;this.addParticle(n,r.options)}}setDensity(){const e=this.container.actualOptions;for(const i in e.particles.groups)this.applyDensity(e.particles.groups[i],0,i);this.applyDensity(e.particles,e.manualParticles.length)}applyDensity(e,i,r){var n;if(!(!((n=e.number.density)===null||n===void 0)&&n.enable))return;const s=e.number,a=this.initDensityFactor(s.density),o=s.value,l=s.limit>0?s.limit:o,u=Math.min(o,l)*a+i,c=Math.min(this.count,this.array.filter(d=>d.group===r).length);this.limit=s.limit*a,c<u?this.push(Math.abs(u-c),void 0,e,r):c>u&&this.removeQuantity(c-u,r)}initDensityFactor(e){const i=this.container;if(!i.canvas.element||!e.enable)return 1;const r=i.canvas.element,n=i.retina.pixelRatio;return r.width*r.height/(e.factor*n**2*e.area)}pushParticle(e,i,r,n){try{const s=new IE(Ac(this,ds,"f"),this.nextId,this.container,e,i,r);let a=!0;return n&&(a=n(s)),a?(this.array.push(s),this.zArray.push(s),this.nextId++,s):void 0}catch(s){console.warn(`error adding particle: ${s}`);return}}}ds=new WeakMap;class ME{constructor(e){this.container=e}init(){const e=this.container,i=e.actualOptions;this.pixelRatio=!i.detectRetina||$r()?1:window.devicePixelRatio;const r=this.container.actualOptions.motion;if(r&&(r.disable||r.reduce.value))if($r()||typeof matchMedia>"u"||!matchMedia)this.reduceFactor=1;else{const o=matchMedia("(prefers-reduced-motion: reduce)");if(o){this.handleMotionChange(o);const l=()=>{this.handleMotionChange(o),e.refresh().catch(()=>{})};o.addEventListener!==void 0?o.addEventListener("change",l):o.addListener!==void 0&&o.addListener(l)}}else this.reduceFactor=1;const n=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*n,e.canvas.size.height=o.offsetHeight*n}const s=i.particles;this.attractDistance=be(s.move.attract.distance)*n,this.linksDistance=s.links.distance*n,this.linksWidth=s.links.width*n,this.sizeAnimationSpeed=be(s.size.animation.speed)*n,this.maxSpeed=be(s.move.gravity.maxSpeed)*n,s.orbit.radius!==void 0&&(this.orbitRadius=be(s.orbit.radius)*this.container.retina.pixelRatio);const a=i.interactivity.modes;this.connectModeDistance=a.connect.distance*n,this.connectModeRadius=a.connect.radius*n,this.grabModeDistance=a.grab.distance*n,this.repulseModeDistance=a.repulse.distance*n,this.bounceModeDistance=a.bounce.distance*n,this.attractModeDistance=a.attract.distance*n,this.slowModeRadius=a.slow.radius*n,this.bubbleModeDistance=a.bubble.distance*n,a.bubble.size&&(this.bubbleModeSize=a.bubble.size*n)}initParticle(e){const i=e.options,r=this.pixelRatio,n=i.move.distance,s=e.retina;s.attractDistance=be(i.move.attract.distance)*r,s.linksDistance=i.links.distance*r,s.linksWidth=i.links.width*r,s.moveDrift=be(i.move.drift)*r,s.moveSpeed=be(i.move.speed)*r,s.sizeAnimationSpeed=be(i.size.animation.speed)*r,e.spin&&(s.spinAcceleration=be(i.move.spin.acceleration)*r);const a=s.maxDistance;a.horizontal=n.horizontal!==void 0?n.horizontal*r:void 0,a.vertical=n.vertical!==void 0?n.vertical*r:void 0,s.maxSpeed=be(i.move.gravity.maxSpeed)*r}handleMotionChange(e){const i=this.container.actualOptions;if(e.matches){const r=i.motion;this.reduceFactor=r.disable?0:r.reduce.value?1/r.reduce.factor:1}else this.reduceFactor=1}}var iF=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},ln=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},gi;class LE{constructor(e,i,r,...n){this.id=i,gi.set(this,void 0),iF(this,gi,e,"f"),this.fpsLimit=120,this.duration=0,this.lifeTime=0,this.firstStart=!0,this.started=!1,this.destroyed=!1,this.paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=r,this._initialSourceOptions=r,this.retina=new ME(this),this.canvas=new CE(this),this.particles=new DE(ln(this,gi,"f"),this),this.drawer=new TE(this),this.presets=n,this.pathGenerator={generate:()=>{const s=$e.create(0,0);return s.length=Math.random(),s.angle=Math.random()*Math.PI*2,s},init:()=>{},update:()=>{}},this.interactivity={mouse:{clicking:!1,inside:!1}},this.bubble={},this.repulse={particles:[]},this.attract={particles:[]},this.plugins=new Map,this.drawers=new Map,this.density=1,this._options=new Go(ln(this,gi,"f")),this.actualOptions=new Go(ln(this,gi,"f")),this.eventListeners=new bE(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(s=>this.intersectionManager(s)))}get options(){return this._options}get sourceOptions(){return this._sourceOptions}play(e){const i=this.paused||e;if(this.firstStart&&!this.actualOptions.autoPlay){this.firstStart=!1;return}if(this.paused&&(this.paused=!1),i)for(const[,r]of this.plugins)r.play&&r.play();this.draw(i||!1)}pause(){if(this.drawAnimationFrame!==void 0&&(Y1()(this.drawAnimationFrame),delete this.drawAnimationFrame),!this.paused){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this.paused=!0)}}draw(e){let i=e;this.drawAnimationFrame=Q1()(async r=>{i&&(this.lastFrameTime=void 0,i=!1),await this.drawer.nextFrame(r)})}getAnimationStatus(){return!this.paused&&!this.pageHidden}setNoise(e,i,r){this.setPath(e,i,r)}setPath(e,i,r){var n,s,a;if(!!e)if(typeof e=="function")this.pathGenerator.generate=e,i&&(this.pathGenerator.init=i),r&&(this.pathGenerator.update=r);else{const o=this.pathGenerator;this.pathGenerator=e,(n=this.pathGenerator).generate||(n.generate=o.generate),(s=this.pathGenerator).init||(s.init=o.init),(a=this.pathGenerator).update||(a.update=o.update)}}destroy(){this.stop(),this.canvas.destroy();for(const[,e]of this.drawers)e.destroy&&e.destroy(this);for(const e of this.drawers.keys())this.drawers.delete(e);this.destroyed=!0}exportImg(e){this.exportImage(e)}exportImage(e,i,r){var n;return(n=this.canvas.element)===null||n===void 0?void 0:n.toBlob(e,i??"image/png",r)}exportConfiguration(){return JSON.stringify(this.actualOptions,void 0,2)}refresh(){return this.stop(),this.start()}reset(){return this._options=new Go(ln(this,gi,"f")),this.refresh()}stop(){if(!!this.started){this.firstStart=!0,this.started=!1,this.eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.clear(),this.interactivity.element instanceof HTMLElement&&this.intersectionObserver&&this.intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this.particles.linksColors=new Map,delete this.particles.grabLineColor,delete this.particles.linksColor,this._sourceOptions=this._options}}async loadTheme(e){this.currentTheme=e,await this.refresh()}async start(){if(!this.started){await this.init(),this.started=!0,this.eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this.intersectionObserver&&this.intersectionObserver.observe(this.interactivity.element);for(const[,e]of this.plugins)e.startAsync!==void 0?await e.startAsync():e.start!==void 0&&e.start();this.play()}}addClickHandler(e){const i=this.interactivity.element;if(!i)return;const r=(d,f,p)=>{if(this.destroyed)return;const g=this.retina.pixelRatio,b={x:f.x*g,y:f.y*g},y=this.particles.quadTree.queryCircle(b,p*g);e(d,y)},n=d=>{if(this.destroyed)return;const f=d,p={x:f.offsetX||f.clientX,y:f.offsetY||f.clientY};r(d,p,1)},s=()=>{this.destroyed||(u=!0,c=!1)},a=()=>{this.destroyed||(c=!0)},o=d=>{var f,p,g;if(!this.destroyed){if(u&&!c){const b=d;let y=b.touches[b.touches.length-1];if(!y&&(y=b.changedTouches[b.changedTouches.length-1],!y))return;const T=(f=this.canvas.element)===null||f===void 0?void 0:f.getBoundingClientRect(),w={x:y.clientX-((p=T?.left)!==null&&p!==void 0?p:0),y:y.clientY-((g=T?.top)!==null&&g!==void 0?g:0)};r(d,w,Math.max(y.radiusX,y.radiusY))}u=!1,c=!1}},l=()=>{this.destroyed||(u=!1,c=!1)};let u=!1,c=!1;i.addEventListener("click",n),i.addEventListener("touchstart",s),i.addEventListener("touchmove",a),i.addEventListener("touchend",o),i.addEventListener("touchcancel",l)}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this.currentTheme),this.responsiveMaxWidth!=e?(this.responsiveMaxWidth=e,!0):!1}async init(){this._options=new Go(ln(this,gi,"f"));for(const n of this.presets)this._options.load(ln(this,gi,"f").plugins.getPreset(n));const e=ln(this,gi,"f").plugins.getSupportedShapes();for(const n of e){const s=ln(this,gi,"f").plugins.getShapeDrawer(n);s&&this.drawers.set(n,s)}this._options.load(this._initialSourceOptions),this._options.load(this._sourceOptions),this.actualOptions=new Go(ln(this,gi,"f")),this.actualOptions.load(this._options),this.retina.init(),this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this.duration=be(this.actualOptions.duration),this.lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120;const i=ln(this,gi,"f").plugins.getAvailablePlugins(this);for(const[n,s]of i)this.plugins.set(n,s);for(const[,n]of this.drawers)n.init&&await n.init(this);for(const[,n]of this.plugins)n.init?n.init(this.actualOptions):n.initAsync!==void 0&&await n.initAsync(this.actualOptions);const r=this.actualOptions.particles.move.path;r.generator&&this.setPath(ln(this,gi,"f").plugins.getPathGenerator(r.generator)),this.particles.init(),this.particles.setDensity();for(const[,n]of this.plugins)n.particlesSetup!==void 0&&n.particlesSetup()}intersectionManager(e){if(!!this.actualOptions.pauseOnOutsideViewport)for(const i of e)i.target===this.interactivity.element&&(i.isIntersecting?this.play():this.pause())}}gi=new WeakMap;var nF=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},CT=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},cl;function rF(t){console.error(`Error tsParticles - fetch status: ${t}`),console.error("Error tsParticles - File config not found")}class RE{constructor(e){cl.set(this,void 0),nF(this,cl,e,"f")}dom(){return CT(this,cl,"f").domArray}domItem(e){const i=this.dom(),r=i[e];if(r&&!r.destroyed)return r;i.splice(e,1)}async loadOptions(e){var i,r,n;const s=(i=e.tagId)!==null&&i!==void 0?i:`tsparticles${Math.floor(Math.random()*1e4)}`,{options:a,index:o}=e;let l=(r=e.element)!==null&&r!==void 0?r:document.getElementById(s);l||(l=document.createElement("div"),l.id=s,(n=document.querySelector("body"))===null||n===void 0||n.append(l));const u=a instanceof Array?Rt(a,o):a,c=this.dom(),d=c.findIndex(g=>g.id===s);if(d>=0){const g=this.domItem(d);g&&!g.destroyed&&(g.destroy(),c.splice(d,1))}let f;if(l.tagName.toLowerCase()==="canvas")f=l,f.dataset[Ee.generatedAttribute]="false";else{const g=l.getElementsByTagName("canvas");g.length?(f=g[0],f.dataset[Ee.generatedAttribute]="false"):(f=document.createElement("canvas"),f.dataset[Ee.generatedAttribute]="true",f.style.width="100%",f.style.height="100%",l.appendChild(f))}const p=new LE(CT(this,cl,"f"),s,u);return d>=0?c.splice(d,0,p):c.push(p),p.canvas.loadCanvas(f),await p.start(),p}async loadRemoteOptions(e){const{url:i,index:r}=e,n=i instanceof Array?Rt(i,r):i;if(!n)return;const s=await fetch(n);if(!s.ok){rF(s.status);return}const a=await s.json();return this.loadOptions({tagId:e.tagId,element:e.element,index:r,options:a})}load(e,i,r){const n={index:r};return typeof e=="string"?n.tagId=e:n.options=e,typeof i=="number"?n.index=i??n.index:n.options=i??n.options,this.loadOptions(n)}async set(e,i,r,n){const s={index:n};return typeof e=="string"?s.tagId=e:s.element=e,i instanceof HTMLElement?s.element=i:s.options=i,typeof r=="number"?s.index=r:s.options=r??s.options,this.loadOptions(s)}async loadJSON(e,i,r){let n,s;return typeof i=="number"||i===void 0?n=e:(s=e,n=i),this.loadRemoteOptions({tagId:s,url:n,index:r})}async setJSON(e,i,r,n){let s,a,o,l;return e instanceof HTMLElement?(l=e,s=i,o=r):(a=e,l=i,s=r,o=n),this.loadRemoteOptions({tagId:a,url:s,index:o,element:l})}setOnClickHandler(e){const i=this.dom();if(i.length===0)throw new Error("Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()");for(const r of i)r.addClickHandler(e)}}cl=new WeakMap;var xp=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},Wn=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},dl,cn;class cv{constructor(){dl.set(this,void 0),cn.set(this,void 0),xp(this,dl,!1,"f"),this.domArray=[],xp(this,cn,new RE(this),"f"),this.plugins=new wE(this)}init(){Wn(this,dl,"f")||xp(this,dl,!0,"f")}async loadFromArray(e,i,r){return Wn(this,cn,"f").load(e,i,r)}async load(e,i){return Wn(this,cn,"f").load(e,i)}async set(e,i,r){return Wn(this,cn,"f").set(e,i,r)}async loadJSON(e,i,r){return Wn(this,cn,"f").loadJSON(e,i,r)}async setJSON(e,i,r,n){return Wn(this,cn,"f").setJSON(e,i,r,n)}setOnClickHandler(e){Wn(this,cn,"f").setOnClickHandler(e)}dom(){return Wn(this,cn,"f").dom()}domItem(e){return Wn(this,cn,"f").domItem(e)}async refresh(){for(const e of this.dom())await e.refresh()}async addShape(e,i,r,n,s){let a;typeof i=="function"?a={afterEffect:n,destroy:s,draw:i,init:r}:a=i,this.plugins.addShapeDrawer(e,a),await this.refresh()}async addPreset(e,i,r=!1){this.plugins.addPreset(e,i,r),await this.refresh()}async addPlugin(e){this.plugins.addPlugin(e),await this.refresh()}async addPathGenerator(e,i){this.plugins.addPathGenerator(e,i),await this.refresh()}async addInteractor(e,i){this.plugins.addInteractor(e,i),await this.refresh()}async addParticleUpdater(e,i){this.plugins.addParticleUpdater(e,i),await this.refresh()}}dl=new WeakMap,cn=new WeakMap;const sF=t=>{const e=(r,n)=>t.load(r,n);e.load=(r,n,s)=>{t.loadJSON(r,n).then(a=>{a&&s(a)}).catch(()=>{s(void 0)})},e.setOnClickHandler=r=>{t.setOnClickHandler(r)};const i=t.dom();return{particlesJS:e,pJSDom:i}};class aF{constructor(){this.radius=0,this.mass=0}load(e){!e||(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class oF extends Pi{constructor(){super();this.density=5,this.random.minimumValue=1,this.value=50,this.limit=new aF}load(e){!e||(super.load(e),e.density!==void 0&&(this.density=e.density),typeof e.limit=="number"?this.limit.radius=e.limit:this.limit.load(e.limit))}}class An{constructor(){this.color=new Ue,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new oF}load(e){e!==void 0&&(e.color!==void 0&&(this.color=Ue.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=xe(e.position.x)),e.position.y!==void 0&&(this.position.y=xe(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}class lF{constructor(e,i,r,n){var s,a,o;this.absorbers=e,this.container=i,this.initialPosition=n?$e.create(n.x,n.y):void 0,r instanceof An?this.options=r:(this.options=new An,this.options.load(r)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=be(this.options.size.value)*i.retina.pixelRatio,this.mass=this.size*this.options.size.density*i.retina.reduceFactor;const l=this.options.size.limit;this.limit={radius:l.radius*i.retina.pixelRatio*i.retina.reduceFactor,mass:l.mass},this.color=(s=ci(this.options.color))!==null&&s!==void 0?s:{b:0,g:0,r:0},this.position=(o=(a=this.initialPosition)===null||a===void 0?void 0:a.copy())!==null&&o!==void 0?o:this.calcPosition()}attract(e){const i=this.container,r=this.options;if(r.draggable){const u=i.interactivity.mouse;u.clicking&&u.downPosition?ht(this.position,u.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&u.position&&(this.position.x=u.position.x,this.position.y=u.position.y)}const n=e.getPosition(),{dx:s,dy:a,distance:o}=Gt(this.position,n),l=$e.create(s,a);if(l.length=this.mass/Math.pow(o,2)*i.retina.reduceFactor,o<this.size+e.getRadius()){const u=e.getRadius()*.033*i.retina.pixelRatio;this.size>e.getRadius()&&o<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<0?r.destroy?e.destroy():(e.needsNewPosition=!0,this.updateParticlePosition(e,l)):(r.destroy&&(e.size.value-=u),this.updateParticlePosition(e,l)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=u),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=u*this.options.size.density*i.retina.reduceFactor)}else this.updateParticlePosition(e,l)}resize(){const e=this.initialPosition;this.position=e&&Ma(e,this.container.canvas.size)?e:this.calcPosition()}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(0,0,this.size,0,Math.PI*2,!1),e.closePath(),e.fillStyle=Bi(this.color,this.opacity),e.fill()}calcPosition(){var e,i;const r=this.container,n=this.options.position;return $e.create(be((e=n?.x)!==null&&e!==void 0?e:Math.random()*100)/100*r.canvas.size.width,be((i=n?.y)!==null&&i!==void 0?i:Math.random()*100)/100*r.canvas.size.height)}updateParticlePosition(e,i){var r;if(e.destroyed)return;const n=this.container,s=n.canvas.size;if(e.needsNewPosition&&(e.position.x=Math.floor(Math.random()*s.width),e.position.y=Math.floor(Math.random()*s.height),e.velocity.setTo(e.initialVelocity),e.absorberOrbit=void 0,e.needsNewPosition=!1),this.options.orbits){if(e.absorberOrbit===void 0&&(e.absorberOrbit=$e.create(0,0),e.absorberOrbit.length=ht(e.getPosition(),this.position),e.absorberOrbit.angle=Math.random()*Math.PI*2),e.absorberOrbit.length<=this.size&&!this.options.destroy){const c=Math.min(s.width,s.height);e.absorberOrbit.length=c*(1+(Math.random()*.2-.1))}e.absorberOrbitDirection===void 0&&(e.absorberOrbitDirection=e.velocity.x>=0?"clockwise":"counter-clockwise");const a=e.absorberOrbit.length,o=e.absorberOrbit.angle,l=e.absorberOrbitDirection;e.velocity.x=0,e.velocity.y=0;const u={x:l==="clockwise"?Math.cos:Math.sin,y:l==="clockwise"?Math.sin:Math.cos};e.position.x=this.position.x+a*u.x(o),e.position.y=this.position.y+a*u.y(o),e.absorberOrbit.length-=i.length,e.absorberOrbit.angle+=((r=e.retina.moveSpeed)!==null&&r!==void 0?r:0)*n.retina.pixelRatio/100*n.retina.reduceFactor}else{const a=$e.origin;a.length=i.length,a.angle=i.angle,e.velocity.addTo(a)}}}class uF{constructor(e){this.container=e,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[];const i=e;i.getAbsorber=r=>r===void 0||typeof r=="number"?this.array[r||0]:this.array.find(n=>n.name===r),i.addAbsorber=(r,n)=>this.addAbsorber(r,n)}init(e){var i,r;if(!e)return;e.absorbers&&(e.absorbers instanceof Array?this.absorbers=e.absorbers.map(s=>{const a=new An;return a.load(s),a}):(this.absorbers instanceof Array&&(this.absorbers=new An),this.absorbers.load(e.absorbers)));const n=(r=(i=e.interactivity)===null||i===void 0?void 0:i.modes)===null||r===void 0?void 0:r.absorbers;if(n&&(n instanceof Array?this.interactivityAbsorbers=n.map(s=>{const a=new An;return a.load(s),a}):(this.interactivityAbsorbers instanceof Array&&(this.interactivityAbsorbers=new An),this.interactivityAbsorbers.load(n))),this.absorbers instanceof Array)for(const s of this.absorbers)this.addAbsorber(s);else this.addAbsorber(this.absorbers)}particleUpdate(e){for(const i of this.array)if(i.attract(e),e.destroyed)break}draw(e){for(const i of this.array)e.save(),i.draw(e),e.restore()}stop(){this.array=[]}resize(){for(const e of this.array)e.resize()}handleClickMode(e){const i=this.container,r=this.absorbers,n=this.interactivityAbsorbers;if(e==="absorber"){let s;n instanceof Array?n.length>0&&(s=Rt(n)):s=n;const a=s??(r instanceof Array?Rt(r):r),o=i.interactivity.mouse.clickPosition;this.addAbsorber(a,o)}}addAbsorber(e,i){const r=new lF(this,this.container,e,i);return this.array.push(r),r}removeAbsorber(e){const i=this.array.indexOf(e);i>=0&&this.array.splice(i,1)}}class cF{constructor(){this.id="absorbers"}getPlugin(e){return new uF(e)}needsPlugin(e){var i,r,n;if(e===void 0)return!1;const s=e.absorbers;let a=!1;return s instanceof Array?s.length&&(a=!0):(s!==void 0||((n=(r=(i=e.interactivity)===null||i===void 0?void 0:i.events)===null||r===void 0?void 0:r.onClick)===null||n===void 0?void 0:n.mode)&&We("absorber",e.interactivity.events.onClick.mode))&&(a=!0),a}loadOptions(e,i){var r,n;if(!this.needsPlugin(e)&&!this.needsPlugin(i))return;const s=e;if(i?.absorbers)if(i?.absorbers instanceof Array)s.absorbers=i?.absorbers.map(o=>{const l=new An;return l.load(o),l});else{let o=s.absorbers;o?.load===void 0&&(s.absorbers=o=new An),o.load(i?.absorbers)}const a=(n=(r=i?.interactivity)===null||r===void 0?void 0:r.modes)===null||n===void 0?void 0:n.absorbers;if(a)if(a instanceof Array)s.interactivity.modes.absorbers=a.map(o=>{const l=new An;return l.load(o),l});else{let o=s.interactivity.modes.absorbers;o?.load===void 0&&(s.interactivity.modes.absorbers=o=new An),o.load(a)}}}async function dF(t){const e=new cF;await t.addPlugin(e)}class fF{randomPosition(e,i,r){const n=(d,f)=>{const p=Math.random()/4,g=Math.atan(f/d*Math.tan(2*Math.PI*p)),b=Math.random();return b<.25?g:b<.5?Math.PI-g:b<.75?Math.PI+g:-g},s=(d,f,p)=>d*f/Math.sqrt((f*Math.cos(p))**2+(d*Math.sin(p))**2),[a,o]=[i.width/2,i.height/2],l=n(a,o),u=s(a,o,l),c=r?u*Math.sqrt(Math.random()):u;return{x:e.x+c*Math.cos(l),y:e.y+c*Math.sin(l)}}}class hF{constructor(){this.wait=!1}load(e){e!==void 0&&(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=e.delay),e.duration!==void 0&&(this.duration=e.duration),e.wait!==void 0&&(this.wait=e.wait))}}class pF{constructor(){this.quantity=1,this.delay=.1}load(e){e!==void 0&&(e.quantity!==void 0&&(this.quantity=xe(e.quantity)),e.delay!==void 0&&(this.delay=xe(e.delay)))}}class FE{constructor(){this.mode="percent",this.height=0,this.width=0}load(e){e!==void 0&&(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class pn{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new hF,this.rate=new pF,this.shape="square",this.startCount=0}load(e){e!==void 0&&(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size===void 0&&(this.size=new FE),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,e.particles!==void 0&&(this.particles=Ge({},e.particles)),this.rate.load(e.rate),e.shape!==void 0&&(this.shape=e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=xe(e.position.x)),e.position.y!==void 0&&(this.position.y=xe(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new Gr),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}var Xo=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},Ic=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},la,fl,ud;class mF{constructor(e,i,r,n,s){var a,o,l,u,c,d,f,p;this.emitters=i,this.container=r,la.set(this,void 0),fl.set(this,void 0),ud.set(this,void 0),Xo(this,ud,e,"f"),this.currentDuration=0,this.currentEmitDelay=0,this.currentSpawnDelay=0,this.initialPosition=s,n instanceof pn?this.options=n:(this.options=new pn,this.options.load(n)),this.spawnDelay=((a=this.options.life.delay)!==null&&a!==void 0?a:0)*1e3/this.container.retina.reduceFactor,this.position=(o=this.initialPosition)!==null&&o!==void 0?o:this.calcPosition(),this.name=this.options.name,this.shape=(l=Ic(this,ud,"f").emitterShapeManager)===null||l===void 0?void 0:l.getShape(this.options.shape),this.fill=this.options.fill,Xo(this,la,!this.options.life.wait,"f"),Xo(this,fl,!1,"f");let g=Ge({},this.options.particles);g??(g={}),(u=g.move)!==null&&u!==void 0||(g.move={}),(c=(p=g.move).direction)!==null&&c!==void 0||(p.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=tr(this.options.spawnColor)),this.paused=!this.options.autoPlay,this.particlesOptions=g,this.size=(d=this.options.size)!==null&&d!==void 0?d:(()=>{const b=new FE;return b.load({height:0,mode:"percent",width:0}),b})(),this.lifeCount=(f=this.options.life.count)!==null&&f!==void 0?f:-1,this.immortal=this.lifeCount<=0,this.play()}externalPlay(){this.paused=!1,this.play()}externalPause(){this.paused=!0,this.pause()}play(){var e;if(!this.paused&&this.container.retina.reduceFactor&&(this.lifeCount>0||this.immortal||!this.options.life.count)&&(Ic(this,la,"f")||this.currentSpawnDelay>=((e=this.spawnDelay)!==null&&e!==void 0?e:0))){if(this.emitDelay===void 0){const i=be(this.options.rate.delay);this.emitDelay=1e3*i/this.container.retina.reduceFactor}(this.lifeCount>0||this.immortal)&&this.prepareToDie()}}pause(){this.paused||delete this.emitDelay}resize(){const e=this.initialPosition;this.position=e&&Ma(e,this.container.canvas.size)?e:this.calcPosition()}update(e){var i,r,n;this.paused||(Ic(this,la,"f")&&(Xo(this,la,!1,"f"),this.currentSpawnDelay=(i=this.spawnDelay)!==null&&i!==void 0?i:0,this.currentEmitDelay=(r=this.emitDelay)!==null&&r!==void 0?r:0),Ic(this,fl,"f")||(Xo(this,fl,!0,"f"),this.emitParticles(this.options.startCount)),this.duration!==void 0&&(this.currentDuration+=e.value,this.currentDuration>=this.duration&&(this.pause(),this.spawnDelay!==void 0&&delete this.spawnDelay,this.immortal||this.lifeCount--,this.lifeCount>0||this.immortal?(this.position=this.calcPosition(),this.spawnDelay=((n=this.options.life.delay)!==null&&n!==void 0?n:0)*1e3/this.container.retina.reduceFactor):this.destroy(),this.currentDuration-=this.duration,delete this.duration)),this.spawnDelay!==void 0&&(this.currentSpawnDelay+=e.value,this.currentSpawnDelay>=this.spawnDelay&&(this.play(),this.currentSpawnDelay-=this.currentSpawnDelay,delete this.spawnDelay)),this.emitDelay!==void 0&&(this.currentEmitDelay+=e.value,this.currentEmitDelay>=this.emitDelay&&(this.emit(),this.currentEmitDelay-=this.emitDelay)))}getPosition(){if(this.options.domId){const e=this.container,i=document.getElementById(this.options.domId);if(i){const r=i.getBoundingClientRect();return{x:(r.x+r.width/2)*e.retina.pixelRatio,y:(r.y+r.height/2)*e.retina.pixelRatio}}}return this.position}getSize(){const e=this.container;if(this.options.domId){const i=document.getElementById(this.options.domId);if(i){const r=i.getBoundingClientRect();return{width:r.width*e.retina.pixelRatio,height:r.height*e.retina.pixelRatio}}}return{width:this.size.mode==="percent"?e.canvas.size.width*this.size.width/100:this.size.width,height:this.size.mode==="percent"?e.canvas.size.height*this.size.height/100:this.size.height}}prepareToDie(){var e;if(this.paused)return;const i=(e=this.options.life)===null||e===void 0?void 0:e.duration;this.container.retina.reduceFactor&&(this.lifeCount>0||this.immortal)&&i!==void 0&&i>0&&(this.duration=i*1e3)}destroy(){this.emitters.removeEmitter(this)}calcPosition(){var e,i;const r=this.container,n=this.options.position;return{x:be((e=n?.x)!==null&&e!==void 0?e:Math.random()*100)/100*r.canvas.size.width,y:be((i=n?.y)!==null&&i!==void 0?i:Math.random()*100)/100*r.canvas.size.height}}emit(){if(this.paused)return;const e=be(this.options.rate.quantity);this.emitParticles(e)}emitParticles(e){var i,r,n;const s=this.container,a=this.getPosition(),o=this.getSize();for(let l=0;l<e;l++){const u=Ge({},this.particlesOptions);if(this.spawnColor){const d=(i=this.options.spawnColor)===null||i===void 0?void 0:i.animation;d&&(this.spawnColor.h=this.setColorAnimation(d.h,this.spawnColor.h,360),this.spawnColor.s=this.setColorAnimation(d.s,this.spawnColor.s,100),this.spawnColor.l=this.setColorAnimation(d.l,this.spawnColor.l,100)),u.color?u.color.value=this.spawnColor:u.color={value:this.spawnColor}}if(!a)return;const c=(n=(r=this.shape)===null||r===void 0?void 0:r.randomPosition(a,o,this.fill))!==null&&n!==void 0?n:a;s.particles.addParticle(c,u)}}setColorAnimation(e,i,r){var n;const s=this.container;if(!e.enable)return i;const a=$t(e.offset),o=be(this.options.rate.delay),l=1e3*o/s.retina.reduceFactor,u=be((n=e.speed)!==null&&n!==void 0?n:0);return(i+u*s.fpsLimit/l+a*3.6)%r}}la=new WeakMap,fl=new WeakMap,ud=new WeakMap;var vF=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},gF=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},cd;class yF{constructor(e,i){this.container=i,cd.set(this,void 0),vF(this,cd,e,"f"),this.array=[],this.emitters=[],this.interactivityEmitters=[];const r=i;r.getEmitter=n=>n===void 0||typeof n=="number"?this.array[n||0]:this.array.find(s=>s.name===n),r.addEmitter=(n,s)=>this.addEmitter(n,s),r.removeEmitter=n=>{const s=r.getEmitter(n);s&&this.removeEmitter(s)},r.playEmitter=n=>{const s=r.getEmitter(n);s&&s.externalPlay()},r.pauseEmitter=n=>{const s=r.getEmitter(n);s&&s.externalPause()}}init(e){var i,r;if(!e)return;e.emitters&&(e.emitters instanceof Array?this.emitters=e.emitters.map(s=>{const a=new pn;return a.load(s),a}):(this.emitters instanceof Array&&(this.emitters=new pn),this.emitters.load(e.emitters)));const n=(r=(i=e.interactivity)===null||i===void 0?void 0:i.modes)===null||r===void 0?void 0:r.emitters;if(n&&(n instanceof Array?this.interactivityEmitters=n.map(s=>{const a=new pn;return a.load(s),a}):(this.interactivityEmitters instanceof Array&&(this.interactivityEmitters=new pn),this.interactivityEmitters.load(n))),this.emitters instanceof Array)for(const s of this.emitters)this.addEmitter(s);else this.addEmitter(this.emitters)}play(){for(const e of this.array)e.play()}pause(){for(const e of this.array)e.pause()}stop(){this.array=[]}update(e){for(const i of this.array)i.update(e)}handleClickMode(e){const i=this.container,r=this.emitters,n=this.interactivityEmitters;if(e==="emitter"){let s;n instanceof Array?n.length>0&&(s=Rt(n)):s=n;const a=s??(r instanceof Array?Rt(r):r),o=i.interactivity.mouse.clickPosition;this.addEmitter(Ge({},a),o)}}resize(){for(const e of this.array)e.resize()}addEmitter(e,i){const r=new pn;r.load(e);const n=new mF(gF(this,cd,"f"),this,this.container,r,i);return this.array.push(n),n}removeEmitter(e){const i=this.array.indexOf(e);i>=0&&this.array.splice(i,1)}}cd=new WeakMap;var _F=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},dv;const Sp=new Map;class bF{constructor(e){dv.set(this,void 0),_F(this,dv,e,"f")}addShape(e,i){this.getShape(e)||Sp.set(e,i)}getShape(e){return Sp.get(e)}getSupportedShapes(){return Sp.keys()}}dv=new WeakMap;function kT(t,e){return t+e*(Math.random()-.5)}class TF{randomPosition(e,i,r){if(r)return{x:kT(e.x,i.width),y:kT(e.y,i.height)};{const n=i.width/2,s=i.height/2,a=Math.floor(Math.random()*4),o=(Math.random()-.5)*2;switch(a){case 0:return{x:e.x+o*n,y:e.y-s};case 1:return{x:e.x-n,y:e.y+o*s};case 2:return{x:e.x+o*n,y:e.y+s};case 3:default:return{x:e.x+n,y:e.y+o*s}}}}}var xF=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},SF=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},dd;class wF{constructor(e){dd.set(this,void 0),xF(this,dd,e,"f"),this.id="emitters"}getPlugin(e){return new yF(SF(this,dd,"f"),e)}needsPlugin(e){var i,r,n;if(e===void 0)return!1;const s=e.emitters;return s instanceof Array&&!!s.length||s!==void 0||!!(!((n=(r=(i=e.interactivity)===null||i===void 0?void 0:i.events)===null||r===void 0?void 0:r.onClick)===null||n===void 0)&&n.mode)&&We("emitter",e.interactivity.events.onClick.mode)}loadOptions(e,i){var r,n;if(!this.needsPlugin(e)&&!this.needsPlugin(i))return;const s=e;if(i?.emitters)if(i?.emitters instanceof Array)s.emitters=i?.emitters.map(o=>{const l=new pn;return l.load(o),l});else{let o=s.emitters;o?.load===void 0&&(s.emitters=o=new pn),o.load(i?.emitters)}const a=(n=(r=i?.interactivity)===null||r===void 0?void 0:r.modes)===null||n===void 0?void 0:n.emitters;if(a)if(a instanceof Array)s.interactivity.modes.emitters=a.map(o=>{const l=new pn;return l.load(o),l});else{let o=s.interactivity.modes.emitters;o?.load===void 0&&(s.interactivity.modes.emitters=o=new pn),o.load(a)}}}dd=new WeakMap;async function EF(t){t.emitterShapeManager||(t.emitterShapeManager=new bF(t)),t.addEmitterShape||(t.addEmitterShape=(i,r)=>{var n;(n=t.emitterShapeManager)===null||n===void 0||n.addShape(i,r)});const e=new wF(t);await t.addPlugin(e),t.addEmitterShape("circle",new fF),t.addEmitterShape("square",new TF)}class CF extends Zr{constructor(e){super(e);this.delay=0}async interact(e){var i,r,n,s;if(!this.container.retina.reduceFactor)return;const a=this.container,o=a.actualOptions,l=o.interactivity.modes.trail,u=l.delay*1e3/this.container.retina.reduceFactor;if(this.delay<u&&(this.delay+=e.value),this.delay<u)return;let c=!0;l.pauseOnStop&&(a.interactivity.mouse.position===this.lastPosition||((i=a.interactivity.mouse.position)===null||i===void 0?void 0:i.x)===((r=this.lastPosition)===null||r===void 0?void 0:r.x)&&((n=a.interactivity.mouse.position)===null||n===void 0?void 0:n.y)===((s=this.lastPosition)===null||s===void 0?void 0:s.y))&&(c=!1),a.interactivity.mouse.position?this.lastPosition={x:a.interactivity.mouse.position.x,y:a.interactivity.mouse.position.y}:delete this.lastPosition,c&&a.particles.push(l.quantity,a.interactivity.mouse,l.particles),this.delay-=u}isEnabled(){const e=this.container,i=e.actualOptions,r=e.interactivity.mouse,n=i.interactivity.events;return r.clicking&&r.inside&&!!r.position&&We("trail",n.onClick.mode)||r.inside&&!!r.position&&We("trail",n.onHover.mode)}reset(){}}async function kF(t){await t.addInteractor("externalTrail",e=>new CF(e))}class PF{constructor(){this.color=new Ue,this.width=.5,this.opacity=1}load(e){var i;!e||(this.color=Ue.create(this.color,e.color),typeof this.color.value=="string"&&(this.opacity=(i=iE(this.color.value))!==null&&i!==void 0?i:this.opacity),e.opacity!==void 0&&(this.opacity=e.opacity),e.width!==void 0&&(this.width=e.width))}}class OF{constructor(){this.enable=!1,this.stroke=new PF}get lineWidth(){return this.stroke.width}set lineWidth(e){this.stroke.width=e}get lineColor(){return this.stroke.color}set lineColor(e){this.stroke.color=Ue.create(this.stroke.color,e)}load(e){var i;if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const r=(i=e.stroke)!==null&&i!==void 0?i:{color:e.lineColor,width:e.lineWidth};this.stroke.load(r)}}class AF{constructor(){this.arrangement="one-per-point"}load(e){!e||e.arrangement!==void 0&&(this.arrangement=e.arrangement)}}class IF{constructor(){this.path=[],this.size={height:0,width:0}}load(e){!e||(e.path!==void 0&&(this.path=e.path),e.size!==void 0&&(e.size.width!==void 0&&(this.size.width=e.size.width),e.size.height!==void 0&&(this.size.height=e.size.height)))}}class DF{constructor(){this.radius=10,this.type="path"}load(e){!e||(e.radius!==void 0&&(this.radius=e.radius),e.type!==void 0&&(this.type=e.type))}}class NE{constructor(){this.draw=new OF,this.enable=!1,this.inline=new AF,this.move=new DF,this.scale=1,this.type="none"}get inlineArrangement(){return this.inline.arrangement}set inlineArrangement(e){this.inline.arrangement=e}load(e){var i;if(!e)return;this.draw.load(e.draw);const r=(i=e.inline)!==null&&i!==void 0?i:{arrangement:e.inlineArrangement};r!==void 0&&this.inline.load(r),this.move.load(e.move),e.scale!==void 0&&(this.scale=e.scale),e.type!==void 0&&(this.type=e.type),e.enable!==void 0?this.enable=e.enable:this.enable=this.type!=="none",e.url!==void 0&&(this.url=e.url),e.data!==void 0&&(typeof e.data=="string"?this.data=e.data:(this.data=new IF,this.data.load(e.data))),e.position!==void 0&&(this.position=Ge({},e.position))}}function MF(t,e,i){const r=ci(i.color);if(!!r){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(const n of e)t.lineTo(n.x,n.y);t.closePath(),t.strokeStyle=Bi(r),t.lineWidth=i.width,t.stroke()}}function LF(t,e,i,r){t.translate(r.x,r.y);const n=ci(i.color);!n||(t.strokeStyle=Bi(n,i.opacity),t.lineWidth=i.width,t.stroke(e))}function RF(t,e,i){var r;const n=[];for(const s of t){const a=s.element.pathSegList,o=(r=a?.numberOfItems)!==null&&r!==void 0?r:0,l={x:0,y:0};for(let u=0;u<o;u++){const c=a?.getItem(u),d=window.SVGPathSeg;switch(c?.pathSegType){case d.PATHSEG_MOVETO_ABS:case d.PATHSEG_LINETO_ABS:case d.PATHSEG_CURVETO_CUBIC_ABS:case d.PATHSEG_CURVETO_QUADRATIC_ABS:case d.PATHSEG_ARC_ABS:case d.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:case d.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:{const f=c;l.x=f.x,l.y=f.y;break}case d.PATHSEG_LINETO_HORIZONTAL_ABS:l.x=c.x;break;case d.PATHSEG_LINETO_VERTICAL_ABS:l.y=c.y;break;case d.PATHSEG_LINETO_REL:case d.PATHSEG_MOVETO_REL:case d.PATHSEG_CURVETO_CUBIC_REL:case d.PATHSEG_CURVETO_QUADRATIC_REL:case d.PATHSEG_ARC_REL:case d.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:case d.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:{const f=c;l.x+=f.x,l.y+=f.y;break}case d.PATHSEG_LINETO_HORIZONTAL_REL:l.x+=c.x;break;case d.PATHSEG_LINETO_VERTICAL_REL:l.y+=c.y;break;case d.PATHSEG_UNKNOWN:case d.PATHSEG_CLOSEPATH:continue}n.push({x:l.x*e+i.x,y:l.y*e+i.y})}}return n}function FF(t,e,i){const{dx:r,dy:n}=Gt(i,t),{dx:s,dy:a}=Gt(e,t),o=(r*s+n*a)/(s**2+a**2),l={x:t.x+s*o,y:t.x+a*o,isOnSegment:o>=0&&o<=1};return o<0?(l.x=t.x,l.y=t.y):o>1&&(l.x=e.x,l.y=e.y),l}function NF(t,e,i){const{dx:r,dy:n}=Gt(t,e),s=Math.atan2(n,r),a=$e.create(Math.sin(s),-Math.cos(s)),o=2*(i.x*a.x+i.y*a.y);a.multTo(o),i.subFrom(a)}class UF{constructor(e){this.container=e,this.dimension={height:0,width:0},this.path2DSupported=!!window.Path2D,this.options=new NE,this.polygonMaskMoveRadius=this.options.move.radius*e.retina.pixelRatio}async initAsync(e){this.options.load(e?.polygon);const i=this.options;this.polygonMaskMoveRadius=i.move.radius*this.container.retina.pixelRatio,i.enable&&await this.initRawData()}resize(){const e=this.container,i=this.options;!(i.enable&&i.type!=="none")||(this.redrawTimeout&&clearTimeout(this.redrawTimeout),this.redrawTimeout=window.setTimeout(async()=>{await this.initRawData(!0),await e.particles.redraw()},250))}stop(){delete this.raw,delete this.paths}particlesInitialization(){const e=this.options;return e.enable&&e.type==="inline"&&(e.inline.arrangement==="one-per-point"||e.inline.arrangement==="per-point")?(this.drawPoints(),!0):!1}particlePosition(e){var i,r;if(!!(this.options.enable&&((r=(i=this.raw)===null||i===void 0?void 0:i.length)!==null&&r!==void 0?r:0)>0))return Ge({},e||this.randomPoint())}particleBounce(e,i,r){return this.polygonBounce(e,i,r)}clickPositionValid(e){const i=this.options;return i.enable&&i.type!=="none"&&i.type!=="inline"&&this.checkInsidePolygon(e)}draw(e){var i;if(!(!((i=this.paths)===null||i===void 0)&&i.length))return;const r=this.options,n=r.draw;if(!(r.enable&&n.enable))return;const s=this.raw;for(const a of this.paths){const o=a.path2d,l=this.path2DSupported;!e||(l&&o&&this.offset?LF(e,o,n.stroke,this.offset):s&&MF(e,s,n.stroke))}}polygonBounce(e,i,r){const n=this.options;if(!this.raw||!n.enable||r!=="top")return!1;if(n.type==="inside"||n.type==="outside"){let s,a,o;const l=e.getPosition(),u=e.getRadius();for(let c=0,d=this.raw.length-1;c<this.raw.length;d=c++){const f=this.raw[c],p=this.raw[d];s=FF(f,p,l);const g=Gt(l,s);if([a,o]=[g.dx,g.dy],g.distance<u)return NF(f,p,e.velocity),!0}if(s&&a!==void 0&&o!==void 0&&!this.checkInsidePolygon(l)){const c={x:1,y:1};return e.position.x>=s.x&&(c.x=-1),e.position.y>=s.y&&(c.y=-1),e.position.x=s.x+u*2*c.x,e.position.y=s.y+u*2*c.y,e.velocity.mult(-1),!0}}else if(n.type==="inline"&&e.initialPosition&&ht(e.initialPosition,e.getPosition())>this.polygonMaskMoveRadius)return e.velocity.x=e.velocity.y/2-e.velocity.x,e.velocity.y=e.velocity.x/2-e.velocity.y,!0;return!1}checkInsidePolygon(e){var i,r;const n=this.container,s=this.options;if(!s.enable||s.type==="none"||s.type==="inline")return!0;if(!this.raw)throw new Error(Ee.noPolygonFound);const a=n.canvas.size,o=(i=e?.x)!==null&&i!==void 0?i:Math.random()*a.width,l=(r=e?.y)!==null&&r!==void 0?r:Math.random()*a.height;let u=!1;for(let c=0,d=this.raw.length-1;c<this.raw.length;d=c++){const f=this.raw[c],p=this.raw[d];f.y>l!=p.y>l&&o<(p.x-f.x)*(l-f.y)/(p.y-f.y)+f.x&&(u=!u)}return s.type==="inside"?u:s.type==="outside"?!u:!1}parseSvgPath(e,i){var r,n,s;const a=i??!1;if(this.paths!==void 0&&!a)return this.raw;const o=this.container,l=this.options,c=new DOMParser().parseFromString(e,"image/svg+xml"),d=c.getElementsByTagName("svg")[0];let f=d.getElementsByTagName("path");f.length||(f=c.getElementsByTagName("path")),this.paths=[];for(let y=0;y<f.length;y++){const T=f.item(y);T&&this.paths.push({element:T,length:T.getTotalLength()})}const p=o.retina.pixelRatio,g=l.scale/p;this.dimension.width=parseFloat((r=d.getAttribute("width"))!==null&&r!==void 0?r:"0")*g,this.dimension.height=parseFloat((n=d.getAttribute("height"))!==null&&n!==void 0?n:"0")*g;const b=(s=l.position)!==null&&s!==void 0?s:{x:50,y:50};return this.offset={x:o.canvas.size.width*b.x/(100*p)-this.dimension.width/2,y:o.canvas.size.height*b.y/(100*p)-this.dimension.height/2},RF(this.paths,g,this.offset)}async downloadSvgPath(e,i){const r=this.options,n=e||r.url,s=i??!1;if(!n||this.paths!==void 0&&!s)return this.raw;const a=await fetch(n);if(!a.ok)throw new Error("tsParticles Error - Error occurred during polygon mask download");return this.parseSvgPath(await a.text(),i)}drawPoints(){if(!!this.raw)for(const e of this.raw)this.container.particles.addParticle({x:e.x,y:e.y})}randomPoint(){const e=this.container,i=this.options;let r;if(i.type==="inline")switch(i.inline.arrangement){case"random-point":r=this.getRandomPoint();break;case"random-length":r=this.getRandomPointByLength();break;case"equidistant":r=this.getEquidistantPointByIndex(e.particles.count);break;case"one-per-point":case"per-point":default:r=this.getPointByIndex(e.particles.count)}else r={x:Math.random()*e.canvas.size.width,y:Math.random()*e.canvas.size.height};return this.checkInsidePolygon(r)?r:this.randomPoint()}getRandomPoint(){if(!this.raw||!this.raw.length)throw new Error(Ee.noPolygonDataLoaded);const e=Rt(this.raw);return{x:e.x,y:e.y}}getRandomPointByLength(){var e,i,r;const n=this.options;if(!this.raw||!this.raw.length||!(!((e=this.paths)===null||e===void 0)&&e.length))throw new Error(Ee.noPolygonDataLoaded);const s=Rt(this.paths),a=Math.floor(Math.random()*s.length)+1,o=s.element.getPointAtLength(a);return{x:o.x*n.scale+(((i=this.offset)===null||i===void 0?void 0:i.x)||0),y:o.y*n.scale+(((r=this.offset)===null||r===void 0?void 0:r.y)||0)}}getEquidistantPointByIndex(e){var i,r,n,s,a,o,l;const u=this.container.actualOptions,c=this.options;if(!this.raw||!this.raw.length||!(!((i=this.paths)===null||i===void 0)&&i.length))throw new Error(Ee.noPolygonDataLoaded);let d=0,f;const g=this.paths.reduce((b,y)=>b+y.length,0)/u.particles.number.value;for(const b of this.paths){const y=g*e-d;if(y<=b.length){f=b.element.getPointAtLength(y);break}else d+=b.length}return{x:((r=f?.x)!==null&&r!==void 0?r:0)*c.scale+((s=(n=this.offset)===null||n===void 0?void 0:n.x)!==null&&s!==void 0?s:0),y:((a=f?.y)!==null&&a!==void 0?a:0)*c.scale+((l=(o=this.offset)===null||o===void 0?void 0:o.y)!==null&&l!==void 0?l:0)}}getPointByIndex(e){if(!this.raw||!this.raw.length)throw new Error(Ee.noPolygonDataLoaded);const i=this.raw[e%this.raw.length];return{x:i.x,y:i.y}}createPath2D(){var e,i;const r=this.options;if(!(!this.path2DSupported||!(!((e=this.paths)===null||e===void 0)&&e.length)))for(const n of this.paths){const s=(i=n.element)===null||i===void 0?void 0:i.getAttribute("d");if(s){const a=new Path2D(s),o=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix(),l=new Path2D,u=o.scale(r.scale);l.addPath?(l.addPath(a,u),n.path2d=l):delete n.path2d}else delete n.path2d;n.path2d||!this.raw||(n.path2d=new Path2D,n.path2d.moveTo(this.raw[0].x,this.raw[0].y),this.raw.forEach((a,o)=>{var l;o>0&&((l=n.path2d)===null||l===void 0||l.lineTo(a.x,a.y))}),n.path2d.closePath())}}async initRawData(e){const i=this.options;if(i.url)this.raw=await this.downloadSvgPath(i.url,e);else if(i.data){const r=i.data;let n;if(typeof r!="string"){const s=r.path instanceof Array?r.path.map(o=>`<path d="${o}" />`).join(""):`<path d="${r.path}" />`;n=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${r.size.width}" height="${r.size.height}">${s}</svg>`}else n=r;this.raw=this.parseSvgPath(n,e)}this.createPath2D()}}class BF{constructor(){this.id="polygonMask"}getPlugin(e){return new UF(e)}needsPlugin(e){var i,r,n;return(r=(i=e?.polygon)===null||i===void 0?void 0:i.enable)!==null&&r!==void 0?r:((n=e?.polygon)===null||n===void 0?void 0:n.type)!==void 0&&e.polygon.type!=="none"}loadOptions(e,i){if(!this.needsPlugin(i))return;const r=e;let n=r.polygon;n?.load===void 0&&(r.polygon=n=new NE),n.load(i?.polygon)}}async function zF(t){!$r()&&!("SVGPathSeg"in window)&&await import("./pathseg.8e50599e.js");const e=new BF;await t.addPlugin(e)}function jF(t,e){const i=t.options.roll;if(!t.roll||!i.enable)return;const r=t.roll.speed*e.factor,n=2*Math.PI;t.roll.angle+=r,t.roll.angle>n&&(t.roll.angle-=n)}class VF{init(e){const i=e.options.roll;if(i.enable)if(e.roll={angle:Math.random()*Math.PI*2,speed:be(i.speed)/360},i.backColor)e.backColor=tr(i.backColor);else if(i.darken.enable&&i.enlighten.enable){const r=Math.random()>=.5?"darken":"enlighten";e.roll.alter={type:r,value:be(r==="darken"?i.darken.value:i.enlighten.value)}}else i.darken.enable?e.roll.alter={type:"darken",value:be(i.darken.value)}:i.enlighten.enable&&(e.roll.alter={type:"enlighten",value:be(i.enlighten.value)});else e.roll={angle:0,speed:0}}isEnabled(e){const i=e.options.roll;return!e.destroyed&&!e.spawning&&i.enable}update(e,i){!this.isEnabled(e)||jF(e,i)}}async function HF(t){await t.addParticleUpdater("roll",()=>new VF)}function WF(t,e){var i;const r=t.rotate;if(!r)return;const s=t.options.rotate.animation,a=((i=r.velocity)!==null&&i!==void 0?i:0)*e.factor,o=2*Math.PI;if(!!s.enable)switch(r.status){case 0:r.value+=a,r.value>o&&(r.value-=o);break;case 1:default:r.value-=a,r.value<0&&(r.value+=o);break}}class qF{constructor(e){this.container=e}init(e){const i=e.options.rotate;e.rotate={enable:i.animation.enable,value:be(i.value)*Math.PI/180};let r=i.direction;switch(r==="random"&&(r=Math.floor(Math.random()*2)>0?"counter-clockwise":"clockwise"),r){case"counter-clockwise":case"counterClockwise":e.rotate.status=1;break;case"clockwise":e.rotate.status=0;break}const n=e.options.rotate.animation;n.enable&&(e.rotate.velocity=be(n.speed)/360*this.container.retina.reduceFactor,n.sync||(e.rotate.velocity*=Math.random()))}isEnabled(e){const i=e.options.rotate,r=i.animation;return!e.destroyed&&!e.spawning&&!i.path&&r.enable}update(e,i){!this.isEnabled(e)||WF(e,i)}}async function $F(t){await t.addParticleUpdater("angle",e=>new qF(e))}class GF{getSidesCount(){return 12}draw(e,i,r){e.arc(0,0,r,0,Math.PI*2,!1)}}async function XF(t){await t.addShape("circle",new GF)}function wp(t,e,i,r,n){var s;const a=e;if(!a||!i.enable)return;const o=$t(i.offset),l=((s=e.velocity)!==null&&s!==void 0?s:0)*t.factor+o*3.6;!n||a.status===0?(a.value+=l,n&&a.value>r&&(a.status=1,a.value-=a.value%r)):(a.value-=l,a.value<0&&(a.status=0,a.value+=a.value)),a.value>r&&(a.value%=r)}function KF(t,e){var i,r,n;const s=t.options.color.animation;((i=t.color)===null||i===void 0?void 0:i.h)!==void 0&&wp(e,t.color.h,s.h,360,!1),((r=t.color)===null||r===void 0?void 0:r.s)!==void 0&&wp(e,t.color.s,s.s,100,!0),((n=t.color)===null||n===void 0?void 0:n.l)!==void 0&&wp(e,t.color.l,s.l,100,!0)}class QF{constructor(e){this.container=e}init(e){const i=tr(e.options.color,e.id,e.options.reduceDuplicates);i&&(e.color=v0(i,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){var i,r,n;const s=e.options.color.animation;return!e.destroyed&&!e.spawning&&(((i=e.color)===null||i===void 0?void 0:i.h.value)!==void 0&&s.h.enable||((r=e.color)===null||r===void 0?void 0:r.s.value)!==void 0&&s.s.enable||((n=e.color)===null||n===void 0?void 0:n.l.value)!==void 0&&s.l.enable)}update(e,i){KF(e,i)}}async function YF(t){await t.addParticleUpdater("color",e=>new QF(e))}class JF extends Zr{constructor(e){super(e)}isEnabled(){const e=this.container,i=e.actualOptions,r=e.interactivity.mouse,n=i.interactivity.events;if((!r.position||!n.onHover.enable)&&(!r.clickPosition||!n.onClick.enable))return!1;const s=n.onHover.mode,a=n.onClick.mode;return We("attract",s)||We("attract",a)}reset(){}async interact(){const e=this.container,i=e.actualOptions,r=e.interactivity.status===Ee.mouseMoveEvent,n=i.interactivity.events,s=n.onHover.enable,a=n.onHover.mode,o=n.onClick.enable,l=n.onClick.mode;r&&s&&We("attract",a)?this.hoverAttract():o&&We("attract",l)&&this.clickAttract()}hoverAttract(){const e=this.container,i=e.interactivity.mouse.position;if(!i)return;const r=e.retina.attractModeDistance;this.processAttract(i,r,new Ei(i.x,i.y,r))}processAttract(e,i,r){const n=this.container,s=n.actualOptions.interactivity.modes.attract,a=n.particles.quadTree.query(r);for(const o of a){const{dx:l,dy:u,distance:c}=Gt(o.position,e),d=s.speed*s.factor,f=tn(l0(1-c/i,s.easing)*d,0,s.maxSpeed),p=$e.create(c===0?d:l/c*f,c===0?d:u/c*f);o.position.subFrom(p)}}clickAttract(){const e=this.container;if(e.attract.finish||(e.attract.count||(e.attract.count=0),e.attract.count++,e.attract.count===e.particles.count&&(e.attract.finish=!0)),e.attract.clicking){const i=e.interactivity.mouse.clickPosition;if(!i)return;const r=e.retina.attractModeDistance;this.processAttract(i,r,new Ei(i.x,i.y,r))}else e.attract.clicking===!1&&(e.attract.particles=[])}}async function ZF(t){await t.addInteractor("externalAttract",e=>new JF(e))}class eN extends Zr{constructor(e){super(e)}isEnabled(){const e=this.container,i=e.actualOptions,r=e.interactivity.mouse,n=i.interactivity.events,s=n.onDiv;return r.position&&n.onHover.enable&&We("bounce",n.onHover.mode)||Jf("bounce",s)}async interact(){const e=this.container,i=e.actualOptions,r=i.interactivity.events,n=e.interactivity.status===Ee.mouseMoveEvent,s=r.onHover.enable,a=r.onHover.mode,o=r.onDiv;n&&s&&We("bounce",a)?this.processMouseBounce():Zf("bounce",o,(l,u)=>this.singleSelectorBounce(l,u))}reset(){}processMouseBounce(){const e=this.container,i=e.retina.pixelRatio,r=10*i,n=e.interactivity.mouse.position,s=e.retina.bounceModeDistance;n&&this.processBounce(n,s,new Ei(n.x,n.y,s+r))}singleSelectorBounce(e,i){const r=this.container,n=document.querySelectorAll(e);!n.length||n.forEach(s=>{const a=s,o=r.retina.pixelRatio,l={x:(a.offsetLeft+a.offsetWidth/2)*o,y:(a.offsetTop+a.offsetHeight/2)*o},u=a.offsetWidth/2*o,c=10*o,d=i.type==="circle"?new Ei(l.x,l.y,u+c):new Fi(a.offsetLeft*o-c,a.offsetTop*o-c,a.offsetWidth*o+c*2,a.offsetHeight*o+c*2);this.processBounce(l,u,d)})}processBounce(e,i,r){const n=this.container.particles.quadTree.query(r);for(const s of n)r instanceof Ei?c0(Qd(s),{position:e,radius:i,mass:i**2*Math.PI/2,velocity:$e.origin,factor:$e.origin}):r instanceof Fi&&eE(s,Ha(e,i))}}async function tN(t){await t.addInteractor("externalBounce",e=>new eN(e))}function PT(t,e,i,r){if(e>=i){const n=t+(e-i)*r;return tn(n,t,e)}else if(e<i){const n=t-(i-e)*r;return tn(n,e,t)}}class iN extends Zr{constructor(e){super(e)}isEnabled(){const e=this.container,i=e.actualOptions,r=e.interactivity.mouse,n=i.interactivity.events,s=n.onDiv,a=Jf("bubble",s);if(!(a||n.onHover.enable&&r.position||n.onClick.enable&&r.clickPosition))return!1;const o=n.onHover.mode,l=n.onClick.mode;return We("bubble",o)||We("bubble",l)||a}reset(e,i){!(!e.bubble.inRange||i)||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}async interact(){const e=this.container.actualOptions,i=e.interactivity.events,r=i.onHover,n=i.onClick,s=r.enable,a=r.mode,o=n.enable,l=n.mode,u=i.onDiv;s&&We("bubble",a)?this.hoverBubble():o&&We("bubble",l)?this.clickBubble():Zf("bubble",u,(c,d)=>this.singleSelectorHover(c,d))}singleSelectorHover(e,i){const r=this.container,n=document.querySelectorAll(e);!n.length||n.forEach(s=>{const a=s,o=r.retina.pixelRatio,l={x:(a.offsetLeft+a.offsetWidth/2)*o,y:(a.offsetTop+a.offsetHeight/2)*o},u=a.offsetWidth/2*o,c=i.type==="circle"?new Ei(l.x,l.y,u):new Fi(a.offsetLeft*o,a.offsetTop*o,a.offsetWidth*o,a.offsetHeight*o),d=r.particles.quadTree.query(c);for(const f of d){if(!c.contains(f.getPosition()))continue;f.bubble.inRange=!0;const p=r.actualOptions.interactivity.modes.bubble.divs,g=u0(p,a);(!f.bubble.div||f.bubble.div!==a)&&(this.reset(f,!0),f.bubble.div=a),this.hoverBubbleSize(f,1,g),this.hoverBubbleOpacity(f,1,g),this.hoverBubbleColor(f,1,g)}})}process(e,i,r,n){const s=this.container,a=n.bubbleObj.optValue;if(a===void 0)return;const o=s.actualOptions,l=o.interactivity.modes.bubble.duration,u=s.retina.bubbleModeDistance,c=n.particlesObj.optValue,d=n.bubbleObj.value,f=n.particlesObj.value||0,p=n.type;if(a!==c)if(s.bubble.durationEnd)d&&(p==="size"&&delete e.bubble.radius,p==="opacity"&&delete e.bubble.opacity);else if(i<=u){if((d??f)!==a){const b=f-r*(f-a)/l;p==="size"&&(e.bubble.radius=b),p==="opacity"&&(e.bubble.opacity=b)}}else p==="size"&&delete e.bubble.radius,p==="opacity"&&delete e.bubble.opacity}clickBubble(){var e,i;const r=this.container,n=r.actualOptions,s=r.interactivity.mouse.clickPosition;if(!s)return;const a=r.retina.bubbleModeDistance,o=r.particles.quadTree.queryCircle(s,a);for(const l of o){if(!r.bubble.clicking)continue;l.bubble.inRange=!r.bubble.durationEnd;const u=l.getPosition(),c=ht(u,s),d=(new Date().getTime()-(r.interactivity.mouse.clickTime||0))/1e3;d>n.interactivity.modes.bubble.duration&&(r.bubble.durationEnd=!0),d>n.interactivity.modes.bubble.duration*2&&(r.bubble.clicking=!1,r.bubble.durationEnd=!1);const f={bubbleObj:{optValue:r.retina.bubbleModeSize,value:l.bubble.radius},particlesObj:{optValue:Qi(l.options.size.value)*r.retina.pixelRatio,value:l.size.value},type:"size"};this.process(l,c,d,f);const p={bubbleObj:{optValue:n.interactivity.modes.bubble.opacity,value:l.bubble.opacity},particlesObj:{optValue:Qi(l.options.opacity.value),value:(i=(e=l.opacity)===null||e===void 0?void 0:e.value)!==null&&i!==void 0?i:1},type:"opacity"};this.process(l,c,d,p),r.bubble.durationEnd?delete l.bubble.color:c<=r.retina.bubbleModeDistance?this.hoverBubbleColor(l,c):delete l.bubble.color}}hoverBubble(){const e=this.container,i=e.interactivity.mouse.position;if(i===void 0)return;const r=e.retina.bubbleModeDistance,n=e.particles.quadTree.queryCircle(i,r);for(const s of n){s.bubble.inRange=!0;const a=s.getPosition(),o=ht(a,i),l=1-o/r;o<=r?l>=0&&e.interactivity.status===Ee.mouseMoveEvent&&(this.hoverBubbleSize(s,l),this.hoverBubbleOpacity(s,l),this.hoverBubbleColor(s,l)):this.reset(s),e.interactivity.status===Ee.mouseLeaveEvent&&this.reset(s)}}hoverBubbleSize(e,i,r){const n=this.container,s=r?.size?r.size*n.retina.pixelRatio:n.retina.bubbleModeSize;if(s===void 0)return;const a=Qi(e.options.size.value)*n.retina.pixelRatio,o=e.size.value,l=PT(o,s,a,i);l!==void 0&&(e.bubble.radius=l)}hoverBubbleOpacity(e,i,r){var n,s,a;const o=this.container,l=o.actualOptions,u=(n=r?.opacity)!==null&&n!==void 0?n:l.interactivity.modes.bubble.opacity;if(!u)return;const c=e.options.opacity.value,d=(a=(s=e.opacity)===null||s===void 0?void 0:s.value)!==null&&a!==void 0?a:1,f=PT(d,u,Qi(c),i);f!==void 0&&(e.bubble.opacity=f)}hoverBubbleColor(e,i,r){const n=this.container.actualOptions,s=r??n.interactivity.modes.bubble;if(!e.bubble.finalColor){const a=s.color;if(!a)return;const o=a instanceof Array?Rt(a):a;e.bubble.finalColor=tr(o)}if(!!e.bubble.finalColor)if(s.mix){e.bubble.color=void 0;const a=e.getFillColor();e.bubble.color=a?d0(eh(a,e.bubble.finalColor,1-i,i)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}}async function nN(t){await t.addInteractor("externalBubble",e=>new iN(e))}class rN extends Zr{constructor(e){super(e)}isEnabled(){const e=this.container,i=e.interactivity.mouse,r=e.actualOptions.interactivity.events;return r.onHover.enable&&i.position?We("connect",r.onHover.mode):!1}reset(){}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="mousemove"){const r=e.interactivity.mouse.position;if(!r)return;const n=Math.abs(e.retina.connectModeRadius),s=e.particles.quadTree.queryCircle(r,n);let a=0;for(const o of s){const l=o.getPosition();for(const u of s.slice(a+1)){const c=u.getPosition(),d=Math.abs(e.retina.connectModeDistance),f=Math.abs(l.x-c.x),p=Math.abs(l.y-c.y);f<d&&p<d&&e.canvas.drawConnectLine(o,u)}++a}}}}async function sN(t){await t.addInteractor("externalConnect",e=>new rN(e))}class aN extends Zr{constructor(e){super(e)}isEnabled(){const e=this.container,i=e.interactivity.mouse,r=e.actualOptions.interactivity.events;return r.onHover.enable&&!!i.position&&We("grab",r.onHover.mode)}reset(){}async interact(){var e;const i=this.container,r=i.actualOptions,n=r.interactivity;if(n.events.onHover.enable&&i.interactivity.status===Ee.mouseMoveEvent){const s=i.interactivity.mouse.position;if(!s)return;const a=i.retina.grabModeDistance,o=i.particles.quadTree.queryCircle(s,a);for(const l of o){const u=l.getPosition(),c=ht(u,s);if(c<=a){const d=n.modes.grab.links,f=d.opacity,p=f-c*f/a;if(p<=0)continue;const g=(e=d.color)!==null&&e!==void 0?e:l.options.links.color;if(!i.particles.grabLineColor){const y=r.interactivity.modes.grab.links;i.particles.grabLineColor=m0(g,y.blink,y.consent)}const b=Yd(l,void 0,i.particles.grabLineColor);if(!b)return;i.canvas.drawGrabLine(l,b,p,s)}}}}}async function oN(t){await t.addInteractor("externalGrab",e=>new aN(e))}class lN extends Zr{constructor(e){super(e)}isEnabled(){const e=this.container,i=e.actualOptions,r=e.interactivity.mouse,n=i.interactivity.events,s=n.onDiv,a=Jf("repulse",s);if(!(a||n.onHover.enable&&r.position||n.onClick.enable&&r.clickPosition))return!1;const o=n.onHover.mode,l=n.onClick.mode;return We("repulse",o)||We("repulse",l)||a}reset(){}async interact(){const e=this.container,i=e.actualOptions,r=e.interactivity.status===Ee.mouseMoveEvent,n=i.interactivity.events,s=n.onHover.enable,a=n.onHover.mode,o=n.onClick.enable,l=n.onClick.mode,u=n.onDiv;r&&s&&We("repulse",a)?this.hoverRepulse():o&&We("repulse",l)?this.clickRepulse():Zf("repulse",u,(c,d)=>this.singleSelectorRepulse(c,d))}singleSelectorRepulse(e,i){const r=this.container,n=document.querySelectorAll(e);!n.length||n.forEach(s=>{const a=s,o=r.retina.pixelRatio,l={x:(a.offsetLeft+a.offsetWidth/2)*o,y:(a.offsetTop+a.offsetHeight/2)*o},u=a.offsetWidth/2*o,c=i.type==="circle"?new Ei(l.x,l.y,u):new Fi(a.offsetLeft*o,a.offsetTop*o,a.offsetWidth*o,a.offsetHeight*o),d=r.actualOptions.interactivity.modes.repulse.divs,f=u0(d,a);this.processRepulse(l,u,c,f)})}hoverRepulse(){const e=this.container,i=e.interactivity.mouse.position;if(!i)return;const r=e.retina.repulseModeDistance;this.processRepulse(i,r,new Ei(i.x,i.y,r))}processRepulse(e,i,r,n){var s;const a=this.container,o=a.particles.quadTree.query(r),l=a.actualOptions.interactivity.modes.repulse;for(const u of o){const{dx:c,dy:d,distance:f}=Gt(u.position,e),p=((s=n?.speed)!==null&&s!==void 0?s:l.speed)*l.factor,g=tn(l0(1-f/i,l.easing)*p,0,l.maxSpeed),b=$e.create(f===0?p:c/f*g,f===0?p:d/f*g);u.position.addTo(b)}}clickRepulse(){const e=this.container;if(e.repulse.finish||(e.repulse.count||(e.repulse.count=0),e.repulse.count++,e.repulse.count===e.particles.count&&(e.repulse.finish=!0)),e.repulse.clicking){const i=e.retina.repulseModeDistance,r=Math.pow(i/6,3),n=e.interactivity.mouse.clickPosition;if(n===void 0)return;const s=new Ei(n.x,n.y,r),a=e.particles.quadTree.query(s);for(const o of a){const{dx:l,dy:u,distance:c}=Gt(n,o.position),d=c**2,f=e.actualOptions.interactivity.modes.repulse.speed,p=-r*f/d;if(d<=r){e.repulse.particles.push(o);const g=$e.create(l,u);g.length=p,o.velocity.setTo(g)}}}else if(e.repulse.clicking===!1){for(const i of e.repulse.particles)i.velocity.setTo(i.initialVelocity);e.repulse.particles=[]}}}async function uN(t){await t.addInteractor("externalRepulse",e=>new lN(e))}const cN=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function dN(t,e,i){const{svgData:r}=t;if(!r)return"";const n=or(e,i);if(r.includes("fill"))return r.replace(cN,()=>n);const s=r.indexOf(">");return`${r.substring(0,s)} fill="${n}"${r.substring(s)}`}async function T0(t){return new Promise(e=>{t.loading=!0;const i=new Image;i.addEventListener("load",()=>{t.element=i,t.loading=!1,e()}),i.addEventListener("error",()=>{t.error=!0,t.loading=!1,console.error(`Error tsParticles - loading image: ${t.source}`),e()}),i.src=t.source})}async function fN(t){if(t.type!=="svg"){await T0(t);return}t.loading=!0;const e=await fetch(t.source);t.loading=!1,e.ok||(console.error("Error tsParticles - Image not found"),t.error=!0),t.error||(t.svgData=await e.text())}function hN(t,e,i,r){var n,s,a;const o=dN(t,i,(s=(n=r.opacity)===null||n===void 0?void 0:n.value)!==null&&s!==void 0?s:1),l=new Blob([o],{type:"image/svg+xml"}),u=URL||window.URL||window.webkitURL||window,c=u.createObjectURL(l),d=new Image,f={data:Object.assign(Object.assign({},t),{svgData:o}),ratio:e.width/e.height,replaceColor:(a=e.replaceColor)!==null&&a!==void 0?a:e.replace_color,source:e.src};return d.addEventListener("load",()=>{const p=r.image;p&&(p.loaded=!0,t.element=d),u.revokeObjectURL(c)}),d.addEventListener("error",()=>{u.revokeObjectURL(c);const p=Object.assign(Object.assign({},t),{error:!1,loading:!0});T0(p).then(()=>{const g=r.image;g&&(t.element=p.element,g.loaded=!0)})}),d.src=c,f}var OT=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},AT=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},ua;class pN{constructor(){ua.set(this,void 0),OT(this,ua,[],"f")}getSidesCount(){return 12}getImages(e){const i=AT(this,ua,"f").find(r=>r.id===e.id);return i||(AT(this,ua,"f").push({id:e.id,images:[]}),this.getImages(e))}addImage(e,i){const r=this.getImages(e);r?.images.push(i)}destroy(){OT(this,ua,[],"f")}async loadImageShape(e,i){const r=i.src;if(!r)throw new Error("Error tsParticles - No image.src");try{const n={source:r,type:r.substr(r.length-3),error:!1,loading:!0};this.addImage(e,n),await(i.replaceColor?fN:T0)(n)}catch{throw new Error(`tsParticles error - ${i.src} not found`)}}draw(e,i,r,n){var s,a;const o=i.image,l=(s=o?.data)===null||s===void 0?void 0:s.element;if(!l)return;const u=(a=o?.ratio)!==null&&a!==void 0?a:1,c={x:-r,y:-r};(!o?.data.svgData||!o?.replaceColor)&&(e.globalAlpha=n),e.drawImage(l,c.x,c.y,r*2,r*2/u),(!o?.data.svgData||!o?.replaceColor)&&(e.globalAlpha=1)}loadShape(e){var i,r,n;if(e.shape!=="image"&&e.shape!=="images")return;const s=this.getImages(e.container).images,a=e.shapeData,o=s.find(p=>p.source===a.src);let l;if(!o){this.loadImageShape(e.container,a).then(()=>{this.loadShape(e)});return}if(o.error)return;const u=e.getFillColor();o.svgData&&a.replaceColor&&u?l=hN(o,a,u,e):l={data:o,loaded:!0,ratio:a.width/a.height,replaceColor:(i=a.replaceColor)!==null&&i!==void 0?i:a.replace_color,source:a.src},l.ratio||(l.ratio=1);const c=(r=a.fill)!==null&&r!==void 0?r:e.fill,d=(n=a.close)!==null&&n!==void 0?n:e.close,f={image:l,fill:c,close:d};e.image=f.image,e.fill=f.fill,e.close=f.close}}ua=new WeakMap;async function mN(t){const e=new pN;await t.addShape("image",e),await t.addShape("images",e)}class vN{constructor(e){this.container=e}init(){}isEnabled(e){return!e.destroyed}update(e,i){if(!this.isEnabled(e))return;const r=e.life;let n=!1;if(e.spawning)if(r.delayTime+=i.value,r.delayTime>=e.life.delay)n=!0,e.spawning=!1,r.delayTime=0,r.time=0;else return;if(r.duration===-1||e.spawning||(n?r.time=0:r.time+=i.value,r.time<r.duration))return;if(r.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,a=xe(0,s.width),o=xe(0,s.width);e.position.x=$t(a),e.position.y=$t(o),e.spawning=!0,r.delayTime=0,r.time=0,e.reset();const l=e.options.life;r.delay=be(l.delay.value)*1e3,r.duration=be(l.duration.value)*1e3}}async function gN(t){await t.addParticleUpdater("life",e=>new vN(e))}class yN{getSidesCount(){return 1}draw(e,i,r){e.moveTo(-r/2,0),e.lineTo(r/2,0)}}async function _N(t){await t.addShape("line",new yN)}function bN(t,e,i,r){switch(t.options.opacity.animation.destroy){case"max":e>=r&&t.destroy();break;case"min":e<=i&&t.destroy();break}}function TN(t,e){var i,r,n,s,a;if(!t.opacity)return;const o=t.opacity.min,l=t.opacity.max;if(!(t.destroyed||!t.opacity.enable||((i=t.opacity.maxLoops)!==null&&i!==void 0?i:0)>0&&((r=t.opacity.loops)!==null&&r!==void 0?r:0)>((n=t.opacity.maxLoops)!==null&&n!==void 0?n:0))){switch(t.opacity.status){case 0:t.opacity.value>=l?(t.opacity.status=1,t.opacity.loops||(t.opacity.loops=0),t.opacity.loops++):t.opacity.value+=((s=t.opacity.velocity)!==null&&s!==void 0?s:0)*e.factor;break;case 1:t.opacity.value<=o?(t.opacity.status=0,t.opacity.loops||(t.opacity.loops=0),t.opacity.loops++):t.opacity.value-=((a=t.opacity.velocity)!==null&&a!==void 0?a:0)*e.factor;break}bN(t,t.opacity.value,o,l),t.destroyed||(t.opacity.value=tn(t.opacity.value,o,l))}}class xN{constructor(e){this.container=e}init(e){const i=e.options.opacity;e.opacity={enable:i.animation.enable,max:Qi(i.value),min:Ds(i.value),value:be(i.value),loops:0,maxLoops:be(i.animation.count)};const r=i.animation;if(r.enable){e.opacity.status=0;const n=i.value;switch(e.opacity.min=Ds(n),e.opacity.max=Qi(n),r.startValue){case"min":e.opacity.value=e.opacity.min,e.opacity.status=0;break;case"random":e.opacity.value=$t(e.opacity),e.opacity.status=Math.random()>=.5?0:1;break;case"max":default:e.opacity.value=e.opacity.max,e.opacity.status=1;break}e.opacity.velocity=be(r.speed)/100*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Math.random())}}isEnabled(e){var i,r,n,s;return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&(((i=e.opacity.maxLoops)!==null&&i!==void 0?i:0)<=0||((r=e.opacity.maxLoops)!==null&&r!==void 0?r:0)>0&&((n=e.opacity.loops)!==null&&n!==void 0?n:0)<((s=e.opacity.maxLoops)!==null&&s!==void 0?s:0))}update(e,i){!this.isEnabled(e)||TN(e,i)}}async function SN(t){await t.addParticleUpdater("opacity",e=>new xN(e))}function wN(t){if(!(t.outMode==="bounce"||t.outMode==="bounce-horizontal"||t.outMode==="bounceHorizontal"||t.outMode==="split"))return;const e=t.particle.velocity.x;let i=!1;if(t.direction==="right"&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction==="left"&&t.bounds.left<=0&&e<0){const n=be(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-n,i=!0}if(!i)return;const r=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width?t.particle.position.x=t.canvasSize.width-r:t.bounds.left<=0&&(t.particle.position.x=r),t.outMode==="split"&&t.particle.destroy()}function EN(t){if(t.outMode==="bounce"||t.outMode==="bounce-vertical"||t.outMode==="bounceVertical"||t.outMode==="split"){const e=t.particle.velocity.y;let i=!1;if(t.direction==="bottom"&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction==="top"&&t.bounds.top<=0&&e<0){const n=be(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-n,i=!0}if(!i)return;const r=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height?t.particle.position.y=t.canvasSize.height-r:t.bounds.top<=0&&(t.particle.position.y=r),t.outMode==="split"&&t.particle.destroy()}}class CN{constructor(e){this.container=e}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,i){var r,n,s,a;const o=e.options.move.outModes;this.updateOutMode(e,i,(r=o.bottom)!==null&&r!==void 0?r:o.default,"bottom"),this.updateOutMode(e,i,(n=o.left)!==null&&n!==void 0?n:o.default,"left"),this.updateOutMode(e,i,(s=o.right)!==null&&s!==void 0?s:o.default,"right"),this.updateOutMode(e,i,(a=o.top)!==null&&a!==void 0?a:o.default,"top")}updateOutMode(e,i,r,n){switch(r){case"bounce":case"bounce-vertical":case"bounce-horizontal":case"bounceVertical":case"bounceHorizontal":case"split":this.bounce(e,i,n,r);break;case"destroy":this.destroy(e,n);break;case"out":this.out(e,n);break;case"none":default:this.none(e,n);break}}destroy(e,i){const r=this.container;Ma(e.position,r.canvas.size,e.getRadius(),i)||r.particles.remove(e,void 0,!0)}out(e,i){const r=this.container;if(Ma(e.position,r.canvas.size,e.getRadius(),i))return;const n=e.options.move.warp,s=r.canvas.size,a={bottom:s.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:s.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},o=e.getRadius(),l=Ha(e.position,o);i==="right"&&l.left>s.width+e.offset.x?(e.position.x=a.left,e.initialPosition.x=e.position.x,n||(e.position.y=Math.random()*s.height,e.initialPosition.y=e.position.y)):i==="left"&&l.right<-e.offset.x&&(e.position.x=a.right,e.initialPosition.x=e.position.x,n||(e.position.y=Math.random()*s.height,e.initialPosition.y=e.position.y)),i==="bottom"&&l.top>s.height+e.offset.y?(n||(e.position.x=Math.random()*s.width,e.initialPosition.x=e.position.x),e.position.y=a.top,e.initialPosition.y=e.position.y):i==="top"&&l.bottom<-e.offset.y&&(n||(e.position.x=Math.random()*s.width,e.initialPosition.x=e.position.x),e.position.y=a.bottom,e.initialPosition.y=e.position.y)}bounce(e,i,r,n){const s=this.container;let a=!1;for(const[,f]of s.plugins)if(f.particleBounce!==void 0&&(a=f.particleBounce(e,i,r)),a)break;if(a)return;const o=e.getPosition(),l=e.offset,u=e.getRadius(),c=Ha(o,u),d=s.canvas.size;wN({particle:e,outMode:n,direction:r,bounds:c,canvasSize:d,offset:l,size:u}),EN({particle:e,outMode:n,direction:r,bounds:c,canvasSize:d,offset:l,size:u})}none(e,i){if(e.options.move.distance.horizontal&&(i==="left"||i==="right")||e.options.move.distance.vertical&&(i==="top"||i==="bottom"))return;const r=e.options.move.gravity,n=this.container,s=n.canvas.size,a=e.getRadius();if(r.enable){const o=e.position;(!r.inverse&&o.y>s.height+a&&i==="bottom"||r.inverse&&o.y<-a&&i==="top")&&n.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=s.height+a||e.velocity.y<0&&e.position.y>=-a||e.velocity.x>0&&e.position.x<=s.width+a||e.velocity.x<0&&e.position.x>=-a)return;Ma(e.position,n.canvas.size,a,i)||n.particles.remove(e)}}}async function kN(t){await t.addParticleUpdater("outModes",e=>new CN(e))}class PN extends th{constructor(e){super(e)}async interact(e){var i;const r=this.container,n=(i=e.retina.attractDistance)!==null&&i!==void 0?i:r.retina.attractDistance,s=e.getPosition(),a=r.particles.quadTree.queryCircle(s,n);for(const o of a){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const l=o.getPosition(),{dx:u,dy:c}=Gt(s,l),d=e.options.move.attract.rotate,f=u/(d.x*1e3),p=c/(d.y*1e3),g=o.size.value/e.size.value,b=1/g;e.velocity.x-=f*g,e.velocity.y-=p*g,o.velocity.x+=f*b,o.velocity.y+=p*b}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function ON(t){await t.addInteractor("particlesAttract",e=>new PN(e))}function UE(t,e){c0(Qd(t),Qd(e))}function AN(t,e){!t.unbreakable&&!e.unbreakable&&UE(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e.destroy():t.destroy())}class IN extends th{constructor(e){super(e)}isEnabled(e){return e.options.collisions.enable}reset(){}async interact(e){const i=this.container,r=e.getPosition(),n=e.getRadius(),s=i.particles.quadTree.queryCircle(r,n*2);for(const a of s){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const o=a.getPosition();if(Math.round(r.z)!==Math.round(o.z))continue;const l=ht(r,o),u=a.getRadius(),c=n+u;l<=c&&this.resolveCollision(e,a)}}resolveCollision(e,i){switch(e.options.collisions.mode){case"absorb":{this.absorb(e,i);break}case"bounce":{UE(e,i);break}case"destroy":{AN(e,i);break}}}absorb(e,i){const r=this.container,n=r.fpsLimit/1e3;if(e.getRadius()===void 0&&i.getRadius()!==void 0)e.destroy();else if(e.getRadius()!==void 0&&i.getRadius()===void 0)i.destroy();else if(e.getRadius()!==void 0&&i.getRadius()!==void 0)if(e.getRadius()>=i.getRadius()){const s=tn(e.getRadius()/i.getRadius(),0,i.getRadius())*n;e.size.value+=s,i.size.value-=s,i.getRadius()<=r.retina.pixelRatio&&(i.size.value=0,i.destroy())}else{const s=tn(i.getRadius()/e.getRadius(),0,e.getRadius())*n;e.size.value-=s,i.size.value+=s,e.getRadius()<=r.retina.pixelRatio&&(e.size.value=0,e.destroy())}}}async function DN(t){await t.addInteractor("particlesCollisions",e=>new IN(e))}function MN(t,e,i,r,n){let s=ht(t,e);if(!n||s<=i)return s;const a={x:e.x-r.width,y:e.y};if(s=ht(t,a),s<=i)return s;const o={x:e.x-r.width,y:e.y-r.height};if(s=ht(t,o),s<=i)return s;const l={x:e.x,y:e.y-r.height};return s=ht(t,l),s}class LN extends th{constructor(e){super(e)}isEnabled(e){return e.options.links.enable}reset(){}async interact(e){var i;e.links=[];const r=e.getPosition(),n=this.container,s=n.canvas.size;if(r.x<0||r.y<0||r.x>s.width||r.y>s.height)return;const a=e.options.links,o=a.opacity,l=(i=e.retina.linksDistance)!==null&&i!==void 0?i:n.retina.linksDistance,u=a.warp,c=u?new y0(r.x,r.y,l,s):new Ei(r.x,r.y,l),d=n.particles.quadTree.query(c);for(const f of d){const p=f.options.links;if(e===f||!p.enable||a.id!==p.id||f.spawning||f.destroyed||e.links.map(T=>T.destination).indexOf(f)!==-1||f.links.map(T=>T.destination).indexOf(e)!==-1)continue;const g=f.getPosition();if(g.x<0||g.y<0||g.x>s.width||g.y>s.height)continue;const b=MN(r,g,l,s,u&&p.warp);if(b>l)return;const y=(1-b/l)*o;this.setColor(e),e.links.push({destination:f,opacity:y})}}setColor(e){const i=this.container,r=e.options.links;let n=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(!n){const s=r.color;n=m0(s,r.blink,r.consent),r.id===void 0?i.particles.linksColor=n:i.particles.linksColors.set(r.id,n)}}}async function RN(t){await t.addInteractor("particlesLinks",e=>new LN(e))}class FN{constructor(e){this.container=e}particleCreated(e){const i=e;i.links=[]}particleDestroyed(e){const i=e;i.links=[]}drawParticle(e,i){const r=i,n=this.container,s=n.particles,a=i.options;if(r.links.length>0){e.save();const o=r.links.filter(l=>n.particles.getLinkFrequency(r,l.destination)<=a.links.frequency);for(const l of o){const u=l.destination;if(a.links.triangles.enable){const c=o.map(f=>f.destination),d=u.links.filter(f=>n.particles.getLinkFrequency(u,f.destination)<=u.options.links.frequency&&c.indexOf(f.destination)>=0);if(d.length)for(const f of d){const p=f.destination;s.getTriangleFrequency(r,u,p)>a.links.triangles.frequency||this.drawLinkTriangle(r,l,f)}}l.opacity>0&&n.retina.linksWidth>0&&this.drawLinkLine(r,l)}e.restore()}}drawLinkTriangle(e,i,r){var n;const s=this.container,a=s.actualOptions,o=i.destination,l=r.destination,u=e.options.links.triangles,c=(n=u.opacity)!==null&&n!==void 0?n:(i.opacity+r.opacity)/2;if(c<=0)return;const d=e.getPosition(),f=o.getPosition(),p=l.getPosition();s.canvas.draw(g=>{if(ht(d,f)>s.retina.linksDistance||ht(p,f)>s.retina.linksDistance||ht(p,d)>s.retina.linksDistance)return;let b=ci(u.color);if(!b){const y=e.options.links,T=y.id!==void 0?s.particles.linksColors.get(y.id):s.particles.linksColor;b=Yd(e,o,T)}!b||cE(g,d,f,p,a.backgroundMask.enable,a.backgroundMask.composite,b,c)})}drawLinkLine(e,i){const r=this.container,n=r.actualOptions,s=i.destination;let a=i.opacity;const o=e.getPosition(),l=s.getPosition();r.canvas.draw(u=>{var c,d;let f;const p=e.options.twinkle.lines;if(p.enable){const y=p.frequency,T=ci(p.color);Math.random()<y&&T!==void 0&&(f=T,a=be(p.opacity))}if(!f){const y=e.options.links,T=y.id!==void 0?r.particles.linksColors.get(y.id):r.particles.linksColor;f=Yd(e,s,T)}if(!f)return;const g=(c=e.retina.linksWidth)!==null&&c!==void 0?c:r.retina.linksWidth,b=(d=e.retina.linksDistance)!==null&&d!==void 0?d:r.retina.linksDistance;uE(u,g,o,l,b,r.canvas.size,e.options.links.warp,n.backgroundMask.enable,n.backgroundMask.composite,f,a,e.options.links.shadow)})}}class NN{constructor(){this.id="links"}getPlugin(e){return new FN(e)}needsPlugin(){return!0}loadOptions(){}}async function UN(t){const e=new NN;await t.addPlugin(e)}async function BN(t){await RN(t),await UN(t)}class BE{getSidesCount(e){var i,r;const n=e.shapeData;return(r=(i=n?.sides)!==null&&i!==void 0?i:n?.nb_sides)!==null&&r!==void 0?r:5}draw(e,i,r){const n=this.getCenter(i,r),s=this.getSidesData(i,r),a=s.count.numerator*s.count.denominator,o=s.count.numerator/s.count.denominator,l=180*(o-2)/o,u=Math.PI-Math.PI*l/180;if(!!e){e.beginPath(),e.translate(n.x,n.y),e.moveTo(0,0);for(let c=0;c<a;c++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(u)}}}class zN extends BE{getSidesData(e,i){var r,n;const s=e.shapeData,a=(n=(r=s?.sides)!==null&&r!==void 0?r:s?.nb_sides)!==null&&n!==void 0?n:5;return{count:{denominator:1,numerator:a},length:i*2.66/(a/3)}}getCenter(e,i){const r=this.getSidesCount(e);return{x:-i/(r/3.5),y:-i/(2.66/3.5)}}}class jN extends BE{getSidesCount(){return 3}getSidesData(e,i){return{count:{denominator:2,numerator:3},length:i*2}}getCenter(e,i){return{x:-i,y:i/1.66}}}async function VN(t){await t.addShape("polygon",new zN)}async function HN(t){await t.addShape("triangle",new jN)}async function WN(t){await VN(t),await HN(t)}function qN(t,e,i,r){switch(t.options.size.animation.destroy){case"max":e>=r&&t.destroy();break;case"min":e<=i&&t.destroy();break}}function $N(t,e){var i,r,n,s;const a=((i=t.size.velocity)!==null&&i!==void 0?i:0)*e.factor,o=t.size.min,l=t.size.max;if(!(t.destroyed||!t.size.enable||((r=t.size.maxLoops)!==null&&r!==void 0?r:0)>0&&((n=t.size.loops)!==null&&n!==void 0?n:0)>((s=t.size.maxLoops)!==null&&s!==void 0?s:0))){switch(t.size.status){case 0:t.size.value>=l?(t.size.status=1,t.size.loops||(t.size.loops=0),t.size.loops++):t.size.value+=a;break;case 1:t.size.value<=o?(t.size.status=0,t.size.loops||(t.size.loops=0),t.size.loops++):t.size.value-=a}qN(t,t.size.value,o,l),t.destroyed||(t.size.value=tn(t.size.value,o,l))}}class GN{init(){}isEnabled(e){var i,r,n,s;return!e.destroyed&&!e.spawning&&e.size.enable&&(((i=e.size.maxLoops)!==null&&i!==void 0?i:0)<=0||((r=e.size.maxLoops)!==null&&r!==void 0?r:0)>0&&((n=e.size.loops)!==null&&n!==void 0?n:0)<((s=e.size.maxLoops)!==null&&s!==void 0?s:0))}update(e,i){!this.isEnabled(e)||$N(e,i)}}async function XN(t){await t.addParticleUpdater("size",()=>new GN)}const Dc=Math.sqrt(2);class KN{getSidesCount(){return 4}draw(e,i,r){e.rect(-r/Dc,-r/Dc,r*2/Dc,r*2/Dc)}}async function QN(t){const e=new KN;await t.addShape("edge",e),await t.addShape("square",e)}class YN{getSidesCount(e){var i,r;const n=e.shapeData;return(r=(i=n?.sides)!==null&&i!==void 0?i:n?.nb_sides)!==null&&r!==void 0?r:5}draw(e,i,r){var n;const s=i.shapeData,a=this.getSidesCount(i),o=(n=s?.inset)!==null&&n!==void 0?n:2;e.moveTo(0,0-r);for(let l=0;l<a;l++)e.rotate(Math.PI/a),e.lineTo(0,0-r*o),e.rotate(Math.PI/a),e.lineTo(0,0-r)}}async function JN(t){await t.addShape("star",new YN)}function Ep(t,e,i,r,n){var s;const a=e;if(!a||!a.enable)return;const o=$t(i.offset),l=((s=e.velocity)!==null&&s!==void 0?s:0)*t.factor+o*3.6;!n||a.status===0?(a.value+=l,n&&a.value>r&&(a.status=1,a.value-=a.value%r)):(a.value-=l,a.value<0&&(a.status=0,a.value+=a.value)),a.value>r&&(a.value%=r)}function ZN(t,e){var i,r,n,s,a,o,l,u,c,d;if(!(!((i=t.stroke)===null||i===void 0)&&i.color))return;const f=t.stroke.color.animation,p=(n=(r=t.strokeColor)===null||r===void 0?void 0:r.h)!==null&&n!==void 0?n:(s=t.color)===null||s===void 0?void 0:s.h;p&&Ep(e,p,f.h,360,!1);const g=(o=(a=t.strokeColor)===null||a===void 0?void 0:a.s)!==null&&o!==void 0?o:(l=t.color)===null||l===void 0?void 0:l.s;g&&Ep(e,g,f.s,100,!0);const b=(c=(u=t.strokeColor)===null||u===void 0?void 0:u.l)!==null&&c!==void 0?c:(d=t.color)===null||d===void 0?void 0:d.l;b&&Ep(e,b,f.l,100,!0)}class eU{constructor(e){this.container=e}init(e){var i,r;const n=this.container;e.stroke=e.options.stroke instanceof Array?Rt(e.options.stroke,e.id,e.options.reduceDuplicates):e.options.stroke,e.strokeWidth=e.stroke.width*n.retina.pixelRatio;const s=(i=tr(e.stroke.color))!==null&&i!==void 0?i:e.getFillColor();s&&(e.strokeColor=v0(s,(r=e.stroke.color)===null||r===void 0?void 0:r.animation,n.retina.reduceFactor))}isEnabled(e){var i,r,n,s;const a=(i=e.stroke)===null||i===void 0?void 0:i.color;return!e.destroyed&&!e.spawning&&!!a&&(((r=e.strokeColor)===null||r===void 0?void 0:r.h.value)!==void 0&&a.animation.h.enable||((n=e.strokeColor)===null||n===void 0?void 0:n.s.value)!==void 0&&a.animation.s.enable||((s=e.strokeColor)===null||s===void 0?void 0:s.l.value)!==void 0&&a.animation.l.enable)}update(e,i){!this.isEnabled(e)||ZN(e,i)}}async function tU(t){await t.addParticleUpdater("strokeColor",e=>new eU(e))}const fv=["text","character","char"];class iU{getSidesCount(){return 12}async init(e){const i=e.actualOptions;if(fv.find(r=>We(r,i.particles.shape.type))){const r=fv.map(n=>i.particles.shape.options[n]).find(n=>!!n);if(r instanceof Array){const n=[];for(const s of r)n.push(av(s));await Promise.allSettled(n)}else r!==void 0&&await av(r)}}draw(e,i,r,n){var s,a,o;const l=i.shapeData;if(l===void 0)return;const u=l.value;if(u===void 0)return;const c=i;c.text===void 0&&(c.text=u instanceof Array?Rt(u,i.randomIndexData):u);const d=c.text,f=(s=l.style)!==null&&s!==void 0?s:"",p=(a=l.weight)!==null&&a!==void 0?a:"400",g=Math.round(r)*2,b=(o=l.font)!==null&&o!==void 0?o:"Verdana",y=i.fill,T=d.length*r/2;e.font=`${f} ${p} ${g}px "${b}"`;const w={x:-T,y:r/2};e.globalAlpha=n,y?e.fillText(d,w.x,w.y):e.strokeText(d,w.x,w.y),e.globalAlpha=1}}async function nU(t){const e=new iU;for(const i of fv)await t.addShape(i,e)}async function rU(t){await ZF(t),await tN(t),await nN(t),await sN(t),await oN(t),await uN(t),await ON(t),await DN(t),await BN(t),await XF(t),await mN(t),await _N(t),await WN(t),await QN(t),await JN(t),await nU(t),await gN(t),await SN(t),await XN(t),await $F(t),await YF(t),await tU(t),await kN(t)}function sU(t,e){var i;if(!t.tilt)return;const n=t.options.tilt.animation,s=((i=t.tilt.velocity)!==null&&i!==void 0?i:0)*e.factor,a=2*Math.PI;if(!!n.enable)switch(t.tilt.status){case 0:t.tilt.value+=s,t.tilt.value>a&&(t.tilt.value-=a);break;case 1:default:t.tilt.value-=s,t.tilt.value<0&&(t.tilt.value+=a);break}}class aU{constructor(e){this.container=e}init(e){const i=e.options.tilt;e.tilt={enable:i.enable,value:be(i.value)*Math.PI/180,sinDirection:Math.random()>=.5?1:-1,cosDirection:Math.random()>=.5?1:-1};let r=i.direction;switch(r==="random"&&(r=Math.floor(Math.random()*2)>0?"counter-clockwise":"clockwise"),r){case"counter-clockwise":case"counterClockwise":e.tilt.status=1;break;case"clockwise":e.tilt.status=0;break}const n=e.options.tilt.animation;n.enable&&(e.tilt.velocity=be(n.speed)/360*this.container.retina.reduceFactor,n.sync||(e.tilt.velocity*=Math.random()))}isEnabled(e){const r=e.options.tilt.animation;return!e.destroyed&&!e.spawning&&r.enable}update(e,i){!this.isEnabled(e)||sU(e,i)}}async function oU(t){await t.addParticleUpdater("tilt",e=>new aU(e))}function lU(t,e){var i;if(!t.options.wobble.enable||!t.wobble)return;const n=t.wobble.speed*e.factor,s=((i=t.retina.wobbleDistance)!==null&&i!==void 0?i:0)*e.factor/(1e3/60),a=2*Math.PI;t.wobble.angle+=n,t.wobble.angle>a&&(t.wobble.angle-=a),t.position.x+=s*Math.cos(t.wobble.angle),t.position.y+=s*Math.abs(Math.sin(t.wobble.angle))}class uU{constructor(e){this.container=e}init(e){const i=e.options.wobble;i.enable?e.wobble={angle:Math.random()*Math.PI*2,speed:be(i.speed)/360}:e.wobble={angle:0,speed:0},e.retina.wobbleDistance=be(i.distance)*this.container.retina.pixelRatio}isEnabled(e){return!e.destroyed&&!e.spawning&&e.options.wobble.enable}update(e,i){!this.isEnabled(e)||lU(e,i)}}async function cU(t){await t.addParticleUpdater("wobble",e=>new uU(e))}async function dU(t){await rU(t),await kF(t),await HF(t),await oU(t),await cU(t),await dF(t),await EF(t),await zF(t)}const ih=new cv;ih.init();const{particlesJS:fU,pJSDom:hU}=sF(ih);dU(ih);var pU=Object.freeze(Object.defineProperty({__proto__:null,Engine:cv,Main:cv,particlesJS:fU,pJSDom:hU,tsParticles:ih,Canvas:CE,Container:LE,Loader:RE,Particle:IE,Particles:DE,Retina:ME,Circle:Ei,CircleWarp:y0,Constants:Ee,EventListeners:bE,ExternalInteractorBase:Zr,FrameManager:TE,InteractionManager:xE,ParticlesInteractorBase:th,ParticlesMover:SE,Plugins:wE,Point:EE,QuadTree:kr,Range:g0,Rectangle:Fi,Vector:$e,Vector3d:jt,paintBase:lE,clear:sd,drawLinkLine:uE,drawLinkTriangle:cE,drawConnectLine:dE,gradient:fE,drawGrabLine:hE,drawParticle:pE,drawShape:mE,drawShapeAfterEffect:vE,drawPlugin:gE,drawParticlePlugin:yE,drawEllipse:SR,alterHsl:_E,colorToRgb:ci,colorToHsl:tr,rgbToHsl:d0,stringToAlpha:iE,stringToRgb:nE,hslToRgb:Wa,hslaToRgba:rE,hslToHsv:sE,hslaToHsva:yR,hsvToHsl:f0,hsvaToHsla:_R,hsvToRgb:h0,hsvaToRgba:aE,rgbToHsv:oE,rgbaToHsva:bR,getRandomRgbColor:p0,getStyleFromRgb:Bi,getStyleFromHsl:or,getStyleFromHsv:TR,colorMix:eh,getLinkColor:Yd,getLinkRandomColor:m0,getHslFromAnimation:lv,getHslAnimationFromHsl:v0,clamp:tn,mix:rd,randomInRange:$t,getRangeValue:be,getRangeMin:Ds,getRangeMax:Qi,setRangeValue:xe,getValue:Ms,getDistances:Gt,getDistance:ht,getParticleDirectionAngle:X1,getParticleBaseVelocity:K1,collisionVelocity:sv,calcEasing:l0,isSsr:$r,animate:Q1,cancelAnimation:Y1,isInArray:We,loadFont:av,arrayRandomIndex:J1,itemFromArray:Rt,isPointInside:Ma,areBoundsInside:Z1,calculateBounds:Ha,deepExtend:Ge,isDivModeEnabled:Jf,divModeExecute:Zf,singleDivModeExecute:ov,divMode:u0,circleBounceDataFromParticle:Qd,circleBounce:c0,rectBounce:eE},Symbol.toStringTag,{value:"Module"})),mU=Cf(pU),vU=function t(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var r,n,s;if(Array.isArray(e)){if(r=e.length,r!=i.length)return!1;for(n=r;n--!==0;)if(!t(e[n],i[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(i).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(i,s[n]))return!1;for(n=r;n--!==0;){var a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],i[a]))return!1}return!0}return e!==e&&i!==i};(function(t){(()=>{var e={757:(o,l,u)=>{o.exports=u(666)},312:(o,l,u)=>{function c(A,U){for(var z=0;z<U.length;z++){var H=U[z];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(A,H.key,H)}}function d(A){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)})(A)}function f(A,U){for(;!Object.prototype.hasOwnProperty.call(A,U)&&(A=d(A))!==null;);return A}function p(){return(p=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,U,z){var H=f(A,U);if(H){var G=Object.getOwnPropertyDescriptor(H,U);return G.get?G.get.call(arguments.length<3?A:z):G.value}}).apply(this,arguments)}function g(A,U){return(g=Object.setPrototypeOf||function(z,H){return z.__proto__=H,z})(A,U)}function b(A){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(A)}function y(A,U){if(U&&(b(U)==="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(A)}u.d(l,{Z:()=>k});var T=u(757),w=u.n(T);const O=ve.exports;var P=u.n(O);const F=mU,L=vU;var R=u.n(L),E=function(A,U,z,H){return new(z||(z=Promise))(function(G,Q){function ee(te){try{Y(H.next(te))}catch(pe){Q(pe)}}function q(te){try{Y(H.throw(te))}catch(pe){Q(pe)}}function Y(te){var pe;te.done?G(te.value):(pe=te.value,pe instanceof z?pe:new z(function(J){J(pe)})).then(ee,q)}Y((H=H.apply(A,U||[])).next())})},k=function(A){(function(q,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(q,"prototype",{value:Object.create(Y&&Y.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),writable:!1}),Y&&g(q,Y)})(ee,A);var U,z,H,G,Q=(H=ee,G=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var q,Y=d(H);if(G){var te=d(this).constructor;q=Reflect.construct(Y,arguments,te)}else q=Y.apply(this,arguments);return y(this,q)});function ee(q){var Y;return function(te,pe){if(!(te instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,ee),(Y=Q.call(this,q)).state={library:void 0},Y}return U=ee,(z=[{key:"destroy",value:function(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}},{key:"shouldComponentUpdate",value:function(q){return!R()(q,this.props)}},{key:"componentDidUpdate",value:function(){this.refresh()}},{key:"forceUpdate",value:function(){var q=this;this.refresh().then(function(){p(d(ee.prototype),"forceUpdate",q).call(q)})}},{key:"componentDidMount",value:function(){E(this,void 0,void 0,w().mark(function q(){return w().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!this.props.init){Y.next=3;break}return Y.next=3,this.props.init(F.tsParticles);case 3:return Y.next=5,this.loadParticles();case 5:case"end":return Y.stop()}},q,this)}))}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"render",value:function(){var q=this.props,Y=q.width,te=q.height,pe=q.className,J=q.canvasClassName,$=q.id;return P().createElement("div",{className:pe,id:$},P().createElement("canvas",{className:J,style:Object.assign(Object.assign({},this.props.style),{width:Y,height:te})}))}},{key:"refresh",value:function(){return E(this,void 0,void 0,w().mark(function q(){return w().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return this.destroy(),Y.next=3,this.loadParticles();case 3:case"end":return Y.stop()}},q,this)}))}},{key:"loadParticles",value:function(){var q;return E(this,void 0,void 0,w().mark(function Y(){var te,pe,J=this;return w().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(te=function(de){return E(J,void 0,void 0,w().mark(function X(){return w().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this.props.container&&(this.props.container.current=de),this.setState({library:de}),!this.props.loaded){W.next=5;break}return W.next=5,this.props.loaded(de);case 5:case"end":return W.stop()}},X,this)}))},!this.props.url){$.next=7;break}return $.next=4,F.tsParticles.loadJSON(this.props.id,this.props.url);case 4:$.t0=$.sent,$.next=10;break;case 7:return $.next=9,F.tsParticles.load(this.props.id,(q=this.props.params)!==null&&q!==void 0?q:this.props.options);case 9:$.t0=$.sent;case 10:return pe=$.t0,$.next=13,te(pe);case 13:case"end":return $.stop()}},Y,this)}))}}])&&c(U.prototype,z),Object.defineProperty(U,"prototype",{writable:!1}),ee}(O.Component);k.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:"tsparticles"}},666:o=>{var l=function(u){var c,d=Object.prototype,f=d.hasOwnProperty,p=typeof Symbol=="function"?Symbol:{},g=p.iterator||"@@iterator",b=p.asyncIterator||"@@asyncIterator",y=p.toStringTag||"@@toStringTag";function T(X,W,ae){return Object.defineProperty(X,W,{value:ae,enumerable:!0,configurable:!0,writable:!0}),X[W]}try{T({},"")}catch{T=function(W,ae,fe){return W[ae]=fe}}function w(X,W,ae,fe){var le=W&&W.prototype instanceof k?W:k,re=Object.create(le.prototype),Se=new J(fe||[]);return re._invoke=function(Le,ze,ge){var Pe=P;return function(Ne,we){if(Pe===L)throw new Error("Generator is already running");if(Pe===R){if(Ne==="throw")throw we;return de()}for(ge.method=Ne,ge.arg=we;;){var mt=ge.delegate;if(mt){var yt=Y(mt,ge);if(yt){if(yt===E)continue;return yt}}if(ge.method==="next")ge.sent=ge._sent=ge.arg;else if(ge.method==="throw"){if(Pe===P)throw Pe=R,ge.arg;ge.dispatchException(ge.arg)}else ge.method==="return"&&ge.abrupt("return",ge.arg);Pe=L;var ke=O(Le,ze,ge);if(ke.type==="normal"){if(Pe=ge.done?R:F,ke.arg===E)continue;return{value:ke.arg,done:ge.done}}ke.type==="throw"&&(Pe=R,ge.method="throw",ge.arg=ke.arg)}}}(X,ae,Se),re}function O(X,W,ae){try{return{type:"normal",arg:X.call(W,ae)}}catch(fe){return{type:"throw",arg:fe}}}u.wrap=w;var P="suspendedStart",F="suspendedYield",L="executing",R="completed",E={};function k(){}function A(){}function U(){}var z={};z[g]=function(){return this};var H=Object.getPrototypeOf,G=H&&H(H($([])));G&&G!==d&&f.call(G,g)&&(z=G);var Q=U.prototype=k.prototype=Object.create(z);function ee(X){["next","throw","return"].forEach(function(W){T(X,W,function(ae){return this._invoke(W,ae)})})}function q(X,W){function ae(le,re,Se,Le){var ze=O(X[le],X,re);if(ze.type!=="throw"){var ge=ze.arg,Pe=ge.value;return Pe&&typeof Pe=="object"&&f.call(Pe,"__await")?W.resolve(Pe.__await).then(function(Ne){ae("next",Ne,Se,Le)},function(Ne){ae("throw",Ne,Se,Le)}):W.resolve(Pe).then(function(Ne){ge.value=Ne,Se(ge)},function(Ne){return ae("throw",Ne,Se,Le)})}Le(ze.arg)}var fe;this._invoke=function(le,re){function Se(){return new W(function(Le,ze){ae(le,re,Le,ze)})}return fe=fe?fe.then(Se,Se):Se()}}function Y(X,W){var ae=X.iterator[W.method];if(ae===c){if(W.delegate=null,W.method==="throw"){if(X.iterator.return&&(W.method="return",W.arg=c,Y(X,W),W.method==="throw"))return E;W.method="throw",W.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var fe=O(ae,X.iterator,W.arg);if(fe.type==="throw")return W.method="throw",W.arg=fe.arg,W.delegate=null,E;var le=fe.arg;return le?le.done?(W[X.resultName]=le.value,W.next=X.nextLoc,W.method!=="return"&&(W.method="next",W.arg=c),W.delegate=null,E):le:(W.method="throw",W.arg=new TypeError("iterator result is not an object"),W.delegate=null,E)}function te(X){var W={tryLoc:X[0]};1 in X&&(W.catchLoc=X[1]),2 in X&&(W.finallyLoc=X[2],W.afterLoc=X[3]),this.tryEntries.push(W)}function pe(X){var W=X.completion||{};W.type="normal",delete W.arg,X.completion=W}function J(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(te,this),this.reset(!0)}function $(X){if(X){var W=X[g];if(W)return W.call(X);if(typeof X.next=="function")return X;if(!isNaN(X.length)){var ae=-1,fe=function le(){for(;++ae<X.length;)if(f.call(X,ae))return le.value=X[ae],le.done=!1,le;return le.value=c,le.done=!0,le};return fe.next=fe}}return{next:de}}function de(){return{value:c,done:!0}}return A.prototype=Q.constructor=U,U.constructor=A,A.displayName=T(U,y,"GeneratorFunction"),u.isGeneratorFunction=function(X){var W=typeof X=="function"&&X.constructor;return!!W&&(W===A||(W.displayName||W.name)==="GeneratorFunction")},u.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,U):(X.__proto__=U,T(X,y,"GeneratorFunction")),X.prototype=Object.create(Q),X},u.awrap=function(X){return{__await:X}},ee(q.prototype),q.prototype[b]=function(){return this},u.AsyncIterator=q,u.async=function(X,W,ae,fe,le){le===void 0&&(le=Promise);var re=new q(w(X,W,ae,fe),le);return u.isGeneratorFunction(W)?re:re.next().then(function(Se){return Se.done?Se.value:re.next()})},ee(Q),T(Q,y,"Generator"),Q[g]=function(){return this},Q.toString=function(){return"[object Generator]"},u.keys=function(X){var W=[];for(var ae in X)W.push(ae);return W.reverse(),function fe(){for(;W.length;){var le=W.pop();if(le in X)return fe.value=le,fe.done=!1,fe}return fe.done=!0,fe}},u.values=$,J.prototype={constructor:J,reset:function(X){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(pe),!X)for(var W in this)W.charAt(0)==="t"&&f.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=c)},stop:function(){this.done=!0;var X=this.tryEntries[0].completion;if(X.type==="throw")throw X.arg;return this.rval},dispatchException:function(X){if(this.done)throw X;var W=this;function ae(ze,ge){return re.type="throw",re.arg=X,W.next=ze,ge&&(W.method="next",W.arg=c),!!ge}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var le=this.tryEntries[fe],re=le.completion;if(le.tryLoc==="root")return ae("end");if(le.tryLoc<=this.prev){var Se=f.call(le,"catchLoc"),Le=f.call(le,"finallyLoc");if(Se&&Le){if(this.prev<le.catchLoc)return ae(le.catchLoc,!0);if(this.prev<le.finallyLoc)return ae(le.finallyLoc)}else if(Se){if(this.prev<le.catchLoc)return ae(le.catchLoc,!0)}else{if(!Le)throw new Error("try statement without catch or finally");if(this.prev<le.finallyLoc)return ae(le.finallyLoc)}}}},abrupt:function(X,W){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var fe=this.tryEntries[ae];if(fe.tryLoc<=this.prev&&f.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var le=fe;break}}le&&(X==="break"||X==="continue")&&le.tryLoc<=W&&W<=le.finallyLoc&&(le=null);var re=le?le.completion:{};return re.type=X,re.arg=W,le?(this.method="next",this.next=le.finallyLoc,E):this.complete(re)},complete:function(X,W){if(X.type==="throw")throw X.arg;return X.type==="break"||X.type==="continue"?this.next=X.arg:X.type==="return"?(this.rval=this.arg=X.arg,this.method="return",this.next="end"):X.type==="normal"&&W&&(this.next=W),E},finish:function(X){for(var W=this.tryEntries.length-1;W>=0;--W){var ae=this.tryEntries[W];if(ae.finallyLoc===X)return this.complete(ae.completion,ae.afterLoc),pe(ae),E}},catch:function(X){for(var W=this.tryEntries.length-1;W>=0;--W){var ae=this.tryEntries[W];if(ae.tryLoc===X){var fe=ae.completion;if(fe.type==="throw"){var le=fe.arg;pe(ae)}return le}}throw new Error("illegal catch attempt")},delegateYield:function(X,W,ae){return this.delegate={iterator:$(X),resultName:W,nextLoc:ae},this.method==="next"&&(this.arg=c),E}},u}(o.exports);try{regeneratorRuntime=l}catch{Function("r","regeneratorRuntime = r")(l)}},868:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},300:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},264:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},329:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},469:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},961:function(o,l,u){var c=this&&this.__createBinding||(Object.create?function(f,p,g,b){b===void 0&&(b=g),Object.defineProperty(f,b,{enumerable:!0,get:function(){return p[g]}})}:function(f,p,g,b){b===void 0&&(b=g),f[b]=p[g]}),d=this&&this.__exportStar||function(f,p){for(var g in f)g==="default"||Object.prototype.hasOwnProperty.call(p,g)||c(p,f,g)};Object.defineProperty(l,"__esModule",{value:!0}),d(u(300),l),d(u(329),l),d(u(264),l),d(u(469),l)},974:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},252:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},130:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},330:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},208:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},349:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},581:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},164:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},667:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},855:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},702:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},515:function(o,l,u){var c=this&&this.__createBinding||(Object.create?function(f,p,g,b){b===void 0&&(b=g),Object.defineProperty(f,b,{enumerable:!0,get:function(){return p[g]}})}:function(f,p,g,b){b===void 0&&(b=g),f[b]=p[g]}),d=this&&this.__exportStar||function(f,p){for(var g in f)g==="default"||Object.prototype.hasOwnProperty.call(p,g)||c(p,f,g)};Object.defineProperty(l,"__esModule",{value:!0}),d(u(252),l),d(u(330),l),d(u(208),l),d(u(349),l),d(u(130),l),d(u(581),l),d(u(667),l),d(u(855),l),d(u(702),l),d(u(164),l)},47:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},64:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},712:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},77:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},589:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},457:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},796:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},247:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},676:(o,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},799:function(o,l,u){var c=this&&this.__createBinding||(Object.create?function(f,p,g,b){b===void 0&&(b=g),Object.defineProperty(f,b,{enumerable:!0,get:function(){return p[g]}})}:function(f,p,g,b){b===void 0&&(b=g),f[b]=p[g]}),d=this&&this.__exportStar||function(f,p){for(var g in f)g==="default"||Object.prototype.hasOwnProperty.call(p,g)||c(p,f,g)};Object.defineProperty(l,"__esModule",{value:!0}),d(u(47),l),d(u(64),l),d(u(589),l),d(u(457),l),d(u(247),l),d(u(676),l),d(u(712),l),d(u(77),l),d(u(796),l)},717:function(o,l,u){var c=this&&this.__createBinding||(Object.create?function(f,p,g,b){b===void 0&&(b=g),Object.defineProperty(f,b,{enumerable:!0,get:function(){return p[g]}})}:function(f,p,g,b){b===void 0&&(b=g),f[b]=p[g]}),d=this&&this.__exportStar||function(f,p){for(var g in f)g==="default"||Object.prototype.hasOwnProperty.call(p,g)||c(p,f,g)};Object.defineProperty(l,"__esModule",{value:!0}),d(u(961),l),d(u(515),l),d(u(868),l),d(u(799),l),d(u(974),l)}},i={};function r(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return e[o].call(u.exports,u,u.exports,r),u.exports}r.n=o=>{var l=o&&o.__esModule?()=>o.default:()=>o;return r.d(l,{a:l}),l},r.d=(o,l)=>{for(var u in l)r.o(l,u)&&!r.o(o,u)&&Object.defineProperty(o,u,{enumerable:!0,get:l[u]})},r.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l),r.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var n={};(()=>{r.r(n),r.d(n,{default:()=>c,Particles:()=>o.Z});var o=r(312),l=r(717),u={};for(const d in l)["default","Particles"].indexOf(d)<0&&(u[d]=()=>l[d]);r.d(n,u);const c=o.Z})();var s=t;for(var a in n)s[a]=n[a];n.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})})()})(G1);const fd=G1;for(let t in fd)fd.default[t]=fd[t];var sH=fd.default;const gU={background:{color:"#000"},particles:{color:{value:"#ffffff"},lineLinked:{enable:!1},move:{bounce:!1,direction:"none",enable:!0,outMode:"out",random:!0,speed:.1,straight:!1},opacity:{animation:{enable:!0,minimumValue:0,speed:1,sync:!1},random:!0,value:1},shape:{type:"circle"},size:{random:!0,value:3}}};function aH(t){t.addPreset("stars",gU)}var zE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IT=Ts.createContext&&Ts.createContext(zE),Br=globalThis&&globalThis.__assign||function(){return Br=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},Br.apply(this,arguments)},yU=globalThis&&globalThis.__rest||function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]]);return i};function jE(t){return t&&t.map(function(e,i){return Ts.createElement(e.tag,Br({key:i},e.attr),jE(e.child))})}function nh(t){return function(e){return Ts.createElement(_U,Br({attr:Br({},t.attr)},e),jE(t.child))}}function _U(t){var e=function(i){var r=t.attr,n=t.size,s=t.title,a=yU(t,["attr","size","title"]),o=n||i.size||"1em",l;return i.className&&(l=i.className),t.className&&(l=(l?l+" ":"")+t.className),Ts.createElement("svg",Br({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,a,{className:l,style:Br(Br({color:t.color||i.color},i.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Ts.createElement("title",null,s),t.children)};return IT!==void 0?Ts.createElement(IT.Consumer,null,function(i){return e(i)}):e(zE)}function oH(t){return nh({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}}]})(t)}function lH(t){return nh({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"}}]})(t)}function uH(t){return nh({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"}},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"}}]})(t)}var bU={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(i,r){t.exports=r()})(mn,function i(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},n=!r.document&&!!r.postMessage,s=n&&/blob:/i.test((r.location||{}).protocol),a={},o=0,l={parse:function(E,k){var A=(k=k||{}).dynamicTyping||!1;if(R(A)&&(k.dynamicTypingFunction=A,A={}),k.dynamicTyping=A,k.transform=!!R(k.transform)&&k.transform,k.worker&&l.WORKERS_SUPPORTED){var U=function(){if(!l.WORKERS_SUPPORTED)return!1;var H=(Q=r.URL||r.webkitURL||null,ee=i.toString(),l.BLOB_URL||(l.BLOB_URL=Q.createObjectURL(new Blob(["(",ee,")();"],{type:"text/javascript"})))),G=new r.Worker(H),Q,ee;return G.onmessage=w,G.id=o++,a[G.id]=G}();return U.userStep=k.step,U.userChunk=k.chunk,U.userComplete=k.complete,U.userError=k.error,k.step=R(k.step),k.chunk=R(k.chunk),k.complete=R(k.complete),k.error=R(k.error),delete k.worker,void U.postMessage({input:E,config:k,workerId:U.id})}var z=null;return l.NODE_STREAM_INPUT,typeof E=="string"?z=k.download?new d(k):new p(k):E.readable===!0&&R(E.read)&&R(E.on)?z=new g(k):(r.File&&E instanceof File||E instanceof Object)&&(z=new f(k)),z.stream(E)},unparse:function(E,k){var A=!1,U=!0,z=",",H=`\r
`,G='"',Q=G+G,ee=!1,q=null,Y=!1;(function(){if(typeof k=="object"){if(typeof k.delimiter!="string"||l.BAD_DELIMITERS.filter(function($){return k.delimiter.indexOf($)!==-1}).length||(z=k.delimiter),(typeof k.quotes=="boolean"||typeof k.quotes=="function"||Array.isArray(k.quotes))&&(A=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(ee=k.skipEmptyLines),typeof k.newline=="string"&&(H=k.newline),typeof k.quoteChar=="string"&&(G=k.quoteChar),typeof k.header=="boolean"&&(U=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");q=k.columns}k.escapeChar!==void 0&&(Q=k.escapeChar+G),(typeof k.escapeFormulae=="boolean"||k.escapeFormulae instanceof RegExp)&&(Y=k.escapeFormulae instanceof RegExp?k.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var te=new RegExp(y(G),"g");if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return pe(null,E,ee);if(typeof E[0]=="object")return pe(q||Object.keys(E[0]),E,ee)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||q),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),pe(E.fields||[],E.data||[],ee);throw new Error("Unable to serialize unrecognized input");function pe($,de,X){var W="";typeof $=="string"&&($=JSON.parse($)),typeof de=="string"&&(de=JSON.parse(de));var ae=Array.isArray($)&&0<$.length,fe=!Array.isArray(de[0]);if(ae&&U){for(var le=0;le<$.length;le++)0<le&&(W+=z),W+=J($[le],le);0<de.length&&(W+=H)}for(var re=0;re<de.length;re++){var Se=ae?$.length:de[re].length,Le=!1,ze=ae?Object.keys(de[re]).length===0:de[re].length===0;if(X&&!ae&&(Le=X==="greedy"?de[re].join("").trim()==="":de[re].length===1&&de[re][0].length===0),X==="greedy"&&ae){for(var ge=[],Pe=0;Pe<Se;Pe++){var Ne=fe?$[Pe]:Pe;ge.push(de[re][Ne])}Le=ge.join("").trim()===""}if(!Le){for(var we=0;we<Se;we++){0<we&&!ze&&(W+=z);var mt=ae&&fe?$[we]:we;W+=J(de[re][mt],we)}re<de.length-1&&(!X||0<Se&&!ze)&&(W+=H)}}return W}function J($,de){if($==null)return"";if($.constructor===Date)return JSON.stringify($).slice(1,25);var X=!1;Y&&typeof $=="string"&&Y.test($)&&($="'"+$,X=!0);var W=$.toString().replace(te,Q);return(X=X||A===!0||typeof A=="function"&&A($,de)||Array.isArray(A)&&A[de]||function(ae,fe){for(var le=0;le<fe.length;le++)if(-1<ae.indexOf(fe[le]))return!0;return!1}(W,l.BAD_DELIMITERS)||-1<W.indexOf(z)||W.charAt(0)===" "||W.charAt(W.length-1)===" ")?G+W+G:W}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!n&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=T,l.ParserHandle=b,l.NetworkStreamer=d,l.FileStreamer=f,l.StringStreamer=p,l.ReadableStreamStreamer=g,r.jQuery){var u=r.jQuery;u.fn.parse=function(E){var k=E.config||{},A=[];return this.each(function(H){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var G=0;G<this.files.length;G++)A.push({file:this.files[G],inputElem:this,instanceConfig:u.extend({},k)})}),U(),this;function U(){if(A.length!==0){var H,G,Q,ee,q=A[0];if(R(E.before)){var Y=E.before(q.file,q.inputElem);if(typeof Y=="object"){if(Y.action==="abort")return H="AbortError",G=q.file,Q=q.inputElem,ee=Y.reason,void(R(E.error)&&E.error({name:H},G,Q,ee));if(Y.action==="skip")return void z();typeof Y.config=="object"&&(q.instanceConfig=u.extend(q.instanceConfig,Y.config))}else if(Y==="skip")return void z()}var te=q.instanceConfig.complete;q.instanceConfig.complete=function(pe){R(te)&&te(pe,q.file,q.inputElem),z()},l.parse(q.file,q.instanceConfig)}else R(E.complete)&&E.complete()}function z(){A.splice(0,1),U()}}}function c(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(k){var A=F(k);A.chunkSize=parseInt(A.chunkSize),k.step||k.chunk||(A.chunkSize=null),this._handle=new b(A),(this._handle.streamer=this)._config=A}.call(this,E),this.parseChunk=function(k,A){if(this.isFirstChunk&&R(this._config.beforeFirstChunk)){var U=this._config.beforeFirstChunk(k);U!==void 0&&(k=U)}this.isFirstChunk=!1,this._halted=!1;var z=this._partialLine+k;this._partialLine="";var H=this._handle.parse(z,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var G=H.meta.cursor;this._finished||(this._partialLine=z.substring(G-this._baseIndex),this._baseIndex=G),H&&H.data&&(this._rowCount+=H.data.length);var Q=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)r.postMessage({results:H,workerId:l.WORKER_ID,finished:Q});else if(R(this._config.chunk)&&!A){if(this._config.chunk(H,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);H=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(H.data),this._completeResults.errors=this._completeResults.errors.concat(H.errors),this._completeResults.meta=H.meta),this._completed||!Q||!R(this._config.complete)||H&&H.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Q||H&&H.meta.paused||this._nextChunk(),H}this._halted=!0},this._sendError=function(k){R(this._config.error)?this._config.error(k):s&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:k,finished:!1})}}function d(E){var k;(E=E||{}).chunkSize||(E.chunkSize=l.RemoteChunkSize),c.call(this,E),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(A){this._input=A,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),n||(k.onload=L(this._chunkLoaded,this),k.onerror=L(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var A=this._config.downloadRequestHeaders;for(var U in A)k.setRequestHeader(U,A[U])}if(this._config.chunkSize){var z=this._start+this._config.chunkSize-1;k.setRequestHeader("Range","bytes="+this._start+"-"+z)}try{k.send(this._config.downloadRequestBody)}catch(H){this._chunkError(H.message)}n&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:k.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(A){var U=A.getResponseHeader("Content-Range");return U===null?-1:parseInt(U.substring(U.lastIndexOf("/")+1))}(k),this.parseChunk(k.responseText)))},this._chunkError=function(A){var U=k.statusText||A;this._sendError(new Error(U))}}function f(E){var k,A;(E=E||{}).chunkSize||(E.chunkSize=l.LocalChunkSize),c.call(this,E);var U=typeof FileReader<"u";this.stream=function(z){this._input=z,A=z.slice||z.webkitSlice||z.mozSlice,U?((k=new FileReader).onload=L(this._chunkLoaded,this),k.onerror=L(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input;if(this._config.chunkSize){var H=Math.min(this._start+this._config.chunkSize,this._input.size);z=A.call(z,this._start,H)}var G=k.readAsText(z,this._config.encoding);U||this._chunkLoaded({target:{result:G}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(k.error)}}function p(E){var k;c.call(this,E=E||{}),this.stream=function(A){return k=A,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var A,U=this._config.chunkSize;return U?(A=k.substring(0,U),k=k.substring(U)):(A=k,k=""),this._finished=!k,this.parseChunk(A)}}}function g(E){c.call(this,E=E||{});var k=[],A=!0,U=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){U&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):A=!0},this._streamData=L(function(z){try{k.push(typeof z=="string"?z:z.toString(this._config.encoding)),A&&(A=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(H){this._streamError(H)}},this),this._streamError=L(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=L(function(){this._streamCleanUp(),U=!0,this._streamData("")},this),this._streamCleanUp=L(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(E){var k,A,U,z=Math.pow(2,53),H=-z,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Q=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,ee=this,q=0,Y=0,te=!1,pe=!1,J=[],$={data:[],errors:[],meta:{}};if(R(E.step)){var de=E.step;E.step=function(re){if($=re,ae())W();else{if(W(),$.data.length===0)return;q+=re.data.length,E.preview&&q>E.preview?A.abort():($.data=$.data[0],de($,ee))}}}function X(re){return E.skipEmptyLines==="greedy"?re.join("").trim()==="":re.length===1&&re[0].length===0}function W(){return $&&U&&(le("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),U=!1),E.skipEmptyLines&&($.data=$.data.filter(function(re){return!X(re)})),ae()&&function(){if(!$)return;function re(Le,ze){R(E.transformHeader)&&(Le=E.transformHeader(Le,ze)),J.push(Le)}if(Array.isArray($.data[0])){for(var Se=0;ae()&&Se<$.data.length;Se++)$.data[Se].forEach(re);$.data.splice(0,1)}else $.data.forEach(re)}(),function(){if(!$||!E.header&&!E.dynamicTyping&&!E.transform)return $;function re(Le,ze){var ge,Pe=E.header?{}:[];for(ge=0;ge<Le.length;ge++){var Ne=ge,we=Le[ge];E.header&&(Ne=ge>=J.length?"__parsed_extra":J[ge]),E.transform&&(we=E.transform(we,Ne)),we=fe(Ne,we),Ne==="__parsed_extra"?(Pe[Ne]=Pe[Ne]||[],Pe[Ne].push(we)):Pe[Ne]=we}return E.header&&(ge>J.length?le("FieldMismatch","TooManyFields","Too many fields: expected "+J.length+" fields but parsed "+ge,Y+ze):ge<J.length&&le("FieldMismatch","TooFewFields","Too few fields: expected "+J.length+" fields but parsed "+ge,Y+ze)),Pe}var Se=1;return!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(re),Se=$.data.length):$.data=re($.data,0),E.header&&$.meta&&($.meta.fields=J),Y+=Se,$}()}function ae(){return E.header&&J.length===0}function fe(re,Se){return Le=re,E.dynamicTypingFunction&&E.dynamicTyping[Le]===void 0&&(E.dynamicTyping[Le]=E.dynamicTypingFunction(Le)),(E.dynamicTyping[Le]||E.dynamicTyping)===!0?Se==="true"||Se==="TRUE"||Se!=="false"&&Se!=="FALSE"&&(function(ze){if(G.test(ze)){var ge=parseFloat(ze);if(H<ge&&ge<z)return!0}return!1}(Se)?parseFloat(Se):Q.test(Se)?new Date(Se):Se===""?null:Se):Se;var Le}function le(re,Se,Le,ze){var ge={type:re,code:Se,message:Le};ze!==void 0&&(ge.row=ze),$.errors.push(ge)}this.parse=function(re,Se,Le){var ze=E.quoteChar||'"';if(E.newline||(E.newline=function(Ne,we){Ne=Ne.substring(0,1048576);var mt=new RegExp(y(we)+"([^]*?)"+y(we),"gm"),yt=(Ne=Ne.replace(mt,"")).split("\r"),ke=Ne.split(`
`),xn=1<ke.length&&ke[0].length<yt[0].length;if(yt.length===1||xn)return`
`;for(var pi=0,mi=0;mi<yt.length;mi++)yt[mi][0]===`
`&&pi++;return pi>=yt.length/2?`\r
`:"\r"}(re,ze)),U=!1,E.delimiter)R(E.delimiter)&&(E.delimiter=E.delimiter(re),$.meta.delimiter=E.delimiter);else{var ge=function(Ne,we,mt,yt,ke){var xn,pi,mi,vt;ke=ke||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Hi=0;Hi<ke.length;Hi++){var _t=ke[Hi],sn=0,Di=0,So=0;mi=void 0;for(var gr=new T({comments:yt,delimiter:_t,newline:we,preview:10}).parse(Ne),is=0;is<gr.data.length;is++)if(mt&&X(gr.data[is]))So++;else{var Fe=gr.data[is].length;Di+=Fe,mi!==void 0?0<Fe&&(sn+=Math.abs(Fe-mi),mi=Fe):mi=Fe}0<gr.data.length&&(Di/=gr.data.length-So),(pi===void 0||sn<=pi)&&(vt===void 0||vt<Di)&&1.99<Di&&(pi=sn,xn=_t,vt=Di)}return{successful:!!(E.delimiter=xn),bestDelimiter:xn}}(re,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess);ge.successful?E.delimiter=ge.bestDelimiter:(U=!0,E.delimiter=l.DefaultDelimiter),$.meta.delimiter=E.delimiter}var Pe=F(E);return E.preview&&E.header&&Pe.preview++,k=re,A=new T(Pe),$=A.parse(k,Se,Le),W(),te?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return te},this.pause=function(){te=!0,A.abort(),k=R(E.chunk)?"":k.substring(A.getCharIndex())},this.resume=function(){ee.streamer._halted?(te=!1,ee.streamer.parseChunk(k,!0)):setTimeout(ee.resume,3)},this.aborted=function(){return pe},this.abort=function(){pe=!0,A.abort(),$.meta.aborted=!0,R(E.complete)&&E.complete($),k=""}}function y(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(E){var k,A=(E=E||{}).delimiter,U=E.newline,z=E.comments,H=E.step,G=E.preview,Q=E.fastMode,ee=k=E.quoteChar===void 0||E.quoteChar===null?'"':E.quoteChar;if(E.escapeChar!==void 0&&(ee=E.escapeChar),(typeof A!="string"||-1<l.BAD_DELIMITERS.indexOf(A))&&(A=","),z===A)throw new Error("Comment character same as delimiter");z===!0?z="#":(typeof z!="string"||-1<l.BAD_DELIMITERS.indexOf(z))&&(z=!1),U!==`
`&&U!=="\r"&&U!==`\r
`&&(U=`
`);var q=0,Y=!1;this.parse=function(te,pe,J){if(typeof te!="string")throw new Error("Input must be a string");var $=te.length,de=A.length,X=U.length,W=z.length,ae=R(H),fe=[],le=[],re=[],Se=q=0;if(!te)return vt();if(Q||Q!==!1&&te.indexOf(k)===-1){for(var Le=te.split(U),ze=0;ze<Le.length;ze++){if(re=Le[ze],q+=re.length,ze!==Le.length-1)q+=U.length;else if(J)return vt();if(!z||re.substring(0,W)!==z){if(ae){if(fe=[],ke(re.split(A)),Hi(),Y)return vt()}else ke(re.split(A));if(G&&G<=ze)return fe=fe.slice(0,G),vt(!0)}}return vt()}for(var ge=te.indexOf(A,q),Pe=te.indexOf(U,q),Ne=new RegExp(y(ee)+y(k),"g"),we=te.indexOf(k,q);;)if(te[q]!==k)if(z&&re.length===0&&te.substring(q,q+W)===z){if(Pe===-1)return vt();q=Pe+X,Pe=te.indexOf(U,q),ge=te.indexOf(A,q)}else if(ge!==-1&&(ge<Pe||Pe===-1))re.push(te.substring(q,ge)),q=ge+de,ge=te.indexOf(A,q);else{if(Pe===-1)break;if(re.push(te.substring(q,Pe)),mi(Pe+X),ae&&(Hi(),Y))return vt();if(G&&fe.length>=G)return vt(!0)}else for(we=q,q++;;){if((we=te.indexOf(k,we+1))===-1)return J||le.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:fe.length,index:q}),pi();if(we===$-1)return pi(te.substring(q,we).replace(Ne,k));if(k!==ee||te[we+1]!==ee){if(k===ee||we===0||te[we-1]!==ee){ge!==-1&&ge<we+1&&(ge=te.indexOf(A,we+1)),Pe!==-1&&Pe<we+1&&(Pe=te.indexOf(U,we+1));var mt=xn(Pe===-1?ge:Math.min(ge,Pe));if(te.substr(we+1+mt,de)===A){re.push(te.substring(q,we).replace(Ne,k)),te[q=we+1+mt+de]!==k&&(we=te.indexOf(k,q)),ge=te.indexOf(A,q),Pe=te.indexOf(U,q);break}var yt=xn(Pe);if(te.substring(we+1+yt,we+1+yt+X)===U){if(re.push(te.substring(q,we).replace(Ne,k)),mi(we+1+yt+X),ge=te.indexOf(A,q),we=te.indexOf(k,q),ae&&(Hi(),Y))return vt();if(G&&fe.length>=G)return vt(!0);break}le.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:fe.length,index:q}),we++}}else we++}return pi();function ke(_t){fe.push(_t),Se=q}function xn(_t){var sn=0;if(_t!==-1){var Di=te.substring(we+1,_t);Di&&Di.trim()===""&&(sn=Di.length)}return sn}function pi(_t){return J||(_t===void 0&&(_t=te.substring(q)),re.push(_t),q=$,ke(re),ae&&Hi()),vt()}function mi(_t){q=_t,ke(re),re=[],Pe=te.indexOf(U,q)}function vt(_t){return{data:fe,errors:le,meta:{delimiter:A,linebreak:U,aborted:Y,truncated:!!_t,cursor:Se+(pe||0)}}}function Hi(){H(vt()),fe=[],le=[]}},this.abort=function(){Y=!0},this.getCharIndex=function(){return q}}function w(E){var k=E.data,A=a[k.workerId],U=!1;if(k.error)A.userError(k.error,k.file);else if(k.results&&k.results.data){var z={abort:function(){U=!0,O(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(R(A.userStep)){for(var H=0;H<k.results.data.length&&(A.userStep({data:k.results.data[H],errors:k.results.errors,meta:k.results.meta},z),!U);H++);delete k.results}else R(A.userChunk)&&(A.userChunk(k.results,z,k.file),delete k.results)}k.finished&&!U&&O(k.workerId,k.results)}function O(E,k){var A=a[E];R(A.userComplete)&&A.userComplete(k),A.terminate(),delete a[E]}function P(){throw new Error("Not implemented.")}function F(E){if(typeof E!="object"||E===null)return E;var k=Array.isArray(E)?[]:{};for(var A in E)k[A]=F(E[A]);return k}function L(E,k){return function(){E.apply(k,arguments)}}function R(E){return typeof E=="function"}return s&&(r.onmessage=function(E){var k=E.data;if(l.WORKER_ID===void 0&&k&&(l.WORKER_ID=k.workerId),typeof k.input=="string")r.postMessage({workerId:l.WORKER_ID,results:l.parse(k.input,k.config),finished:!0});else if(r.File&&k.input instanceof File||k.input instanceof Object){var A=l.parse(k.input,k.config);A&&r.postMessage({workerId:l.WORKER_ID,results:A,finished:!0})}}),(d.prototype=Object.create(c.prototype)).constructor=d,(f.prototype=Object.create(c.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(c.prototype)).constructor=g,l})})(bU);var VE="1.13.2",DT=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},rh=Array.prototype,x0=Object.prototype,MT=typeof Symbol<"u"?Symbol.prototype:null,TU=rh.push,Du=rh.slice,lu=x0.toString,xU=x0.hasOwnProperty,HE=typeof ArrayBuffer<"u",SU=typeof DataView<"u",wU=Array.isArray,LT=Object.keys,RT=Object.create,FT=HE&&ArrayBuffer.isView,EU=isNaN,CU=isFinite,WE=!{toString:null}.propertyIsEnumerable("toString"),NT=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],kU=Math.pow(2,53)-1;function Ci(t,e){return e=e==null?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),r=Array(i),n=0;n<i;n++)r[n]=arguments[n+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(n=0;n<e;n++)s[n]=arguments[n];return s[e]=r,t.apply(this,s)}}function js(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function PU(t){return t===null}function qE(t){return t===void 0}function $E(t){return t===!0||t===!1||lu.call(t)==="[object Boolean]"}function OU(t){return!!(t&&t.nodeType===1)}function Qt(t){var e="[object "+t+"]";return function(i){return lu.call(i)===e}}var S0=Qt("String"),GE=Qt("Number"),AU=Qt("Date"),IU=Qt("RegExp"),DU=Qt("Error"),XE=Qt("Symbol"),KE=Qt("ArrayBuffer"),QE=Qt("Function"),MU=DT.document&&DT.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof MU!="function"&&(QE=function(t){return typeof t=="function"||!1});var fi=QE,YE=Qt("Object"),JE=SU&&YE(new DataView(new ArrayBuffer(8))),w0=typeof Map<"u"&&YE(new Map),LU=Qt("DataView");function RU(t){return t!=null&&fi(t.getInt8)&&KE(t.buffer)}var Jd=JE?RU:LU,Vs=wU||Qt("Array");function es(t,e){return t!=null&&xU.call(t,e)}var hv=Qt("Arguments");(function(){hv(arguments)||(hv=function(t){return es(t,"callee")})})();var E0=hv;function FU(t){return!XE(t)&&CU(t)&&!isNaN(parseFloat(t))}function ZE(t){return GE(t)&&EU(t)}function eC(t){return function(){return t}}function tC(t){return function(e){var i=t(e);return typeof i=="number"&&i>=0&&i<=kU}}function iC(t){return function(e){return e?.[t]}}var Zd=iC("byteLength"),NU=tC(Zd),UU=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function BU(t){return FT?FT(t)&&!Jd(t):NU(t)&&UU.test(lu.call(t))}var nC=HE?BU:eC(!1),ki=iC("length");function zU(t){for(var e={},i=t.length,r=0;r<i;++r)e[t[r]]=!0;return{contains:function(n){return e[n]===!0},push:function(n){return e[n]=!0,t.push(n)}}}function rC(t,e){e=zU(e);var i=NT.length,r=t.constructor,n=fi(r)&&r.prototype||x0,s="constructor";for(es(t,s)&&!e.contains(s)&&e.push(s);i--;)s=NT[i],s in t&&t[s]!==n[s]&&!e.contains(s)&&e.push(s)}function Ct(t){if(!js(t))return[];if(LT)return LT(t);var e=[];for(var i in t)es(t,i)&&e.push(i);return WE&&rC(t,e),e}function jU(t){if(t==null)return!0;var e=ki(t);return typeof e=="number"&&(Vs(t)||S0(t)||E0(t))?e===0:ki(Ct(t))===0}function sC(t,e){var i=Ct(e),r=i.length;if(t==null)return!r;for(var n=Object(t),s=0;s<r;s++){var a=i[s];if(e[a]!==n[a]||!(a in n))return!1}return!0}function Ve(t){if(t instanceof Ve)return t;if(!(this instanceof Ve))return new Ve(t);this._wrapped=t}Ve.VERSION=VE;Ve.prototype.value=function(){return this._wrapped};Ve.prototype.valueOf=Ve.prototype.toJSON=Ve.prototype.value;Ve.prototype.toString=function(){return String(this._wrapped)};function UT(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Zd(t))}var BT="[object DataView]";function pv(t,e,i,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var n=typeof t;return n!=="function"&&n!=="object"&&typeof e!="object"?!1:aC(t,e,i,r)}function aC(t,e,i,r){t instanceof Ve&&(t=t._wrapped),e instanceof Ve&&(e=e._wrapped);var n=lu.call(t);if(n!==lu.call(e))return!1;if(JE&&n=="[object Object]"&&Jd(t)){if(!Jd(e))return!1;n=BT}switch(n){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return MT.valueOf.call(t)===MT.valueOf.call(e);case"[object ArrayBuffer]":case BT:return aC(UT(t),UT(e),i,r)}var s=n==="[object Array]";if(!s&&nC(t)){var a=Zd(t);if(a!==Zd(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var o=t.constructor,l=e.constructor;if(o!==l&&!(fi(o)&&o instanceof o&&fi(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],r=r||[];for(var u=i.length;u--;)if(i[u]===t)return r[u]===e;if(i.push(t),r.push(e),s){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!pv(t[u],e[u],i,r))return!1}else{var c=Ct(t),d;if(u=c.length,Ct(e).length!==u)return!1;for(;u--;)if(d=c[u],!(es(e,d)&&pv(t[d],e[d],i,r)))return!1}return i.pop(),r.pop(),!0}function VU(t,e){return pv(t,e)}function Mu(t){if(!js(t))return[];var e=[];for(var i in t)e.push(i);return WE&&rC(t,e),e}function C0(t){var e=ki(t);return function(i){if(i==null)return!1;var r=Mu(i);if(ki(r))return!1;for(var n=0;n<e;n++)if(!fi(i[t[n]]))return!1;return t!==uC||!fi(i[k0])}}var k0="forEach",oC="has",P0=["clear","delete"],lC=["get",oC,"set"],HU=P0.concat(k0,lC),uC=P0.concat(lC),WU=["add"].concat(P0,k0,oC),qU=w0?C0(HU):Qt("Map"),$U=w0?C0(uC):Qt("WeakMap"),GU=w0?C0(WU):Qt("Set"),XU=Qt("WeakSet");function ho(t){for(var e=Ct(t),i=e.length,r=Array(i),n=0;n<i;n++)r[n]=t[e[n]];return r}function KU(t){for(var e=Ct(t),i=e.length,r=Array(i),n=0;n<i;n++)r[n]=[e[n],t[e[n]]];return r}function cC(t){for(var e={},i=Ct(t),r=0,n=i.length;r<n;r++)e[t[i[r]]]=i[r];return e}function mv(t){var e=[];for(var i in t)fi(t[i])&&e.push(i);return e.sort()}function O0(t,e){return function(i){var r=arguments.length;if(e&&(i=Object(i)),r<2||i==null)return i;for(var n=1;n<r;n++)for(var s=arguments[n],a=t(s),o=a.length,l=0;l<o;l++){var u=a[l];(!e||i[u]===void 0)&&(i[u]=s[u])}return i}}var dC=O0(Mu),ef=O0(Ct),fC=O0(Mu,!0);function QU(){return function(){}}function hC(t){if(!js(t))return{};if(RT)return RT(t);var e=QU();e.prototype=t;var i=new e;return e.prototype=null,i}function YU(t,e){var i=hC(t);return e&&ef(i,e),i}function JU(t){return js(t)?Vs(t)?t.slice():dC({},t):t}function ZU(t,e){return e(t),t}function pC(t){return Vs(t)?t:[t]}Ve.toPath=pC;function Lu(t){return Ve.toPath(t)}function A0(t,e){for(var i=e.length,r=0;r<i;r++){if(t==null)return;t=t[e[r]]}return i?t:void 0}function mC(t,e,i){var r=A0(t,Lu(e));return qE(r)?i:r}function e3(t,e){e=Lu(e);for(var i=e.length,r=0;r<i;r++){var n=e[r];if(!es(t,n))return!1;t=t[n]}return!!i}function I0(t){return t}function uu(t){return t=ef({},t),function(e){return sC(e,t)}}function D0(t){return t=Lu(t),function(e){return A0(e,t)}}function Ru(t,e,i){if(e===void 0)return t;switch(i??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,s){return t.call(e,r,n,s)};case 4:return function(r,n,s,a){return t.call(e,r,n,s,a)}}return function(){return t.apply(e,arguments)}}function vC(t,e,i){return t==null?I0:fi(t)?Ru(t,e,i):js(t)&&!Vs(t)?uu(t):D0(t)}function M0(t,e){return vC(t,e,1/0)}Ve.iteratee=M0;function Oi(t,e,i){return Ve.iteratee!==M0?Ve.iteratee(t,e):vC(t,e,i)}function t3(t,e,i){e=Oi(e,i);for(var r=Ct(t),n=r.length,s={},a=0;a<n;a++){var o=r[a];s[o]=e(t[o],o,t)}return s}function gC(){}function i3(t){return t==null?gC:function(e){return mC(t,e)}}function n3(t,e,i){var r=Array(Math.max(0,t));e=Ru(e,i,1);for(var n=0;n<t;n++)r[n]=e(n);return r}function vv(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}var cu=Date.now||function(){return new Date().getTime()};function yC(t){var e=function(s){return t[s]},i="(?:"+Ct(t).join("|")+")",r=RegExp(i),n=RegExp(i,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(n,e):s}}var _C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r3=yC(_C),s3=cC(_C),a3=yC(s3),o3=Ve.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Cp=/(.)^/,l3={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},u3=/\\|'|\r|\n|\u2028|\u2029/g;function c3(t){return"\\"+l3[t]}var d3=/^\s*(\w|\$)+\s*$/;function f3(t,e,i){!e&&i&&(e=i),e=fC({},e,Ve.templateSettings);var r=RegExp([(e.escape||Cp).source,(e.interpolate||Cp).source,(e.evaluate||Cp).source].join("|")+"|$","g"),n=0,s="__p+='";t.replace(r,function(u,c,d,f,p){return s+=t.slice(n,p).replace(u3,c3),n=p+u.length,c?s+=`'+
((__t=(`+c+`))==null?'':_.escape(__t))+
'`:d?s+=`'+
((__t=(`+d+`))==null?'':__t)+
'`:f&&(s+=`';
`+f+`
__p+='`),u}),s+=`';
`;var a=e.variable;if(a){if(!d3.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var o;try{o=new Function(a,"_",s)}catch(u){throw u.source=s,u}var l=function(u){return o.call(this,u,Ve)};return l.source="function("+a+`){
`+s+"}",l}function h3(t,e,i){e=Lu(e);var r=e.length;if(!r)return fi(i)?i.call(t):i;for(var n=0;n<r;n++){var s=t?.[e[n]];s===void 0&&(s=i,n=r),t=fi(s)?s.call(t):s}return t}var p3=0;function m3(t){var e=++p3+"";return t?t+e:e}function v3(t){var e=Ve(t);return e._chain=!0,e}function bC(t,e,i,r,n){if(!(r instanceof e))return t.apply(i,n);var s=hC(t.prototype),a=t.apply(s,n);return js(a)?a:s}var po=Ci(function(t,e){var i=po.placeholder,r=function(){for(var n=0,s=e.length,a=Array(s),o=0;o<s;o++)a[o]=e[o]===i?arguments[n++]:e[o];for(;n<arguments.length;)a.push(arguments[n++]);return bC(t,r,this,this,a)};return r});po.placeholder=Ve;var TC=Ci(function(t,e,i){if(!fi(t))throw new TypeError("Bind must be called on a function");var r=Ci(function(n){return bC(t,r,e,this,i.concat(n))});return r}),Vi=tC(ki);function Hs(t,e,i,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var n=r.length,s=0,a=ki(t);s<a;s++){var o=t[s];if(Vi(o)&&(Vs(o)||E0(o)))if(e>1)Hs(o,e-1,i,r),n=r.length;else for(var l=0,u=o.length;l<u;)r[n++]=o[l++];else i||(r[n++]=o)}return r}var g3=Ci(function(t,e){e=Hs(e,!1,!1);var i=e.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var r=e[i];t[r]=TC(t[r],t)}return t});function y3(t,e){var i=function(r){var n=i.cache,s=""+(e?e.apply(this,arguments):r);return es(n,s)||(n[s]=t.apply(this,arguments)),n[s]};return i.cache={},i}var xC=Ci(function(t,e,i){return setTimeout(function(){return t.apply(null,i)},e)}),_3=po(xC,Ve,1);function b3(t,e,i){var r,n,s,a,o=0;i||(i={});var l=function(){o=i.leading===!1?0:cu(),r=null,a=t.apply(n,s),r||(n=s=null)},u=function(){var c=cu();!o&&i.leading===!1&&(o=c);var d=e-(c-o);return n=this,s=arguments,d<=0||d>e?(r&&(clearTimeout(r),r=null),o=c,a=t.apply(n,s),r||(n=s=null)):!r&&i.trailing!==!1&&(r=setTimeout(l,d)),a};return u.cancel=function(){clearTimeout(r),o=0,r=n=s=null},u}function T3(t,e,i){var r,n,s,a,o,l=function(){var c=cu()-n;e>c?r=setTimeout(l,e-c):(r=null,i||(a=t.apply(o,s)),r||(s=o=null))},u=Ci(function(c){return o=this,s=c,n=cu(),r||(r=setTimeout(l,e),i&&(a=t.apply(o,s))),a});return u.cancel=function(){clearTimeout(r),r=s=o=null},u}function x3(t,e){return po(e,t)}function L0(t){return function(){return!t.apply(this,arguments)}}function S3(){var t=arguments,e=t.length-1;return function(){for(var i=e,r=t[e].apply(this,arguments);i--;)r=t[i].call(this,r);return r}}function w3(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function SC(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}}var E3=po(SC,2);function wC(t,e,i){e=Oi(e,i);for(var r=Ct(t),n,s=0,a=r.length;s<a;s++)if(n=r[s],e(t[n],n,t))return n}function EC(t){return function(e,i,r){i=Oi(i,r);for(var n=ki(e),s=t>0?0:n-1;s>=0&&s<n;s+=t)if(i(e[s],s,e))return s;return-1}}var R0=EC(1),CC=EC(-1);function kC(t,e,i,r){i=Oi(i,r,1);for(var n=i(e),s=0,a=ki(t);s<a;){var o=Math.floor((s+a)/2);i(t[o])<n?s=o+1:a=o}return s}function PC(t,e,i){return function(r,n,s){var a=0,o=ki(r);if(typeof s=="number")t>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(i&&s&&o)return s=i(r,n),r[s]===n?s:-1;if(n!==n)return s=e(Du.call(r,a,o),ZE),s>=0?s+a:-1;for(s=t>0?a:o-1;s>=0&&s<o;s+=t)if(r[s]===n)return s;return-1}}var OC=PC(1,R0,kC),C3=PC(-1,CC);function gv(t,e,i){var r=Vi(t)?R0:wC,n=r(t,e,i);if(n!==void 0&&n!==-1)return t[n]}function k3(t,e){return gv(t,uu(e))}function lr(t,e,i){e=Ru(e,i);var r,n;if(Vi(t))for(r=0,n=t.length;r<n;r++)e(t[r],r,t);else{var s=Ct(t);for(r=0,n=s.length;r<n;r++)e(t[s[r]],s[r],t)}return t}function Ls(t,e,i){e=Oi(e,i);for(var r=!Vi(t)&&Ct(t),n=(r||t).length,s=Array(n),a=0;a<n;a++){var o=r?r[a]:a;s[a]=e(t[o],o,t)}return s}function AC(t){var e=function(i,r,n,s){var a=!Vi(i)&&Ct(i),o=(a||i).length,l=t>0?0:o-1;for(s||(n=i[a?a[l]:l],l+=t);l>=0&&l<o;l+=t){var u=a?a[l]:l;n=r(n,i[u],u,i)}return n};return function(i,r,n,s){var a=arguments.length>=3;return e(i,Ru(r,s,4),n,a)}}var kp=AC(1),zT=AC(-1);function qa(t,e,i){var r=[];return e=Oi(e,i),lr(t,function(n,s,a){e(n,s,a)&&r.push(n)}),r}function P3(t,e,i){return qa(t,L0(Oi(e)),i)}function jT(t,e,i){e=Oi(e,i);for(var r=!Vi(t)&&Ct(t),n=(r||t).length,s=0;s<n;s++){var a=r?r[s]:s;if(!e(t[a],a,t))return!1}return!0}function VT(t,e,i){e=Oi(e,i);for(var r=!Vi(t)&&Ct(t),n=(r||t).length,s=0;s<n;s++){var a=r?r[s]:s;if(e(t[a],a,t))return!0}return!1}function ir(t,e,i,r){return Vi(t)||(t=ho(t)),(typeof i!="number"||r)&&(i=0),OC(t,e,i)>=0}var O3=Ci(function(t,e,i){var r,n;return fi(e)?n=e:(e=Lu(e),r=e.slice(0,-1),e=e[e.length-1]),Ls(t,function(s){var a=n;if(!a){if(r&&r.length&&(s=A0(s,r)),s==null)return;a=s[e]}return a==null?a:a.apply(s,i)})});function F0(t,e){return Ls(t,D0(e))}function A3(t,e){return qa(t,uu(e))}function IC(t,e,i){var r=-1/0,n=-1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Vi(t)?t:ho(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s>r&&(r=s)}else e=Oi(e,i),lr(t,function(u,c,d){a=e(u,c,d),(a>n||a===-1/0&&r===-1/0)&&(r=u,n=a)});return r}function I3(t,e,i){var r=1/0,n=1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Vi(t)?t:ho(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s<r&&(r=s)}else e=Oi(e,i),lr(t,function(u,c,d){a=e(u,c,d),(a<n||a===1/0&&r===1/0)&&(r=u,n=a)});return r}var D3=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function DC(t){return t?Vs(t)?Du.call(t):S0(t)?t.match(D3):Vi(t)?Ls(t,I0):ho(t):[]}function MC(t,e,i){if(e==null||i)return Vi(t)||(t=ho(t)),t[vv(t.length-1)];var r=DC(t),n=ki(r);e=Math.max(Math.min(e,n),0);for(var s=n-1,a=0;a<e;a++){var o=vv(a,s),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,e)}function M3(t){return MC(t,1/0)}function L3(t,e,i){var r=0;return e=Oi(e,i),F0(Ls(t,function(n,s,a){return{value:n,index:r++,criteria:e(n,s,a)}}).sort(function(n,s){var a=n.criteria,o=s.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return n.index-s.index}),"value")}function sh(t,e){return function(i,r,n){var s=e?[[],[]]:{};return r=Oi(r,n),lr(i,function(a,o){var l=r(a,o,i);t(s,a,l)}),s}}var R3=sh(function(t,e,i){es(t,i)?t[i].push(e):t[i]=[e]}),F3=sh(function(t,e,i){t[i]=e}),N3=sh(function(t,e,i){es(t,i)?t[i]++:t[i]=1}),U3=sh(function(t,e,i){t[i?0:1].push(e)},!0);function B3(t){return t==null?0:Vi(t)?t.length:Ct(t).length}function z3(t,e,i){return e in i}var LC=Ci(function(t,e){var i={},r=e[0];if(t==null)return i;fi(r)?(e.length>1&&(r=Ru(r,e[1])),e=Mu(t)):(r=z3,e=Hs(e,!1,!1),t=Object(t));for(var n=0,s=e.length;n<s;n++){var a=e[n],o=t[a];r(o,a,t)&&(i[a]=o)}return i}),j3=Ci(function(t,e){var i=e[0],r;return fi(i)?(i=L0(i),e.length>1&&(r=e[1])):(e=Ls(Hs(e,!1,!1),String),i=function(n,s){return!ir(e,s)}),LC(t,i,r)});function RC(t,e,i){return Du.call(t,0,Math.max(0,t.length-(e==null||i?1:e)))}function Pp(t,e,i){return t==null||t.length<1?e==null||i?void 0:[]:e==null||i?t[0]:RC(t,t.length-e)}function hd(t,e,i){return Du.call(t,e==null||i?1:e)}function V3(t,e,i){return t==null||t.length<1?e==null||i?void 0:[]:e==null||i?t[t.length-1]:hd(t,Math.max(0,t.length-e))}function H3(t){return qa(t,Boolean)}function W3(t,e){return Hs(t,e,!1)}var FC=Ci(function(t,e){return e=Hs(e,!0,!0),qa(t,function(i){return!ir(e,i)})}),q3=Ci(function(t,e){return FC(t,e)});function yv(t,e,i,r){$E(e)||(r=i,i=e,e=!1),i!=null&&(i=Oi(i,r));for(var n=[],s=[],a=0,o=ki(t);a<o;a++){var l=t[a],u=i?i(l,a,t):l;e&&!i?((!a||s!==u)&&n.push(l),s=u):i?ir(s,u)||(s.push(u),n.push(l)):ir(n,l)||n.push(l)}return n}var $3=Ci(function(t){return yv(Hs(t,!0,!0))});function G3(t){for(var e=[],i=arguments.length,r=0,n=ki(t);r<n;r++){var s=t[r];if(!ir(e,s)){var a;for(a=1;a<i&&ir(arguments[a],s);a++);a===i&&e.push(s)}}return e}function _v(t){for(var e=t&&IC(t,ki).length||0,i=Array(e),r=0;r<e;r++)i[r]=F0(t,r);return i}var X3=Ci(_v);function K3(t,e){for(var i={},r=0,n=ki(t);r<n;r++)e?i[t[r]]=e[r]:i[t[r][0]]=t[r][1];return i}function Q3(t,e,i){e==null&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/i),0),n=Array(r),s=0;s<r;s++,t+=i)n[s]=t;return n}function Y3(t,e){if(e==null||e<1)return[];for(var i=[],r=0,n=t.length;r<n;)i.push(Du.call(t,r,r+=e));return i}function N0(t,e){return t._chain?Ve(e).chain():e}function NC(t){return lr(mv(t),function(e){var i=Ve[e]=t[e];Ve.prototype[e]=function(){var r=[this._wrapped];return TU.apply(r,arguments),N0(this,i.apply(Ve,r))}}),Ve}lr(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=rh[t];Ve.prototype[t]=function(){var i=this._wrapped;return i!=null&&(e.apply(i,arguments),(t==="shift"||t==="splice")&&i.length===0&&delete i[0]),N0(this,i)}});lr(["concat","join","slice"],function(t){var e=rh[t];Ve.prototype[t]=function(){var i=this._wrapped;return i!=null&&(i=e.apply(i,arguments)),N0(this,i)}});var J3=Object.freeze(Object.defineProperty({__proto__:null,VERSION:VE,restArguments:Ci,isObject:js,isNull:PU,isUndefined:qE,isBoolean:$E,isElement:OU,isString:S0,isNumber:GE,isDate:AU,isRegExp:IU,isError:DU,isSymbol:XE,isArrayBuffer:KE,isDataView:Jd,isArray:Vs,isFunction:fi,isArguments:E0,isFinite:FU,isNaN:ZE,isTypedArray:nC,isEmpty:jU,isMatch:sC,isEqual:VU,isMap:qU,isWeakMap:$U,isSet:GU,isWeakSet:XU,keys:Ct,allKeys:Mu,values:ho,pairs:KU,invert:cC,functions:mv,methods:mv,extend:dC,extendOwn:ef,assign:ef,defaults:fC,create:YU,clone:JU,tap:ZU,get:mC,has:e3,mapObject:t3,identity:I0,constant:eC,noop:gC,toPath:pC,property:D0,propertyOf:i3,matcher:uu,matches:uu,times:n3,random:vv,now:cu,escape:r3,unescape:a3,templateSettings:o3,template:f3,result:h3,uniqueId:m3,chain:v3,iteratee:M0,partial:po,bind:TC,bindAll:g3,memoize:y3,delay:xC,defer:_3,throttle:b3,debounce:T3,wrap:x3,negate:L0,compose:S3,after:w3,before:SC,once:E3,findKey:wC,findIndex:R0,findLastIndex:CC,sortedIndex:kC,indexOf:OC,lastIndexOf:C3,find:gv,detect:gv,findWhere:k3,each:lr,forEach:lr,map:Ls,collect:Ls,reduce:kp,foldl:kp,inject:kp,reduceRight:zT,foldr:zT,filter:qa,select:qa,reject:P3,every:jT,all:jT,some:VT,any:VT,contains:ir,includes:ir,include:ir,invoke:O3,pluck:F0,where:A3,max:IC,min:I3,shuffle:M3,sample:MC,sortBy:L3,groupBy:R3,indexBy:F3,countBy:N3,partition:U3,toArray:DC,size:B3,pick:LC,omit:j3,first:Pp,head:Pp,take:Pp,initial:RC,last:V3,rest:hd,tail:hd,drop:hd,compact:H3,flatten:W3,without:q3,uniq:yv,unique:yv,union:$3,intersection:G3,difference:FC,unzip:_v,transpose:_v,zip:X3,object:K3,range:Q3,chunk:Y3,mixin:NC,default:Ve},Symbol.toStringTag,{value:"Module"})),HT=NC(J3);HT._=HT;var hl;typeof window<"u"?hl=window:typeof mn<"u"?hl=mn:typeof self<"u"?hl=self:hl={};var M=hl,Z3={},eB=Object.freeze(Object.defineProperty({__proto__:null,default:Z3},Symbol.toStringTag,{value:"Module"})),tB=Cf(eB),WT=typeof mn<"u"?mn:typeof window<"u"?window:{},iB=tB,pl;typeof document<"u"?pl=document:(pl=WT["__GLOBAL_DOCUMENT_CACHE@4"],pl||(pl=WT["__GLOBAL_DOCUMENT_CACHE@4"]=iB));var se=pl;function nn(){return nn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},nn.apply(this,arguments)}var nB=Object.freeze(Object.defineProperty({__proto__:null,default:nn},Symbol.toStringTag,{value:"Module"})),bv={exports:{}};(function(t,e){function i(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return a[l];var c=String(l),d=r[c.toLowerCase()];if(d)return d;var d=n[c.toLowerCase()];if(d)return d;if(c.length===1)return c.charCodeAt(0)}i.isEventKey=function(u,c){if(u&&typeof u=="object"){var d=u.which||u.keyCode||u.charCode;if(d==null)return!1;if(typeof c=="string"){var f=r[c.toLowerCase()];if(f)return f===d;var f=n[c.toLowerCase()];if(f)return f===d}else if(typeof c=="number")return c===d;return!1}},e=t.exports=i;var r=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(s=97;s<123;s++)r[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)r[s-48]=s;for(s=1;s<13;s++)r["f"+s]=s+111;for(s=0;s<10;s++)r["numpad "+s]=s+96;var a=e.names=e.title={};for(s in r)a[r[s]]=s;for(var o in n)r[o]=n[o]})(bv,bv.exports);var Ie=bv.exports;function Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function du(t,e){return du=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},du(t,e)}function ce(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,du(t,e)}var rB=sB;function sB(t,e){var i,r=null;try{i=JSON.parse(t,e)}catch(n){r=n}return[r,i]}var U0={exports:{}},aB=Cf(nB),oB=uB,lB=Object.prototype.toString;function uB(t){if(!t)return!1;var e=lB.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var cB=M,dB=function(e,i){return i===void 0&&(i=!1),function(r,n,s){if(r){e(r);return}if(n.statusCode>=400&&n.statusCode<=599){var a=s;if(i)if(cB.TextDecoder){var o=fB(n.headers&&n.headers["content-type"]);try{a=new TextDecoder(o).decode(s)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:a});return}e(null,s)}};function fB(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,i){var r=i.split("="),n=r[0],s=r[1];return n.trim()==="charset"?s.trim():e},"utf-8")}var hB=dB,UC=M,pB=aB,mB=oB;Fn.httpHandler=hB;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var vB=function(e){var i={};return e&&e.trim().split(`
`).forEach(function(r){var n=r.indexOf(":"),s=r.slice(0,n).trim().toLowerCase(),a=r.slice(n+1).trim();typeof i[s]>"u"?i[s]=a:Array.isArray(i[s])?i[s].push(a):i[s]=[i[s],a]}),i};U0.exports=Fn;U0.exports.default=Fn;Fn.XMLHttpRequest=UC.XMLHttpRequest||bB;Fn.XDomainRequest="withCredentials"in new Fn.XMLHttpRequest?Fn.XMLHttpRequest:UC.XDomainRequest;gB(["get","put","post","patch","head","delete"],function(t){Fn[t==="delete"?"del":t]=function(e,i,r){return i=BC(e,i,r),i.method=t.toUpperCase(),zC(i)}});function gB(t,e){for(var i=0;i<t.length;i++)e(t[i])}function yB(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function BC(t,e,i){var r=t;return mB(e)?(i=e,typeof t=="string"&&(r={uri:t})):r=pB({},e,{uri:t}),r.callback=i,r}function Fn(t,e,i){return e=BC(t,e,i),zC(e)}function zC(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,i=function(O,P,F){e||(e=!0,t.callback(O,P,F))};function r(){o.readyState===4&&setTimeout(a,0)}function n(){var w=void 0;if(o.response?w=o.response:w=o.responseText||_B(o),b)try{w=JSON.parse(w)}catch{}return w}function s(w){return clearTimeout(y),w instanceof Error||(w=new Error(""+(w||"Unknown XMLHttpRequest Error"))),w.statusCode=0,i(w,T)}function a(){if(!u){var w;clearTimeout(y),t.useXDR&&o.status===void 0?w=200:w=o.status===1223?204:o.status;var O=T,P=null;return w!==0?(O={body:n(),statusCode:w,method:d,headers:{},url:c,rawRequest:o},o.getAllResponseHeaders&&(O.headers=vB(o.getAllResponseHeaders()))):P=new Error("Internal XMLHttpRequest Error"),i(P,O,O.body)}}var o=t.xhr||null;o||(t.cors||t.useXDR?o=new Fn.XDomainRequest:o=new Fn.XMLHttpRequest);var l,u,c=o.url=t.uri||t.url,d=o.method=t.method||"GET",f=t.body||t.data,p=o.headers=t.headers||{},g=!!t.sync,b=!1,y,T={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:o};if("json"in t&&t.json!==!1&&(b=!0,p.accept||p.Accept||(p.Accept="application/json"),d!=="GET"&&d!=="HEAD"&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),f=JSON.stringify(t.json===!0?f:t.json))),o.onreadystatechange=r,o.onload=a,o.onerror=s,o.onprogress=function(){},o.onabort=function(){u=!0},o.ontimeout=s,o.open(d,c,!g,t.username,t.password),g||(o.withCredentials=!!t.withCredentials),!g&&t.timeout>0&&(y=setTimeout(function(){if(!u){u=!0,o.abort("timeout");var w=new Error("XMLHttpRequest timeout");w.code="ETIMEDOUT",s(w)}},t.timeout)),o.setRequestHeader)for(l in p)p.hasOwnProperty(l)&&o.setRequestHeader(l,p[l]);else if(t.headers&&!yB(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(o.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(o),o.send(f||null),o}function _B(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function bB(){}var jC=U0.exports,VC={exports:{}},qT=se,B0=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Ni(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Ni.prototype=B0(Error.prototype);Ni.prototype.constructor=Ni;Ni.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function z0(t){function e(r,n,s,a){return(r|0)*3600+(n|0)*60+(s|0)+(a|0)/1e3}var i=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function Nl(){this.values=B0(null)}Nl.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var r=0;r<i.length;++r)if(e===i[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function ml(t,e,i,r){var n=r?t.split(r):[t];for(var s in n)if(typeof n[s]=="string"){var a=n[s].split(i);if(a.length===2){var o=a[0],l=a[1];e(o,l)}}}function TB(t,e,i){var r=t;function n(){var o=z0(t);if(o===null)throw new Ni(Ni.Errors.BadTimeStamp,"Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,l){var u=new Nl;ml(o,function(c,d){switch(c){case"region":for(var f=i.length-1;f>=0;f--)if(i[f].id===d){u.set(c,i[f].region);break}break;case"vertical":u.alt(c,d,["rl","lr"]);break;case"line":var p=d.split(","),g=p[0];u.integer(c,g),u.percent(c,g)&&u.set("snapToLines",!1),u.alt(c,g,["auto"]),p.length===2&&u.alt("lineAlign",p[1],["start","center","end"]);break;case"position":p=d.split(","),u.percent(c,p[0]),p.length===2&&u.alt("positionAlign",p[1],["start","center","end"]);break;case"size":u.percent(c,d);break;case"align":u.alt(c,d,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=n(),a(),t.substr(0,3)!=="-->")throw new Ni(Ni.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.substr(3),a(),e.endTime=n(),a(),s(t,e)}var Op=qT.createElement&&qT.createElement("textarea"),xB={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},$T={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},SB={v:"title",lang:"lang"},GT={rt:"ruby"};function HC(t,e){function i(){if(!e)return null;function g(y){return e=e.substr(y.length),y}var b=e.match(/^([^<]*)(<[^>]*>?)?/);return g(b[1]?b[1]:b[2])}function r(g){return Op.innerHTML=g,g=Op.textContent,Op.textContent="",g}function n(g,b){return!GT[b.localName]||GT[b.localName]===g.localName}function s(g,b){var y=xB[g];if(!y)return null;var T=t.document.createElement(y),w=SB[g];return w&&b&&(T[w]=b.trim()),T}for(var a=t.document.createElement("div"),o=a,l,u=[];(l=i())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var c=z0(l.substr(1,l.length-2)),d;if(c){d=t.document.createProcessingInstruction("timestamp",c),o.appendChild(d);continue}var f=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f||(d=s(f[1],f[3]),!d)||!n(o,d))continue;if(f[2]){var p=f[2].split(".");p.forEach(function(g){var b=/^bg_/.test(g),y=b?g.slice(3):g;if($T.hasOwnProperty(y)){var T=b?"background-color":"color",w=$T[y];d.style[T]=w}}),d.className=p.join(" ")}u.push(f[1]),o.appendChild(d),o=d;continue}o.appendChild(t.document.createTextNode(r(l)))}return a}var XT=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function wB(t){for(var e=0;e<XT.length;e++){var i=XT[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function EB(t){var e=[],i="",r;if(!t||!t.childNodes)return"ltr";function n(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function s(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):u}if(l.tagName==="ruby")return s(o);if(l.childNodes)return n(o,l),s(o)}for(n(e,t);i=s(e);)for(var a=0;a<i.length;a++)if(r=i.charCodeAt(a),wB(r))return"rtl";return"ltr"}function CB(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,r=0,n=0;n<i.length&&i[n]!==e;n++)i[n].mode==="showing"&&r++;return++r*-1}function ah(){}ah.prototype.applyStyles=function(t,e){e=e||this.div;for(var i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])};ah.prototype.formatStyle=function(t,e){return t===0?0:t+e};function tf(t,e,i){ah.call(this),this.cue=e,this.cueDiv=HC(t,e.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=t.document.createElement("div"),r={direction:EB(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var n=0;switch(e.positionAlign){case"start":n=e.position;break;case"center":n=e.position-e.size/2;break;case"end":n=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}tf.prototype=B0(ah.prototype);tf.prototype.constructor=tf;function ri(t){var e,i,r,n;if(t.div){i=t.div.offsetHeight,r=t.div.offsetWidth,n=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||n,this.height=t.height||i,this.bottom=t.bottom||n+(t.height||i),this.width=t.width||r,this.lineHeight=e!==void 0?e:t.lineHeight}ri.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};ri.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};ri.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};ri.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};ri.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};ri.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),r=e*i;return r/(this.height*this.width)};ri.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};ri.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var n={left:t.left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||i};return n};function kB(t,e,i,r){function n(y,T){for(var w,O=new ri(y),P=1,F=0;F<T.length;F++){for(;y.overlapsOppositeAxis(i,T[F])||y.within(i)&&y.overlapsAny(r);)y.move(T[F]);if(y.within(i))return y;var L=y.intersectPercentage(i);P>L&&(w=new ri(y),P=L),y=new ri(O)}return w||O}var s=new ri(e),a=e.cue,o=CB(a),l=[];if(a.snapToLines){var u;switch(a.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=s.lineHeight,d=c*Math.round(o),f=i[u]+c,p=l[0];Math.abs(d)>f&&(d=d<0?-1:1,d*=Math.ceil(f/c)*c),o<0&&(d+=a.vertical===""?i.height:i.width,l=l.reverse()),s.move(p,d)}else{var g=s.lineHeight/i.height*100;switch(a.lineAlign){case"center":o-=g/2;break;case"end":o-=g;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],s=new ri(e)}var b=n(s,l);e.move(b.toCSSCompatValues(i))}function mo(){}mo.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};mo.convertCueToDOMTree=function(t,e){return!t||!e?null:HC(t,e)};var PB=.05,OB="sans-serif",AB="1.5%";mo.processCues=function(t,e,i){if(!t||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var r=t.document.createElement("div");r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=AB,i.appendChild(r);function n(c){for(var d=0;d<c.length;d++)if(c[d].hasBeenReset||!c[d].displayState)return!0;return!1}if(!n(e)){for(var s=0;s<e.length;s++)r.appendChild(e[s].displayState);return}var a=[],o=ri.getSimpleBoxPosition(r),l=Math.round(o.height*PB*100)/100,u={font:l+"px "+OB};(function(){for(var c,d,f=0;f<e.length;f++)d=e[f],c=new tf(t,d,u),r.appendChild(c.div),kB(t,c,o,a),d.displayState=c.div,a.push(ri.getSimpleBoxPosition(c))})()};mo.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]};mo.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Ni)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function i(){for(var c=e.buffer,d=0;d<c.length&&c[d]!=="\r"&&c[d]!==`
`;)++d;var f=c.substr(0,d);return c[d]==="\r"&&++d,c[d]===`
`&&++d,e.buffer=c.substr(d),f}function r(c){var d=new Nl;if(ml(c,function(p,g){switch(p){case"id":d.set(p,g);break;case"width":d.percent(p,g);break;case"lines":d.integer(p,g);break;case"regionanchor":case"viewportanchor":var b=g.split(",");if(b.length!==2)break;var y=new Nl;if(y.percent("x",b[0]),y.percent("y",b[1]),!y.has("x")||!y.has("y"))break;d.set(p+"X",y.get("x")),d.set(p+"Y",y.get("y"));break;case"scroll":d.alt(p,g,["up"]);break}},/=/,/\s/),d.has("id")){var f=new(e.vttjs.VTTRegion||e.window.VTTRegion);f.width=d.get("width",100),f.lines=d.get("lines",3),f.regionAnchorX=d.get("regionanchorX",0),f.regionAnchorY=d.get("regionanchorY",100),f.viewportAnchorX=d.get("viewportanchorX",0),f.viewportAnchorY=d.get("viewportanchorY",100),f.scroll=d.get("scroll",""),e.onregion&&e.onregion(f),e.regionList.push({id:d.get("id"),region:f})}}function n(c){var d=new Nl;ml(c,function(f,p){switch(f){case"MPEGT":d.integer(f+"S",p);break;case"LOCA":d.set(f+"L",z0(p));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function s(c){c.match(/X-TIMESTAMP-MAP/)?ml(c,function(d,f){switch(d){case"X-TIMESTAMP-MAP":n(f);break}},/=/):ml(c,function(d,f){switch(d){case"Region":r(f);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=i();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Ni(Ni.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=i(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{TB(a,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=a.indexOf("-->")!==-1;if(!a||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Ni(Ni.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var IB=mo,DB="auto",MB={"":1,lr:1,rl:1},LB={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function RB(t){if(typeof t!="string")return!1;var e=MB[t.toLowerCase()];return e?t.toLowerCase():!1}function Ap(t){if(typeof t!="string")return!1;var e=LB[t.toLowerCase()];return e?t.toLowerCase():!1}function WC(t,e,i){this.hasBeenReset=!1;var r="",n=!1,s=t,a=e,o=i,l=null,u="",c=!0,d="auto",f="start",p="auto",g="auto",b=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(T){r=""+T}},pauseOnExit:{enumerable:!0,get:function(){return n},set:function(T){n=!!T}},startTime:{enumerable:!0,get:function(){return s},set:function(T){if(typeof T!="number")throw new TypeError("Start time must be set to a number.");s=T,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(T){if(typeof T!="number")throw new TypeError("End time must be set to a number.");a=T,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(T){o=""+T,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(T){l=T,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(T){var w=RB(T);if(w===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=w,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(T){c=!!T,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(T){if(typeof T!="number"&&T!==DB)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=T,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(T){var w=Ap(T);w?(f=w,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(T){if(T<0||T>100)throw new Error("Position must be between 0 and 100.");p=T,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(T){var w=Ap(T);w?(g=w,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return b},set:function(T){if(T<0||T>100)throw new Error("Size must be between 0 and 100.");b=T,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(T){var w=Ap(T);if(!w)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=w,this.hasBeenReset=!0}}}),this.displayState=void 0}WC.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var FB=WC,NB={"":!0,up:!0};function UB(t){if(typeof t!="string")return!1;var e=NB[t.toLowerCase()];return e?t.toLowerCase():!1}function Ko(t){return typeof t=="number"&&t>=0&&t<=100}function BB(){var t=100,e=3,i=0,r=100,n=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!Ko(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(o){if(!Ko(o))throw new Error("RegionAnchorX must be between 0 and 100.");r=o}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(o){if(!Ko(o))throw new Error("RegionAnchorY must be between 0 and 100.");i=o}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(o){if(!Ko(o))throw new Error("ViewportAnchorY must be between 0 and 100.");s=o}},viewportAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!Ko(o))throw new Error("ViewportAnchorX must be between 0 and 100.");n=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=UB(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var zB=BB,ur=M,Ws=VC.exports={WebVTT:IB,VTTCue:FB,VTTRegion:zB};ur.vttjs=Ws;ur.WebVTT=Ws.WebVTT;var jB=Ws.VTTCue,VB=Ws.VTTRegion,HB=ur.VTTCue,WB=ur.VTTRegion;Ws.shim=function(){ur.VTTCue=jB,ur.VTTRegion=VB};Ws.restore=function(){ur.VTTCue=HB,ur.VTTRegion=WB};ur.VTTCue||Ws.shim();var KT=VC.exports;function qB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pd(t,e,i){return qB()?pd=Reflect.construct:pd=function(n,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(n,o),u=new l;return a&&du(u,a.prototype),u},pd.apply(null,arguments)}function $B(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&du(t,e)}var qC={exports:{}};(function(t,e){(function(i){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var f=o.parseURL(u);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return c.alwaysNormalize?(f.path=o.normalizePath(f.path),o.buildURLFromParts(f)):u;var p=o.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var g=n.exec(p.path);p.netLoc=g[1],p.path=g[2]}p.netLoc&&!p.path&&(p.path="/");var b={scheme:p.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(b.netLoc=p.netLoc,f.path[0]!=="/"))if(!f.path)b.path=p.path,f.params||(b.params=p.params,f.query||(b.query=p.query));else{var y=p.path,T=y.substring(0,y.lastIndexOf("/")+1)+f.path;b.path=o.normalizePath(T)}return b.path===null&&(b.path=c.alwaysNormalize?o.normalizePath(f.path):f.path),o.buildURLFromParts(b)},parseURL:function(l){var u=r.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(qC);var QT=qC.exports,YT="http://example.com",oh=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=M.location&&M.location.href||"");var r=typeof M.URL=="function",n=/^\/\//.test(e),s=!M.location&&!/\/\//i.test(e);if(r?e=new M.URL(e,M.location||YT):/\/\//i.test(e)||(e=QT.buildAbsoluteURL(M.location&&M.location.href||"",e)),r){var a=new URL(i,e);return s?a.href.slice(YT.length):n?a.href.slice(a.protocol.length):a.href}return QT.buildAbsoluteURL(e,i)},j0=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(r,n){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(n)},e.off=function(r,n){if(!this.listeners[r])return!1;var s=this.listeners[r].indexOf(n);return this.listeners[r]=this.listeners[r].slice(0),this.listeners[r].splice(s,1),s>-1},e.trigger=function(r){var n=this.listeners[r];if(!!n)if(arguments.length===2)for(var s=n.length,a=0;a<s;++a)n[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=n.length,u=0;u<l;++u)n[u].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(r){this.on("data",function(n){r.push(n)})},t}(),GB=function(e){return M.atob?M.atob(e):Buffer.from(e,"base64").toString("binary")};function $C(t){for(var e=GB(t),i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}/*! @name m3u8-parser @version 4.7.1 @license Apache-2.0 */var XB=function(t){ce(e,t);function e(){var r;return r=t.call(this)||this,r.buffer="",r}var i=e.prototype;return i.push=function(n){var s;for(this.buffer+=n,s=this.buffer.indexOf(`
`);s>-1;s=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,s)),this.buffer=this.buffer.substring(s+1)},e}(j0),KB=String.fromCharCode(9),Ip=function(e){var i=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),r={};return i[1]&&(r.length=parseInt(i[1],10)),i[2]&&(r.offset=parseInt(i[2],10)),r},QB=function(){var e="[^=]*",i='"[^"]*"|[^,]*',r="(?:"+e+")=(?:"+i+")";return new RegExp("(?:^|,)("+r+")")},un=function(e){for(var i=e.split(QB()),r={},n=i.length,s;n--;)i[n]!==""&&(s=/([^=]*)=(.*)/.exec(i[n]).slice(1),s[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),r[s[0]]=s[1]);return r},YB=function(t){ce(e,t);function e(){var r;return r=t.call(this)||this,r.customParsers=[],r.tagMappers=[],r}var i=e.prototype;return i.push=function(n){var s=this,a,o;if(n=n.trim(),n.length!==0){if(n[0]!=="#"){this.trigger("data",{type:"uri",uri:n});return}var l=this.tagMappers.reduce(function(u,c){var d=c(n);return d===n?u:u.concat([d])},[n]);l.forEach(function(u){for(var c=0;c<s.customParsers.length;c++)if(s.customParsers[c].call(s,u))return;if(u.indexOf("#EXT")!==0){s.trigger("data",{type:"comment",text:u.slice(1)});return}if(u=u.replace("\r",""),a=/^#EXTM3U/.exec(u),a){s.trigger("data",{type:"tag",tagType:"m3u"});return}if(a=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(u),a){o={type:"tag",tagType:"inf"},a[1]&&(o.duration=parseFloat(a[1])),a[2]&&(o.title=a[2]),s.trigger("data",o);return}if(a=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"targetduration"},a[1]&&(o.duration=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"version"},a[1]&&(o.version=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"media-sequence"},a[1]&&(o.number=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"discontinuity-sequence"},a[1]&&(o.number=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"playlist-type"},a[1]&&(o.playlistType=a[1]),s.trigger("data",o);return}if(a=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(u),a){o=nn(Ip(a[1]),{type:"tag",tagType:"byterange"}),s.trigger("data",o);return}if(a=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(u),a){o={type:"tag",tagType:"allow-cache"},a[1]&&(o.allowed=!/NO/.test(a[1])),s.trigger("data",o);return}if(a=/^#EXT-X-MAP:?(.*)$/.exec(u),a){if(o={type:"tag",tagType:"map"},a[1]){var d=un(a[1]);d.URI&&(o.uri=d.URI),d.BYTERANGE&&(o.byterange=Ip(d.BYTERANGE))}s.trigger("data",o);return}if(a=/^#EXT-X-STREAM-INF:?(.*)$/.exec(u),a){if(o={type:"tag",tagType:"stream-inf"},a[1]){if(o.attributes=un(a[1]),o.attributes.RESOLUTION){var f=o.attributes.RESOLUTION.split("x"),p={};f[0]&&(p.width=parseInt(f[0],10)),f[1]&&(p.height=parseInt(f[1],10)),o.attributes.RESOLUTION=p}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}s.trigger("data",o);return}if(a=/^#EXT-X-MEDIA:?(.*)$/.exec(u),a){o={type:"tag",tagType:"media"},a[1]&&(o.attributes=un(a[1])),s.trigger("data",o);return}if(a=/^#EXT-X-ENDLIST/.exec(u),a){s.trigger("data",{type:"tag",tagType:"endlist"});return}if(a=/^#EXT-X-DISCONTINUITY/.exec(u),a){s.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(a=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(u),a){o={type:"tag",tagType:"program-date-time"},a[1]&&(o.dateTimeString=a[1],o.dateTimeObject=new Date(a[1])),s.trigger("data",o);return}if(a=/^#EXT-X-KEY:?(.*)$/.exec(u),a){o={type:"tag",tagType:"key"},a[1]&&(o.attributes=un(a[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),s.trigger("data",o);return}if(a=/^#EXT-X-START:?(.*)$/.exec(u),a){o={type:"tag",tagType:"start"},a[1]&&(o.attributes=un(a[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),s.trigger("data",o);return}if(a=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"cue-out-cont"},a[1]?o.data=a[1]:o.data="",s.trigger("data",o);return}if(a=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"cue-out"},a[1]?o.data=a[1]:o.data="",s.trigger("data",o);return}if(a=/^#EXT-X-CUE-IN:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"cue-in"},a[1]?o.data=a[1]:o.data="",s.trigger("data",o);return}if(a=/^#EXT-X-SKIP:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"skip"},o.attributes=un(a[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(KB)),s.trigger("data",o);return}if(a=/^#EXT-X-PART:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"part"},o.attributes=un(a[1]),["DURATION"].forEach(function(g){o.attributes.hasOwnProperty(g)&&(o.attributes[g]=parseFloat(o.attributes[g]))}),["INDEPENDENT","GAP"].forEach(function(g){o.attributes.hasOwnProperty(g)&&(o.attributes[g]=/YES/.test(o.attributes[g]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=Ip(o.attributes.BYTERANGE)),s.trigger("data",o);return}if(a=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"server-control"},o.attributes=un(a[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(g){o.attributes.hasOwnProperty(g)&&(o.attributes[g]=parseFloat(o.attributes[g]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(g){o.attributes.hasOwnProperty(g)&&(o.attributes[g]=/YES/.test(o.attributes[g]))}),s.trigger("data",o);return}if(a=/^#EXT-X-PART-INF:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"part-inf"},o.attributes=un(a[1]),["PART-TARGET"].forEach(function(g){o.attributes.hasOwnProperty(g)&&(o.attributes[g]=parseFloat(o.attributes[g]))}),s.trigger("data",o);return}if(a=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=un(a[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(g){if(o.attributes.hasOwnProperty(g)){o.attributes[g]=parseInt(o.attributes[g],10);var b=g==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[b]=o.attributes[g],delete o.attributes[g]}}),s.trigger("data",o);return}if(a=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=un(a[1]),["LAST-MSN","LAST-PART"].forEach(function(g){o.attributes.hasOwnProperty(g)&&(o.attributes[g]=parseInt(o.attributes[g],10))}),s.trigger("data",o);return}s.trigger("data",{type:"tag",data:u.slice(4)})})}},i.addParser=function(n){var s=this,a=n.expression,o=n.customType,l=n.dataParser,u=n.segment;typeof l!="function"&&(l=function(d){return d}),this.customParsers.push(function(c){var d=a.exec(c);if(d)return s.trigger("data",{type:"custom",data:l(c),customType:o,segment:u}),!0})},i.addTagMapper=function(n){var s=n.expression,a=n.map,o=function(u){return s.test(u)?a(u):u};this.tagMappers.push(o)},e}(j0),JB=function(e){return e.toLowerCase().replace(/-(\w)/g,function(i){return i[1].toUpperCase()})},Js=function(e){var i={};return Object.keys(e).forEach(function(r){i[JB(r)]=e[r]}),i},Dp=function(e){var i=e.serverControl,r=e.targetDuration,n=e.partTargetDuration;if(!!i){var s="#EXT-X-SERVER-CONTROL",a="holdBack",o="partHoldBack",l=r&&r*3,u=n&&n*2;r&&!i.hasOwnProperty(a)&&(i[a]=l,this.trigger("info",{message:s+" defaulting HOLD-BACK to targetDuration * 3 ("+l+")."})),l&&i[a]<l&&(this.trigger("warn",{message:s+" clamping HOLD-BACK ("+i[a]+") to targetDuration * 3 ("+l+")"}),i[a]=l),n&&!i.hasOwnProperty(o)&&(i[o]=n*3,this.trigger("info",{message:s+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+i[o]+")."})),n&&i[o]<u&&(this.trigger("warn",{message:s+" clamping PART-HOLD-BACK ("+i[o]+") to partTargetDuration * 2 ("+u+")."}),i[o]=u)}},ZB=function(t){ce(e,t);function e(){var r;r=t.call(this)||this,r.lineStream=new XB,r.parseStream=new YB,r.lineStream.pipe(r.parseStream);var n=Ae(r),s=[],a={},o,l,u=!1,c=function(){},d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},f="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",p=0;r.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var g=0,b=0;return r.on("end",function(){a.uri||!a.parts&&!a.preloadHints||(!a.map&&o&&(a.map=o),!a.key&&l&&(a.key=l),!a.timeline&&typeof p=="number"&&(a.timeline=p),r.manifest.preloadSegment=a)}),r.parseStream.on("data",function(y){var T,w;({tag:function(){({version:function(){y.version&&(this.manifest.version=y.version)},"allow-cache":function(){this.manifest.allowCache=y.allowed,"allowed"in y||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var F={};"length"in y&&(a.byterange=F,F.length=y.length,"offset"in y||(y.offset=g)),"offset"in y&&(a.byterange=F,F.offset=y.offset),g=F.offset+F.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),y.duration>0&&(a.duration=y.duration),y.duration===0&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function(){if(!y.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(y.attributes.METHOD==="NONE"){l=null;return}if(!y.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(y.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:y.attributes};return}if(y.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:y.attributes.URI};return}if(y.attributes.KEYFORMAT===f){var F=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(F.indexOf(y.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(y.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),y.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(y.attributes.KEYID&&y.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:y.attributes.KEYFORMAT,keyId:y.attributes.KEYID.substring(2)},pssh:$C(y.attributes.URI.split(",")[1])};return}y.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:y.attributes.METHOD||"AES-128",uri:y.attributes.URI},typeof y.attributes.IV<"u"&&(l.iv=y.attributes.IV)},"media-sequence":function(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+y.number});return}this.manifest.mediaSequence=y.number},"discontinuity-sequence":function(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+y.number});return}this.manifest.discontinuitySequence=y.number,p=y.number},"playlist-type":function(){if(!/VOD|EVENT/.test(y.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+y.playlist});return}this.manifest.playlistType=y.playlistType},map:function(){o={},y.uri&&(o.uri=y.uri),y.byterange&&(o.byterange=y.byterange),l&&(o.key=l)},"stream-inf":function(){if(this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||d,!y.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}a.attributes||(a.attributes={}),nn(a.attributes,y.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,!(y.attributes&&y.attributes.TYPE&&y.attributes["GROUP-ID"]&&y.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var F=this.manifest.mediaGroups[y.attributes.TYPE];F[y.attributes["GROUP-ID"]]=F[y.attributes["GROUP-ID"]]||{},T=F[y.attributes["GROUP-ID"]],w={default:/yes/i.test(y.attributes.DEFAULT)},w.default?w.autoselect=!0:w.autoselect=/yes/i.test(y.attributes.AUTOSELECT),y.attributes.LANGUAGE&&(w.language=y.attributes.LANGUAGE),y.attributes.URI&&(w.uri=y.attributes.URI),y.attributes["INSTREAM-ID"]&&(w.instreamId=y.attributes["INSTREAM-ID"]),y.attributes.CHARACTERISTICS&&(w.characteristics=y.attributes.CHARACTERISTICS),y.attributes.FORCED&&(w.forced=/yes/i.test(y.attributes.FORCED)),T[y.attributes.NAME]=w},discontinuity:function(){p+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=y.dateTimeString,this.manifest.dateTimeObject=y.dateTimeObject),a.dateTimeString=y.dateTimeString,a.dateTimeObject=y.dateTimeObject},targetduration:function(){if(!isFinite(y.duration)||y.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+y.duration});return}this.manifest.targetDuration=y.duration,Dp.call(this,this.manifest)},start:function(){if(!y.attributes||isNaN(y.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:y.attributes["TIME-OFFSET"],precise:y.attributes.PRECISE}},"cue-out":function(){a.cueOut=y.data},"cue-out-cont":function(){a.cueOutCont=y.data},"cue-in":function(){a.cueIn=y.data},skip:function(){this.manifest.skip=Js(y.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",y.attributes,["SKIPPED-SEGMENTS"])},part:function(){var F=this;u=!0;var L=this.manifest.segments.length,R=Js(y.attributes);a.parts=a.parts||[],a.parts.push(R),R.byterange&&(R.byterange.hasOwnProperty("offset")||(R.byterange.offset=b),b=R.byterange.offset+R.byterange.length);var E=a.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+E+" for segment #"+L,y.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(k,A){k.hasOwnProperty("lastPart")||F.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+A+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var F=this.manifest.serverControl=Js(y.attributes);F.hasOwnProperty("canBlockReload")||(F.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Dp.call(this,this.manifest),F.canSkipDateranges&&!F.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var F=this.manifest.segments.length,L=Js(y.attributes),R=L.type&&L.type==="PART";a.preloadHints=a.preloadHints||[],a.preloadHints.push(L),L.byterange&&(L.byterange.hasOwnProperty("offset")||(L.byterange.offset=R?b:0,R&&(b=L.byterange.offset+L.byterange.length)));var E=a.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+E+" for segment #"+F,y.attributes,["TYPE","URI"]),!!L.type)for(var k=0;k<a.preloadHints.length-1;k++){var A=a.preloadHints[k];!A.type||A.type===L.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+E+" for segment #"+F+" has the same TYPE "+L.type+" as preload hint #"+k})}},"rendition-report":function(){var F=Js(y.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(F);var L=this.manifest.renditionReports.length-1,R=["LAST-MSN","URI"];u&&R.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+L,y.attributes,R)},"part-inf":function(){this.manifest.partInf=Js(y.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",y.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Dp.call(this,this.manifest)}}[y.tagType]||c).call(n)},uri:function(){a.uri=y.uri,s.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),l&&(a.key=l),a.timeline=p,o&&(a.map=o),b=0,a={}},comment:function(){},custom:function(){y.segment?(a.custom=a.custom||{},a.custom[y.customType]=y.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[y.customType]=y.data)}})[y.type].call(n)}),r}var i=e.prototype;return i.warnOnMissingAttributes_=function(n,s,a){var o=[];a.forEach(function(l){s.hasOwnProperty(l)||o.push(l)}),o.length&&this.trigger("warn",{message:n+" lacks required attribute(s): "+o.join(", ")})},i.push=function(n){this.lineStream.push(n)},i.end=function(){this.lineStream.push(`
`),this.trigger("end")},i.addParser=function(n){this.parseStream.addParser(n)},i.addTagMapper=function(n){this.parseStream.addTagMapper(n)},e}(j0),Ss={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},e4=["video","audio","text"],JT=["Video","Audio","Text"],GC=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,r,n){var s=("00"+Number(r).toString(16)).slice(-2),a=("00"+Number(n).toString(16)).slice(-2);return"avc1."+s+"00"+a})},En=function(e){e===void 0&&(e="");var i=e.split(","),r=[];return i.forEach(function(n){n=n.trim();var s;e4.forEach(function(a){var o=Ss[a].exec(n.toLowerCase());if(!(!o||o.length<=1)){s=a;var l=n.substring(0,o[1].length),u=n.replace(l,"");r.push({type:l,details:u,mediaType:a})}}),s||r.push({type:n,details:"",mediaType:"unknown"})}),r},t4=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var r=e.mediaGroups.AUDIO[i];if(!r)return null;for(var n in r){var s=r[n];if(s.default&&s.playlists)return En(s.playlists[0].attributes.CODECS)}return null},XC=function(e){return e===void 0&&(e=""),Ss.audio.test(e.trim().toLowerCase())},i4=function(e){return e===void 0&&(e=""),Ss.text.test(e.trim().toLowerCase())},fu=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(s){return GC(s.trim())}),r="video";i.length===1&&XC(i[0])?r="audio":i.length===1&&i4(i[0])&&(r="application");var n="mp4";return i.every(function(s){return Ss.mp4.test(s)})?n="mp4":i.every(function(s){return Ss.webm.test(s)})?n="webm":i.every(function(s){return Ss.ogg.test(s)})&&(n="ogg"),r+"/"+n+';codecs="'+e+'"'}},md=function(e){return e===void 0&&(e=""),M.MediaSource&&M.MediaSource.isTypeSupported&&M.MediaSource.isTypeSupported(fu(e))||!1},Mp=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var r=0;r<JT.length;r++){var n=JT[r];if(Ss["muxer"+n].test(i))return!0}return!1})},ZT="mp4a.40.2",n4="avc1.4d400d",r4=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,s4=/^application\/dash\+xml/i,KC=function(e){return r4.test(e)?"hls":s4.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},a4=function(e){return e.toString(2).length},o4=function(e){return Math.ceil(a4(e)/8)},QC=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},l4=function(e){return QC(e)},Te=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!l4(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},It=M.BigInt||Number,Tv=[It("0x1"),It("0x100"),It("0x10000"),It("0x1000000"),It("0x100000000"),It("0x10000000000"),It("0x1000000000000"),It("0x100000000000000"),It("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var u4=function(e,i){var r=i===void 0?{}:i,n=r.signed,s=n===void 0?!1:n,a=r.le,o=a===void 0?!1:a;e=Te(e);var l=o?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],c=u.call(e,function(f,p,g){var b=o?g:Math.abs(g+1-e.length);return f+It(p)*Tv[b]},It(0));if(s){var d=Tv[e.length]/It(2)-It(1);c=It(c),c>d&&(c-=d,c-=d,c-=It(2))}return Number(c)},c4=function(e,i){var r=i===void 0?{}:i,n=r.le,s=n===void 0?!1:n;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=It(e);for(var a=o4(e),o=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var u=s?l:Math.abs(l+1-o.length);o[u]=Number(e/Tv[l]&It(255)),e<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},YC=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},d4=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(i=i.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),i.length<=1)return Te(i[0]);var n=i.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),s=new Uint8Array(n),a=0;return i.forEach(function(o){o=Te(o),s.set(o,a),a+=o.byteLength}),s},it=function(e,i,r){var n=r===void 0?{}:r,s=n.offset,a=s===void 0?0:s,o=n.mask,l=o===void 0?[]:o;e=Te(e),i=Te(i);var u=i.every?i.every:Array.prototype.every;return i.length&&e.length-a>=i.length&&u.call(i,function(c,d){var f=l[d]?l[d]&e[a+d]:e[a+d];return c===f})},f4=function(e,i,r){i.forEach(function(n){for(var s in e.mediaGroups[n])for(var a in e.mediaGroups[n][s]){var o=e.mediaGroups[n][s][a];r(o,n,s,a)}})},ts={},qs={};function V0(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}var JC=V0({HTML:"text/html",isHTML:function(t){return t===JC.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),ZC=V0({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===ZC.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});qs.freeze=V0;qs.MIME_TYPE=JC;qs.NAMESPACE=ZC;var h4=qs,hu=h4.NAMESPACE;function p4(t){return t!==""}function m4(t){return t?t.split(/[\t\n\f\r ]+/).filter(p4):[]}function v4(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function ex(t){if(!t)return[];var e=m4(t);return Object.keys(e.reduce(v4,{}))}function g4(t){return function(e){return t&&t.indexOf(e)!==-1}}function Fu(t,e){for(var i in t)e[i]=t[i]}function Ai(t,e){var i=t.prototype;if(!(i instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,Fu(i,r),t.prototype=i=r}i.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),i.constructor=t)}var Ii={},yn=Ii.ELEMENT_NODE=1,$a=Ii.ATTRIBUTE_NODE=2,nf=Ii.TEXT_NODE=3,ek=Ii.CDATA_SECTION_NODE=4,tk=Ii.ENTITY_REFERENCE_NODE=5,y4=Ii.ENTITY_NODE=6,ik=Ii.PROCESSING_INSTRUCTION_NODE=7,nk=Ii.COMMENT_NODE=8,rk=Ii.DOCUMENT_NODE=9,sk=Ii.DOCUMENT_TYPE_NODE=10,cr=Ii.DOCUMENT_FRAGMENT_NODE=11,_4=Ii.NOTATION_NODE=12,Yt={},kt={};Yt.INDEX_SIZE_ERR=(kt[1]="Index size error",1);Yt.DOMSTRING_SIZE_ERR=(kt[2]="DOMString size error",2);var b4=Yt.HIERARCHY_REQUEST_ERR=(kt[3]="Hierarchy request error",3);Yt.WRONG_DOCUMENT_ERR=(kt[4]="Wrong document",4);Yt.INVALID_CHARACTER_ERR=(kt[5]="Invalid character",5);Yt.NO_DATA_ALLOWED_ERR=(kt[6]="No data allowed",6);Yt.NO_MODIFICATION_ALLOWED_ERR=(kt[7]="No modification allowed",7);var T4=Yt.NOT_FOUND_ERR=(kt[8]="Not found",8);Yt.NOT_SUPPORTED_ERR=(kt[9]="Not supported",9);var tx=Yt.INUSE_ATTRIBUTE_ERR=(kt[10]="Attribute in use",10);Yt.INVALID_STATE_ERR=(kt[11]="Invalid state",11);Yt.SYNTAX_ERR=(kt[12]="Syntax error",12);Yt.INVALID_MODIFICATION_ERR=(kt[13]="Invalid modification",13);Yt.NAMESPACE_ERR=(kt[14]="Invalid namespace",14);Yt.INVALID_ACCESS_ERR=(kt[15]="Invalid access",15);function Rs(t,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,kt[t]),this.message=kt[t],Error.captureStackTrace&&Error.captureStackTrace(this,Rs);return i.code=t,e&&(this.message=this.message+": "+e),i}Rs.prototype=Error.prototype;Fu(Yt,Rs);function nr(){}nr.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var i=[],r=0;r<this.length;r++)ga(this[r],i,t,e);return i.join("")}};function Ga(t,e){this._node=t,this._refresh=e,H0(this)}function H0(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var i=t._refresh(t._node);gk(t,"length",i.length),Fu(i,t),t._inc=e}}Ga.prototype.item=function(t){return H0(this),this[t]};Ai(Ga,nr);function rf(){}function ak(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function ix(t,e,i,r){if(r?e[ak(e,r)]=i:e[e.length++]=i,t){i.ownerElement=t;var n=t.ownerDocument;n&&(r&&uk(n,t,r),x4(n,t,i))}}function nx(t,e,i){var r=ak(e,i);if(r>=0){for(var n=e.length-1;r<n;)e[r]=e[++r];if(e.length=n,t){var s=t.ownerDocument;s&&(uk(s,t,i),i.ownerElement=null)}}else throw Rs(T4,new Error(t.tagName+"@"+i))}rf.prototype={length:0,item:nr.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Rs(tx);var i=this.getNamedItem(t.nodeName);return ix(this._ownerElement,this,t,i),i},setNamedItemNS:function(t){var e=t.ownerElement,i;if(e&&e!=this._ownerElement)throw new Rs(tx);return i=this.getNamedItemNS(t.namespaceURI,t.localName),ix(this._ownerElement,this,t,i),i},removeNamedItem:function(t){var e=this.getNamedItem(t);return nx(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var i=this.getNamedItemNS(t,e);return nx(this._ownerElement,this,i),i},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var r=this[i];if(r.localName==e&&r.namespaceURI==t)return r}return null}};function ok(){}ok.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,i){var r=new Nu;if(r.implementation=this,r.childNodes=new nr,r.doctype=i||null,i&&r.appendChild(i),e){var n=r.createElementNS(t,e);r.appendChild(n)}return r},createDocumentType:function(t,e,i){var r=new lh;return r.name=t,r.nodeName=t,r.publicId=e||"",r.systemId=i||"",r}};function Jt(){}Jt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return dk(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return ck(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return xv(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==nf&&t.nodeType==nf?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var i=e._nsMap;if(i){for(var r in i)if(i[r]==t)return r}e=e.nodeType==$a?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var i=e._nsMap;if(i&&t in i)return i[t];e=e.nodeType==$a?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function lk(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Fu(Ii,Jt);Fu(Ii,Jt.prototype);function pu(t,e){if(e(t))return!0;if(t=t.firstChild)do if(pu(t,e))return!0;while(t=t.nextSibling)}function Nu(){}function x4(t,e,i){t&&t._inc++;var r=i.namespaceURI;r===hu.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function uk(t,e,i,r){t&&t._inc++;var n=i.namespaceURI;n===hu.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function W0(t,e,i){if(t&&t._inc){t._inc++;var r=e.childNodes;if(i)r[r.length++]=i;else{for(var n=e.firstChild,s=0;n;)r[s++]=n,n=n.nextSibling;r.length=s}}}function ck(t,e){var i=e.previousSibling,r=e.nextSibling;return i?i.nextSibling=r:t.firstChild=r,r?r.previousSibling=i:t.lastChild=i,W0(t.ownerDocument,t),e}function dk(t,e,i){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===cr){var n=e.firstChild;if(n==null)return e;var s=e.lastChild}else n=s=e;var a=i?i.previousSibling:t.lastChild;n.previousSibling=a,s.nextSibling=i,a?a.nextSibling=n:t.firstChild=n,i==null?t.lastChild=s:i.previousSibling=s;do n.parentNode=t;while(n!==s&&(n=n.nextSibling));return W0(t.ownerDocument||t,t),e.nodeType==cr&&(e.firstChild=e.lastChild=null),e}function S4(t,e){var i=e.parentNode;if(i){var r=t.lastChild;i.removeChild(e);var r=t.lastChild}var r=t.lastChild;return e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,W0(t.ownerDocument,t,e),e}Nu.prototype={nodeName:"#document",nodeType:rk,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==cr){for(var i=t.firstChild;i;){var r=i.nextSibling;this.insertBefore(i,e),i=r}return t}return this.documentElement==null&&t.nodeType==yn&&(this.documentElement=t),dk(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),ck(this,t)},importNode:function(t,e){return vk(this,t,e)},getElementById:function(t){var e=null;return pu(this.documentElement,function(i){if(i.nodeType==yn&&i.getAttribute("id")==t)return e=i,!0}),e},getElementsByClassName:function(t){var e=ex(t);return new Ga(this,function(i){var r=[];return e.length>0&&pu(i.documentElement,function(n){if(n!==i&&n.nodeType===yn){var s=n.getAttribute("class");if(s){var a=t===s;if(!a){var o=ex(s);a=e.every(g4(o))}a&&r.push(n)}}}),r})},createElement:function(t){var e=new Fs;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new nr;var i=e.attributes=new rf;return i._ownerElement=e,e},createDocumentFragment:function(){var t=new uh;return t.ownerDocument=this,t.childNodes=new nr,t},createTextNode:function(t){var e=new q0;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new $0;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new G0;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new K0;return i.ownerDocument=this,i.tagName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new sf;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new X0;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new Fs,r=e.split(":"),n=i.attributes=new rf;return i.childNodes=new nr,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,r.length==2?(i.prefix=r[0],i.localName=r[1]):i.localName=e,n._ownerElement=i,i},createAttributeNS:function(t,e){var i=new sf,r=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,r.length==2?(i.prefix=r[0],i.localName=r[1]):i.localName=e,i}};Ai(Nu,Jt);function Fs(){this._nsMap={}}Fs.prototype={nodeType:yn,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var i=this.ownerDocument.createAttribute(t);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===cr?this.insertBefore(t,null):S4(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);return i&&i.value||""},setAttributeNS:function(t,e,i){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+i,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Ga(this,function(e){var i=[];return pu(e,function(r){r!==e&&r.nodeType==yn&&(t==="*"||r.tagName==t)&&i.push(r)}),i})},getElementsByTagNameNS:function(t,e){return new Ga(this,function(i){var r=[];return pu(i,function(n){n!==i&&n.nodeType===yn&&(t==="*"||n.namespaceURI===t)&&(e==="*"||n.localName==e)&&r.push(n)}),r})}};Nu.prototype.getElementsByTagName=Fs.prototype.getElementsByTagName;Nu.prototype.getElementsByTagNameNS=Fs.prototype.getElementsByTagNameNS;Ai(Fs,Jt);function sf(){}sf.prototype.nodeType=$a;Ai(sf,Jt);function Uu(){}Uu.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(kt[b4])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){var r=this.data.substring(0,t),n=this.data.substring(t+e);i=r+i+n,this.nodeValue=this.data=i,this.length=i.length}};Ai(Uu,Jt);function q0(){}q0.prototype={nodeName:"#text",nodeType:nf,splitText:function(t){var e=this.data,i=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};Ai(q0,Uu);function $0(){}$0.prototype={nodeName:"#comment",nodeType:nk};Ai($0,Uu);function G0(){}G0.prototype={nodeName:"#cdata-section",nodeType:ek};Ai(G0,Uu);function lh(){}lh.prototype.nodeType=sk;Ai(lh,Jt);function fk(){}fk.prototype.nodeType=_4;Ai(fk,Jt);function hk(){}hk.prototype.nodeType=y4;Ai(hk,Jt);function X0(){}X0.prototype.nodeType=tk;Ai(X0,Jt);function uh(){}uh.prototype.nodeName="#document-fragment";uh.prototype.nodeType=cr;Ai(uh,Jt);function K0(){}K0.prototype.nodeType=ik;Ai(K0,Jt);function pk(){}pk.prototype.serializeToString=function(t,e,i){return mk.call(t,e,i)};Jt.prototype.toString=mk;function mk(t,e){var i=[],r=this.nodeType==9&&this.documentElement||this,n=r.prefix,s=r.namespaceURI;if(s&&n==null){var n=r.lookupPrefix(s);if(n==null)var a=[{namespace:s,prefix:null}]}return ga(this,i,t,e,a),i.join("")}function rx(t,e,i){var r=t.prefix||"",n=t.namespaceURI;if(!n||r==="xml"&&n===hu.XML||n===hu.XMLNS)return!1;for(var s=i.length;s--;){var a=i[s];if(a.prefix===r)return a.namespace!==n}return!0}function Lp(t,e,i){t.push(" ",e,'="',i.replace(/[<&"]/g,lk),'"')}function ga(t,e,i,r,n){if(n||(n=[]),r)if(t=r(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case yn:var s=t.attributes,a=s.length,T=t.firstChild,o=t.tagName;i=hu.isHTML(t.namespaceURI)||i;var l=o;if(!i&&!t.prefix&&t.namespaceURI){for(var u,c=0;c<s.length;c++)if(s.item(c).name==="xmlns"){u=s.item(c).value;break}if(!u)for(var d=n.length-1;d>=0;d--){var f=n[d];if(f.prefix===""&&f.namespace===t.namespaceURI){u=f.namespace;break}}if(u!==t.namespaceURI)for(var d=n.length-1;d>=0;d--){var f=n[d];if(f.namespace===t.namespaceURI){f.prefix&&(l=f.prefix+":"+o);break}}}e.push("<",l);for(var p=0;p<a;p++){var g=s.item(p);g.prefix=="xmlns"?n.push({prefix:g.localName,namespace:g.value}):g.nodeName=="xmlns"&&n.push({prefix:"",namespace:g.value})}for(var p=0;p<a;p++){var g=s.item(p);if(rx(g,i,n)){var b=g.prefix||"",y=g.namespaceURI;Lp(e,b?"xmlns:"+b:"xmlns",y),n.push({prefix:b,namespace:y})}ga(g,e,i,r,n)}if(o===l&&rx(t,i,n)){var b=t.prefix||"",y=t.namespaceURI;Lp(e,b?"xmlns:"+b:"xmlns",y),n.push({prefix:b,namespace:y})}if(T||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),i&&/^script$/i.test(o))for(;T;)T.data?e.push(T.data):ga(T,e,i,r,n.slice()),T=T.nextSibling;else for(;T;)ga(T,e,i,r,n.slice()),T=T.nextSibling;e.push("</",l,">")}else e.push("/>");return;case rk:case cr:for(var T=t.firstChild;T;)ga(T,e,i,r,n.slice()),T=T.nextSibling;return;case $a:return Lp(e,t.name,t.value);case nf:return e.push(t.data.replace(/[<&]/g,lk).replace(/]]>/g,"]]&gt;"));case ek:return e.push("<![CDATA[",t.data,"]]>");case nk:return e.push("<!--",t.data,"-->");case sk:var w=t.publicId,O=t.systemId;if(e.push("<!DOCTYPE ",t.name),w)e.push(" PUBLIC ",w),O&&O!="."&&e.push(" ",O),e.push(">");else if(O&&O!=".")e.push(" SYSTEM ",O,">");else{var P=t.internalSubset;P&&e.push(" [",P,"]"),e.push(">")}return;case ik:return e.push("<?",t.target," ",t.data,"?>");case tk:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function vk(t,e,i){var r;switch(e.nodeType){case yn:r=e.cloneNode(!1),r.ownerDocument=t;case cr:break;case $a:i=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,i)for(var n=e.firstChild;n;)r.appendChild(vk(t,n,i)),n=n.nextSibling;return r}function xv(t,e,i){var r=new e.constructor;for(var n in e){var s=e[n];typeof s!="object"&&s!=r[n]&&(r[n]=s)}switch(e.childNodes&&(r.childNodes=new nr),r.ownerDocument=t,r.nodeType){case yn:var a=e.attributes,o=r.attributes=new rf,l=a.length;o._ownerElement=r;for(var u=0;u<l;u++)r.setAttributeNode(xv(t,a.item(u),!0));break;case $a:i=!0}if(i)for(var c=e.firstChild;c;)r.appendChild(xv(t,c,i)),c=c.nextSibling;return r}function gk(t,e,i){t[e]=i}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case yn:case cr:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(t(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};Object.defineProperty(Ga.prototype,"length",{get:function(){return H0(this),this.$$length}}),Object.defineProperty(Jt.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case yn:case cr:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),gk=function(e,i,r){e["$$"+i]=r}}}catch{}ts.DocumentType=lh;ts.DOMException=Rs;ts.DOMImplementation=ok;ts.Element=Fs;ts.Node=Jt;ts.NodeList=nr;ts.XMLSerializer=pk;var Bu={},yk={};(function(t){var e=qs.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES})(yk);var Q0={},mu=qs.NAMESPACE,Sv=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,sx=new RegExp("[\\-\\.0-9"+Sv.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),ax=new RegExp("^"+Sv.source+sx.source+"*(?::"+Sv.source+sx.source+"*)?$"),Qo=0,_r=1,Zs=2,Yo=3,ea=4,ta=5,Jo=6,Mc=7;function Xa(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Xa)}Xa.prototype=new Error;Xa.prototype.name=Xa.name;function _k(){}_k.prototype={parse:function(t,e,i){var r=this.domBuilder;r.startDocument(),bk(e,e={}),w4(t,e,i,r,this.errorHandler),r.endDocument()}};function w4(t,e,i,r,n){function s(ee){if(ee>65535){ee-=65536;var q=55296+(ee>>10),Y=56320+(ee&1023);return String.fromCharCode(q,Y)}else return String.fromCharCode(ee)}function a(ee){var q=ee.slice(1,-1);return q in i?i[q]:q.charAt(0)==="#"?s(parseInt(q.substr(1).replace("x","0x"))):(n.error("entity not found:"+ee),ee)}function o(ee){if(ee>b){var q=t.substring(b,ee).replace(/&#?\w+;/g,a);f&&l(b),r.characters(q,0,ee-b),b=ee}}function l(ee,q){for(;ee>=c&&(q=d.exec(t));)u=q.index,c=u+q[0].length,f.lineNumber++;f.columnNumber=ee-u+1}for(var u=0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,f=r.locator,p=[{currentNSMap:e}],g={},b=0;;){try{var y=t.indexOf("<",b);if(y<0){if(!t.substr(b).match(/^\s*$/)){var T=r.doc,w=T.createTextNode(t.substr(b));T.appendChild(w),r.currentElement=w}return}switch(y>b&&o(y),t.charAt(y+1)){case"/":var U=t.indexOf(">",y+3),O=t.substring(y+2,U).replace(/[ \t\n\r]+$/g,""),P=p.pop();U<0?(O=t.substring(y+2).replace(/[\s<].*/,""),n.error("end tag name: "+O+" is not complete:"+P.tagName),U=y+1+O.length):O.match(/\s</)&&(O=O.replace(/[\s<].*/,""),n.error("end tag name: "+O+" maybe not complete"),U=y+1+O.length);var F=P.localNSMap,L=P.tagName==O,R=L||P.tagName&&P.tagName.toLowerCase()==O.toLowerCase();if(R){if(r.endElement(P.uri,P.localName,O),F)for(var E in F)r.endPrefixMapping(E);L||n.fatalError("end tag name: "+O+" is not match the current start tagName:"+P.tagName)}else p.push(P);U++;break;case"?":f&&l(y),U=O4(t,y,r);break;case"!":f&&l(y),U=P4(t,y,r,n);break;default:f&&l(y);var k=new Tk,A=p[p.length-1].currentNSMap,U=E4(t,y,k,A,a,n),z=k.length;if(!k.closed&&k4(t,U,k.tagName,g)&&(k.closed=!0,i.nbsp||n.warning("unclosed xml attribute")),f&&z){for(var H=ox(f,{}),G=0;G<z;G++){var Q=k[G];l(Q.offset),Q.locator=ox(f,{})}r.locator=H,lx(k,r,A)&&p.push(k),r.locator=f}else lx(k,r,A)&&p.push(k);mu.isHTML(k.uri)&&!k.closed?U=C4(t,U,k.tagName,a,r):U++}}catch(ee){if(ee instanceof Xa)throw ee;n.error("element parse error: "+ee),U=-1}U>b?b=U:o(Math.max(y,b)+1)}}function ox(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function E4(t,e,i,r,n,s){function a(f,p,g){i.attributeNames.hasOwnProperty(f)&&s.fatalError("Attribute "+f+" redefined"),i.addValue(f,p,g)}for(var o,l,u=++e,c=Qo;;){var d=t.charAt(u);switch(d){case"=":if(c===_r)o=t.slice(e,u),c=Yo;else if(c===Zs)c=Yo;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===Yo||c===_r)if(c===_r&&(s.warning('attribute value must after "="'),o=t.slice(e,u)),e=u+1,u=t.indexOf(d,e),u>0)l=t.slice(e,u).replace(/&#?\w+;/g,n),a(o,l,e-1),c=ta;else throw new Error("attribute value no end '"+d+"' match");else if(c==ea)l=t.slice(e,u).replace(/&#?\w+;/g,n),a(o,l,e),s.warning('attribute "'+o+'" missed start quot('+d+")!!"),e=u+1,c=ta;else throw new Error('attribute value must after "="');break;case"/":switch(c){case Qo:i.setTagName(t.slice(e,u));case ta:case Jo:case Mc:c=Mc,i.closed=!0;case ea:case _r:case Zs:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==Qo&&i.setTagName(t.slice(e,u)),u;case">":switch(c){case Qo:i.setTagName(t.slice(e,u));case ta:case Jo:case Mc:break;case ea:case _r:l=t.slice(e,u),l.slice(-1)==="/"&&(i.closed=!0,l=l.slice(0,-1));case Zs:c===Zs&&(l=o),c==ea?(s.warning('attribute "'+l+'" missed quot(")!'),a(o,l.replace(/&#?\w+;/g,n),e)):((!mu.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case Yo:throw new Error("attribute value missed!!")}return u;case"\x80":d=" ";default:if(d<=" ")switch(c){case Qo:i.setTagName(t.slice(e,u)),c=Jo;break;case _r:o=t.slice(e,u),c=Zs;break;case ea:var l=t.slice(e,u).replace(/&#?\w+;/g,n);s.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case ta:c=Jo;break}else switch(c){case Zs:i.tagName,(!mu.isHTML(r[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=u,c=_r;break;case ta:s.warning('attribute space is required"'+o+'"!!');case Jo:c=_r,e=u;break;case Yo:c=ea,e=u;break;case Mc:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function lx(t,e,i){for(var r=t.tagName,n=null,d=t.length;d--;){var s=t[d],a=s.qName,o=s.value,f=a.indexOf(":");if(f>0)var l=s.prefix=a.slice(0,f),u=a.slice(f+1),c=l==="xmlns"&&u;else u=a,l=null,c=a==="xmlns"&&"";s.localName=u,c!==!1&&(n==null&&(n={},bk(i,i={})),i[c]=n[c]=o,s.uri=mu.XMLNS,e.startPrefixMapping(c,o))}for(var d=t.length;d--;){s=t[d];var l=s.prefix;l&&(l==="xml"&&(s.uri=mu.XML),l!=="xmlns"&&(s.uri=i[l||""]))}var f=r.indexOf(":");f>0?(l=t.prefix=r.slice(0,f),u=t.localName=r.slice(f+1)):(l=null,u=t.localName=r);var p=t.uri=i[l||""];if(e.startElement(p,u,r,t),t.closed){if(e.endElement(p,u,r),n)for(l in n)e.endPrefixMapping(l)}else return t.currentNSMap=i,t.localNSMap=n,!0}function C4(t,e,i,r,n){if(/^(?:script|textarea)$/i.test(i)){var s=t.indexOf("</"+i+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(i)?(n.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),n.characters(a,0,a.length),s)}return e+1}function k4(t,e,i,r){var n=r[i];return n==null&&(n=t.lastIndexOf("</"+i+">"),n<e&&(n=t.lastIndexOf("</"+i)),r[i]=n),n<e}function bk(t,e){for(var i in t)e[i]=t[i]}function P4(t,e,i,r){var n=t.charAt(e+2);switch(n){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(i.comment(t,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,s-e-9),i.endCDATA(),s+3}var a=A4(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],u=!1,c=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],c=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var d=a[o-1];return i.startDTD(l,u,c),i.endDTD(),d.index+d[0].length}}return-1}function O4(t,e,i){var r=t.indexOf("?>",e);if(r){var n=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return n?(n[0].length,i.processingInstruction(n[1],n[2]),r+2):-1}return-1}function Tk(){this.attributeNames={}}Tk.prototype={setTagName:function(t){if(!ax.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,i){if(!ax.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function A4(t,e){var i,r=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=e,n.exec(t);i=n.exec(t);)if(r.push(i),i[1])return r}Q0.XMLReader=_k;Q0.ParseError=Xa;var I4=qs,Y0=ts,ux=yk,xk=Q0,D4=Y0.DOMImplementation,cx=I4.NAMESPACE,M4=xk.ParseError,L4=xk.XMLReader;function Sk(t){this.options=t||{locator:{}}}Sk.prototype.parseFromString=function(t,e){var i=this.options,r=new L4,n=i.domBuilder||new zu,s=i.errorHandler,a=i.locator,o=i.xmlns||{},l=/\/x?html?$/.test(e),u=l?ux.HTML_ENTITIES:ux.XML_ENTITIES;return a&&n.setDocumentLocator(a),r.errorHandler=R4(s,n,a),r.domBuilder=i.domBuilder||n,l&&(o[""]=cx.HTML),o.xml=o.xml||cx.XML,t&&typeof t=="string"?r.parse(t,o,u):r.errorHandler.error("invalid doc source"),n.doc};function R4(t,e,i){if(!t){if(e instanceof zu)return e;t=e}var r={},n=t instanceof Function;i=i||{};function s(a){var o=t[a];!o&&n&&(o=t.length==2?function(l){t(a,l)}:t),r[a]=o&&function(l){o("[xmldom "+a+"]	"+l+wv(i))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function zu(){this.cdata=!1}function ia(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}zu.prototype={startDocument:function(){this.doc=new D4().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,r){var n=this.doc,s=n.createElementNS(t,i||e),a=r.length;Lc(this,s),this.currentElement=s,this.locator&&ia(this.locator,s);for(var o=0;o<a;o++){var t=r.getURI(o),l=r.getValue(o),i=r.getQName(o),u=n.createAttributeNS(t,i);this.locator&&ia(r.getLocator(o),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(t,e,i){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var i=this.doc.createProcessingInstruction(t,e);this.locator&&ia(this.locator,i),Lc(this,i)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){if(t=dx.apply(this,arguments),t){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&ia(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=dx.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&ia(this.locator,r),Lc(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var r=this.doc.implementation;if(r&&r.createDocumentType){var n=r.createDocumentType(t,e,i);this.locator&&ia(this.locator,n),Lc(this,n),this.doc.doctype=n}},warning:function(t){console.warn("[xmldom warning]	"+t,wv(this.locator))},error:function(t){console.error("[xmldom error]	"+t,wv(this.locator))},fatalError:function(t){throw new M4(t,this.locator)}};function wv(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function dx(t,e,i){return typeof t=="string"?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){zu.prototype[t]=function(){return null}});function Lc(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Bu.__DOMHandler=zu;Bu.DOMParser=Sk;Bu.DOMImplementation=Y0.DOMImplementation;Bu.XMLSerializer=Y0.XMLSerializer;var F4=Bu.DOMParser;/*! @name mpd-parser @version 0.21.1 @license Apache-2.0 */var fx=function(e){return!!e&&typeof e=="object"},si=function t(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return i.reduce(function(n,s){return typeof s!="object"||Object.keys(s).forEach(function(a){Array.isArray(n[a])&&Array.isArray(s[a])?n[a]=n[a].concat(s[a]):fx(n[a])&&fx(s[a])?n[a]=t(n[a],s[a]):n[a]=s[a]}),n},{})},wk=function(e){return Object.keys(e).map(function(i){return e[i]})},N4=function(e,i){for(var r=[],n=e;n<i;n++)r.push(n);return r},ch=function(e){return e.reduce(function(i,r){return i.concat(r)},[])},Ek=function(e){if(!e.length)return[];for(var i=[],r=0;r<e.length;r++)i.push(e[r]);return i},U4=function(e,i){return e.reduce(function(r,n,s){return n[i]&&r.push(s),r},[])},Ev=function(e,i){for(var r=0;r<e.length;r++)if(i(e[r]))return r;return-1},B4=function(e,i){return wk(e.reduce(function(r,n){return n.forEach(function(s){r[i(s)]=s}),r},{}))},Ka={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},vu=function(e){var i=e.baseUrl,r=i===void 0?"":i,n=e.source,s=n===void 0?"":n,a=e.range,o=a===void 0?"":a,l=e.indexRange,u=l===void 0?"":l,c={uri:s,resolvedUri:oh(r||"",s)};if(o||u){var d=o||u,f=d.split("-"),p=M.BigInt?M.BigInt(f[0]):parseInt(f[0],10),g=M.BigInt?M.BigInt(f[1]):parseInt(f[1],10);p<Number.MAX_SAFE_INTEGER&&typeof p=="bigint"&&(p=Number(p)),g<Number.MAX_SAFE_INTEGER&&typeof g=="bigint"&&(g=Number(g));var b;typeof g=="bigint"||typeof p=="bigint"?b=M.BigInt(g)-M.BigInt(p)+M.BigInt(1):b=g-p+1,typeof b=="bigint"&&b<Number.MAX_SAFE_INTEGER&&(b=Number(b)),c.byterange={length:b,offset:p}}return c},z4=function(e){var i;return typeof e.offset=="bigint"||typeof e.length=="bigint"?i=M.BigInt(e.offset)+M.BigInt(e.length)-M.BigInt(1):i=e.offset+e.length-1,e.offset+"-"+i},hx=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},j4={static:function(e){var i=e.duration,r=e.timescale,n=r===void 0?1:r,s=e.sourceDuration,a=e.periodDuration,o=hx(e.endNumber),l=i/n;return typeof o=="number"?{start:0,end:o}:typeof a=="number"?{start:0,end:a/l}:{start:0,end:s/l}},dynamic:function(e){var i=e.NOW,r=e.clientOffset,n=e.availabilityStartTime,s=e.timescale,a=s===void 0?1:s,o=e.duration,l=e.periodStart,u=l===void 0?0:l,c=e.minimumUpdatePeriod,d=c===void 0?0:c,f=e.timeShiftBufferDepth,p=f===void 0?1/0:f,g=hx(e.endNumber),b=(i+r)/1e3,y=n+u,T=b+d,w=T-y,O=Math.ceil(w*a/o),P=Math.floor((b-y-p)*a/o),F=Math.floor((b-y)*a/o);return{start:Math.max(0,P),end:typeof g=="number"?g:Math.min(O,F)}}},V4=function(e){return function(i){var r=e.duration,n=e.timescale,s=n===void 0?1:n,a=e.periodStart,o=e.startNumber,l=o===void 0?1:o;return{number:l+i,duration:r/s,timeline:a,time:i*r}}},J0=function(e){var i=e.type,r=e.duration,n=e.timescale,s=n===void 0?1:n,a=e.periodDuration,o=e.sourceDuration,l=j4[i](e),u=l.start,c=l.end,d=N4(u,c).map(V4(e));if(i==="static"){var f=d.length-1,p=typeof a=="number"?a:o;d[f].duration=p-r/s*f}return d},Ck=function(e){var i=e.baseUrl,r=e.initialization,n=r===void 0?{}:r,s=e.sourceDuration,a=e.indexRange,o=a===void 0?"":a,l=e.periodStart,u=e.presentationTime,c=e.number,d=c===void 0?0:c,f=e.duration;if(!i)throw new Error(Ka.NO_BASE_URL);var p=vu({baseUrl:i,source:n.sourceURL,range:n.range}),g=vu({baseUrl:i,source:i,indexRange:o});if(g.map=p,f){var b=J0(e);b.length&&(g.duration=b[0].duration,g.timeline=b[0].timeline)}else s&&(g.duration=s,g.timeline=l);return g.presentationTime=u||l,g.number=d,[g]},Z0=function(e,i,r){var n=e.sidx.map?e.sidx.map:null,s=e.sidx.duration,a=e.timeline||0,o=e.sidx.byterange,l=o.offset+o.length,u=i.timescale,c=i.references.filter(function(k){return k.referenceType!==1}),d=[],f=e.endList?"static":"dynamic",p=e.sidx.timeline,g=p,b=e.mediaSequence||0,y;typeof i.firstOffset=="bigint"?y=M.BigInt(l)+i.firstOffset:y=l+i.firstOffset;for(var T=0;T<c.length;T++){var w=i.references[T],O=w.referencedSize,P=w.subsegmentDuration,F=void 0;typeof y=="bigint"?F=y+M.BigInt(O)-M.BigInt(1):F=y+O-1;var L=y+"-"+F,R={baseUrl:r,timescale:u,timeline:a,periodStart:p,presentationTime:g,number:b,duration:P,sourceDuration:s,indexRange:L,type:f},E=Ck(R)[0];n&&(E.map=n),d.push(E),typeof y=="bigint"?y+=M.BigInt(O):y+=O,g+=P/u,b++}return e.segments=d,e},H4=["AUDIO","SUBTITLES"],W4=1/60,kk=function(e){return B4(e,function(i){var r=i.timeline;return r}).sort(function(i,r){return i.timeline>r.timeline?1:-1})},q4=function(e,i){for(var r=0;r<e.length;r++)if(e[r].attributes.NAME===i)return e[r];return null},px=function(e){var i=[];return f4(e,H4,function(r,n,s,a){i=i.concat(r.playlists||[])}),i},mx=function(e){var i=e.playlist,r=e.mediaSequence;i.mediaSequence=r,i.segments.forEach(function(n,s){n.number=i.mediaSequence+s})},$4=function(e){var i=e.oldPlaylists,r=e.newPlaylists,n=e.timelineStarts;r.forEach(function(s){s.discontinuitySequence=Ev(n,function(c){var d=c.timeline;return d===s.timeline});var a=q4(i,s.attributes.NAME);if(!!a&&!s.sidx){var o=s.segments[0],l=Ev(a.segments,function(c){return Math.abs(c.presentationTime-o.presentationTime)<W4});if(l===-1){mx({playlist:s,mediaSequence:a.mediaSequence+a.segments.length}),s.segments[0].discontinuity=!0,s.discontinuityStarts.unshift(0),(!a.segments.length&&s.timeline>a.timeline||a.segments.length&&s.timeline>a.segments[a.segments.length-1].timeline)&&s.discontinuitySequence--;return}var u=a.segments[l];u.discontinuity&&!o.discontinuity&&(o.discontinuity=!0,s.discontinuityStarts.unshift(0),s.discontinuitySequence--),mx({playlist:s,mediaSequence:a.segments[l].number})}})},G4=function(e){var i=e.oldManifest,r=e.newManifest,n=i.playlists.concat(px(i)),s=r.playlists.concat(px(r));return r.timelineStarts=kk([i.timelineStarts,r.timelineStarts]),$4({oldPlaylists:n,newPlaylists:s,timelineStarts:r.timelineStarts}),r},dh=function(e){return e&&e.uri+"-"+z4(e.byterange)},Rp=function(e){var i=wk(e.reduce(function(r,n){var s=n.attributes.id+(n.attributes.lang||"");if(!r[s])r[s]=n,r[s].attributes.timelineStarts=[];else{if(n.segments){var a;n.segments[0]&&(n.segments[0].discontinuity=!0),(a=r[s].segments).push.apply(a,n.segments)}n.attributes.contentProtection&&(r[s].attributes.contentProtection=n.attributes.contentProtection)}return r[s].attributes.timelineStarts.push({start:n.attributes.periodStart,timeline:n.attributes.periodStart}),r},{}));return i.map(function(r){return r.discontinuityStarts=U4(r.segments||[],"discontinuity"),r})},ey=function(e,i){var r=dh(e.sidx),n=r&&i[r]&&i[r].sidx;return n&&Z0(e,n,e.sidx.resolvedUri),e},X4=function(e,i){if(i===void 0&&(i={}),!Object.keys(i).length)return e;for(var r in e)e[r]=ey(e[r],i);return e},K4=function(e,i){var r,n=e.attributes,s=e.segments,a=e.sidx,o=e.mediaSequence,l=e.discontinuitySequence,u=e.discontinuityStarts,c={attributes:(r={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},r["PROGRAM-ID"]=1,r),uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuitySequence:l,discontinuityStarts:u,timelineStarts:n.timelineStarts,mediaSequence:o,segments:s};return n.contentProtection&&(c.contentProtection=n.contentProtection),a&&(c.sidx=a),i&&(c.attributes.AUDIO="audio",c.attributes.SUBTITLES="subs"),c},Q4=function(e){var i,r=e.attributes,n=e.segments,s=e.mediaSequence,a=e.discontinuityStarts,o=e.discontinuitySequence;typeof n>"u"&&(n=[{uri:r.baseUrl,timeline:r.periodStart,resolvedUri:r.baseUrl||"",duration:r.sourceDuration,number:0}],r.duration=r.sourceDuration);var l=(i={NAME:r.id,BANDWIDTH:r.bandwidth},i["PROGRAM-ID"]=1,i);return r.codecs&&(l.CODECS=r.codecs),{attributes:l,uri:"",endList:r.type==="static",timeline:r.periodStart,resolvedUri:r.baseUrl||"",targetDuration:r.duration,timelineStarts:r.timelineStarts,discontinuityStarts:a,discontinuitySequence:o,mediaSequence:s,segments:n}},Y4=function(e,i,r){i===void 0&&(i={}),r===void 0&&(r=!1);var n,s=e.reduce(function(o,l){var u=l.attributes.role&&l.attributes.role.value||"",c=l.attributes.lang||"",d=l.attributes.label||"main";if(c&&!l.attributes.label){var f=u?" ("+u+")":"";d=""+l.attributes.lang+f}o[d]||(o[d]={language:c,autoselect:!0,default:u==="main",playlists:[],uri:""});var p=ey(K4(l,r),i);return o[d].playlists.push(p),typeof n>"u"&&u==="main"&&(n=l,n.default=!0),o},{});if(!n){var a=Object.keys(s)[0];s[a].default=!0}return s},J4=function(e,i){return i===void 0&&(i={}),e.reduce(function(r,n){var s=n.attributes.lang||"text";return r[s]||(r[s]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),r[s].playlists.push(ey(Q4(n),i)),r},{})},Z4=function(e){return e.reduce(function(i,r){return r&&r.forEach(function(n){var s=n.channel,a=n.language;i[a]={autoselect:!1,default:!1,instreamId:s,language:a},n.hasOwnProperty("aspectRatio")&&(i[a].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(i[a].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(i[a]["3D"]=n["3D"])}),i},{})},e8=function(e){var i,r=e.attributes,n=e.segments,s=e.sidx,a=e.discontinuityStarts,o={attributes:(i={NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:r.type==="static",timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuityStarts:a,timelineStarts:r.timelineStarts,segments:n};return r.contentProtection&&(o.contentProtection=r.contentProtection),s&&(o.sidx=s),o},t8=function(e){var i=e.attributes;return i.mimeType==="video/mp4"||i.mimeType==="video/webm"||i.contentType==="video"},i8=function(e){var i=e.attributes;return i.mimeType==="audio/mp4"||i.mimeType==="audio/webm"||i.contentType==="audio"},n8=function(e){var i=e.attributes;return i.mimeType==="text/vtt"||i.contentType==="text"},r8=function(e,i){e.forEach(function(r){r.mediaSequence=0,r.discontinuitySequence=Ev(i,function(n){var s=n.timeline;return s===r.timeline}),r.segments&&r.segments.forEach(function(n,s){n.number=s})})},vx=function(e){return e?Object.keys(e).reduce(function(i,r){var n=e[r];return i.concat(n.playlists)},[]):[]},s8=function(e){var i,r=e.dashPlaylists,n=e.locations,s=e.sidxMapping,a=s===void 0?{}:s,o=e.previousManifest;if(!r.length)return{};var l=r[0].attributes,u=l.sourceDuration,c=l.type,d=l.suggestedPresentationDelay,f=l.minimumUpdatePeriod,p=Rp(r.filter(t8)).map(e8),g=Rp(r.filter(i8)),b=Rp(r.filter(n8)),y=r.map(function(R){return R.attributes.captionServices}).filter(Boolean),T={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(i={AUDIO:{},VIDEO:{}},i["CLOSED-CAPTIONS"]={},i.SUBTITLES={},i),uri:"",duration:u,playlists:X4(p,a)};f>=0&&(T.minimumUpdatePeriod=f*1e3),n&&(T.locations=n),c==="dynamic"&&(T.suggestedPresentationDelay=d);var w=T.playlists.length===0,O=g.length?Y4(g,a,w):null,P=b.length?J4(b,a):null,F=p.concat(vx(O),vx(P)),L=F.map(function(R){var E=R.timelineStarts;return E});return T.timelineStarts=kk(L),r8(F,T.timelineStarts),O&&(T.mediaGroups.AUDIO.audio=O),P&&(T.mediaGroups.SUBTITLES.subs=P),y.length&&(T.mediaGroups["CLOSED-CAPTIONS"].cc=Z4(y)),o?G4({oldManifest:o,newManifest:T}):T},a8=function(e,i,r){var n=e.NOW,s=e.clientOffset,a=e.availabilityStartTime,o=e.timescale,l=o===void 0?1:o,u=e.periodStart,c=u===void 0?0:u,d=e.minimumUpdatePeriod,f=d===void 0?0:d,p=(n+s)/1e3,g=a+c,b=p+f,y=b-g;return Math.ceil((y*l-i)/r)},Pk=function(e,i){for(var r=e.type,n=e.minimumUpdatePeriod,s=n===void 0?0:n,a=e.media,o=a===void 0?"":a,l=e.sourceDuration,u=e.timescale,c=u===void 0?1:u,d=e.startNumber,f=d===void 0?1:d,p=e.periodStart,g=[],b=-1,y=0;y<i.length;y++){var T=i[y],w=T.d,O=T.r||0,P=T.t||0;b<0&&(b=P),P&&P>b&&(b=P);var F=void 0;if(O<0){var L=y+1;L===i.length?r==="dynamic"&&s>0&&o.indexOf("$Number$")>0?F=a8(e,b,w):F=(l*c-b)/w:F=(i[L].t-b)/w}else F=O+1;for(var R=f+g.length+F,E=f+g.length;E<R;)g.push({number:E,duration:w/c,time:b,timeline:p}),b+=w,E++}return g},o8=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,l8=function(e){return function(i,r,n,s){if(i==="$$")return"$";if(typeof e[r]>"u")return i;var a=""+e[r];return r==="RepresentationID"||(n?s=parseInt(s,10):s=1,a.length>=s)?a:""+new Array(s-a.length+1).join("0")+a}},gx=function(e,i){return e.replace(o8,l8(i))},u8=function(e,i){return!e.duration&&!i?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?J0(e):Pk(e,i)},c8=function(e,i){var r={RepresentationID:e.id,Bandwidth:e.bandwidth||0},n=e.initialization,s=n===void 0?{sourceURL:"",range:""}:n,a=vu({baseUrl:e.baseUrl,source:gx(s.sourceURL,r),range:s.range}),o=u8(e,i);return o.map(function(l){r.Number=l.number,r.Time=l.time;var u=gx(e.media||"",r),c=e.timescale||1,d=e.presentationTimeOffset||0,f=e.periodStart+(l.time-d)/c,p={uri:u,timeline:l.timeline,duration:l.duration,resolvedUri:oh(e.baseUrl||"",u),map:a,number:l.number,presentationTime:f};return p})},d8=function(e,i){var r=e.baseUrl,n=e.initialization,s=n===void 0?{}:n,a=vu({baseUrl:r,source:s.sourceURL,range:s.range}),o=vu({baseUrl:r,source:i.media,range:i.mediaRange});return o.map=a,o},f8=function(e,i){var r=e.duration,n=e.segmentUrls,s=n===void 0?[]:n,a=e.periodStart;if(!r&&!i||r&&i)throw new Error(Ka.SEGMENT_TIME_UNSPECIFIED);var o=s.map(function(c){return d8(e,c)}),l;r&&(l=J0(e)),i&&(l=Pk(e,i));var u=l.map(function(c,d){if(o[d]){var f=o[d],p=e.timescale||1,g=e.presentationTimeOffset||0;return f.timeline=c.timeline,f.duration=c.duration,f.number=c.number,f.presentationTime=a+(c.time-g)/p,f}}).filter(function(c){return c});return u},h8=function(e){var i=e.attributes,r=e.segmentInfo,n,s;r.template?(s=c8,n=si(i,r.template)):r.base?(s=Ck,n=si(i,r.base)):r.list&&(s=f8,n=si(i,r.list));var a={attributes:i};if(!s)return a;var o=s(n,r.segmentTimeline);if(n.duration){var l=n,u=l.duration,c=l.timescale,d=c===void 0?1:c;n.duration=u/d}else o.length?n.duration=o.reduce(function(f,p){return Math.max(f,Math.ceil(p.duration))},0):n.duration=0;return a.attributes=n,a.segments=o,r.base&&n.indexRange&&(a.sidx=o[0],a.segments=[]),a},p8=function(e){return e.map(h8)},dt=function(e,i){return Ek(e.childNodes).filter(function(r){var n=r.tagName;return n===i})},ty=function(e){return e.textContent.trim()},na=function(e){var i=31536e3,r=30*24*60*60,n=24*60*60,s=60*60,a=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=o.exec(e);if(!l)return 0;var u=l.slice(1),c=u[0],d=u[1],f=u[2],p=u[3],g=u[4],b=u[5];return parseFloat(c||0)*i+parseFloat(d||0)*r+parseFloat(f||0)*n+parseFloat(p||0)*s+parseFloat(g||0)*a+parseFloat(b||0)},m8=function(e){var i=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return i.test(e)&&(e+="Z"),Date.parse(e)},yx={mediaPresentationDuration:function(e){return na(e)},availabilityStartTime:function(e){return m8(e)/1e3},minimumUpdatePeriod:function(e){return na(e)},suggestedPresentationDelay:function(e){return na(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return na(e)},start:function(e){return na(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var i=parseInt(e,10);return isNaN(i)?na(e):i},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},Ht=function(e){return e&&e.attributes?Ek(e.attributes).reduce(function(i,r){var n=yx[r.name]||yx.DEFAULT;return i[r.name]=n(r.value),i},{}):{}},v8={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},fh=function(e,i){return i.length?ch(e.map(function(r){return i.map(function(n){return oh(r,ty(n))})})):e},iy=function(e){var i=dt(e,"SegmentTemplate")[0],r=dt(e,"SegmentList")[0],n=r&&dt(r,"SegmentURL").map(function(f){return si({tag:"SegmentURL"},Ht(f))}),s=dt(e,"SegmentBase")[0],a=r||i,o=a&&dt(a,"SegmentTimeline")[0],l=r||s||i,u=l&&dt(l,"Initialization")[0],c=i&&Ht(i);c&&u?c.initialization=u&&Ht(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var d={template:c,segmentTimeline:o&&dt(o,"S").map(function(f){return Ht(f)}),list:r&&si(Ht(r),{segmentUrls:n,initialization:Ht(u)}),base:s&&si(Ht(s),{initialization:Ht(u)})};return Object.keys(d).forEach(function(f){d[f]||delete d[f]}),d},g8=function(e,i,r){return function(n){var s=dt(n,"BaseURL"),a=fh(i,s),o=si(e,Ht(n)),l=iy(n);return a.map(function(u){return{segmentInfo:si(r,l),attributes:si(o,{baseUrl:u})}})}},y8=function(e){return e.reduce(function(i,r){var n=Ht(r);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());var s=v8[n.schemeIdUri];if(s){i[s]={attributes:n};var a=dt(r,"cenc:pssh")[0];if(a){var o=ty(a);i[s].pssh=o&&$C(o)}}return i},{})},_8=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(n){var s,a;if(a=n,/^CC\d=/.test(n)){var o=n.split("=");s=o[0],a=o[1]}else/^CC\d$/.test(n)&&(s=n);return{channel:s,language:a}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var r=typeof e.value!="string"?[]:e.value.split(";");return r.map(function(n){var s={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){var a=n.split("="),o=a[0],l=a[1],u=l===void 0?"":l;s.channel=o,s.language=n,u.split(",").forEach(function(c){var d=c.split(":"),f=d[0],p=d[1];f==="lang"?s.language=p:f==="er"?s.easyReader=Number(p):f==="war"?s.aspectRatio=Number(p):f==="3D"&&(s["3D"]=Number(p))})}else s.language=n;return s.channel&&(s.channel="SERVICE"+s.channel),s})}},b8=function(e,i,r){return function(n){var s=Ht(n),a=fh(i,dt(n,"BaseURL")),o=dt(n,"Role")[0],l={role:Ht(o)},u=si(e,s,l),c=dt(n,"Accessibility")[0],d=_8(Ht(c));d&&(u=si(u,{captionServices:d}));var f=dt(n,"Label")[0];if(f&&f.childNodes.length){var p=f.childNodes[0].nodeValue.trim();u=si(u,{label:p})}var g=y8(dt(n,"ContentProtection"));Object.keys(g).length&&(u=si(u,{contentProtection:g}));var b=iy(n),y=dt(n,"Representation"),T=si(r,b);return ch(y.map(g8(u,a,T)))}},T8=function(e,i){return function(r,n){var s=fh(i,dt(r.node,"BaseURL")),a=si(e,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(a.periodDuration=r.attributes.duration);var o=dt(r.node,"AdaptationSet"),l=iy(r.node);return ch(o.map(b8(a,s,l)))}},x8=function(e){var i=e.attributes,r=e.priorPeriodAttributes,n=e.mpdType;return typeof i.start=="number"?i.start:r&&typeof r.start=="number"&&typeof r.duration=="number"?r.start+r.duration:!r&&n==="static"?0:null},S8=function(e,i){i===void 0&&(i={});var r=i,n=r.manifestUri,s=n===void 0?"":n,a=r.NOW,o=a===void 0?Date.now():a,l=r.clientOffset,u=l===void 0?0:l,c=dt(e,"Period");if(!c.length)throw new Error(Ka.INVALID_NUMBER_OF_PERIOD);var d=dt(e,"Location"),f=Ht(e),p=fh([s],dt(e,"BaseURL"));f.type=f.type||"static",f.sourceDuration=f.mediaPresentationDuration||0,f.NOW=o,f.clientOffset=u,d.length&&(f.locations=d.map(ty));var g=[];return c.forEach(function(b,y){var T=Ht(b),w=g[y-1];T.start=x8({attributes:T,priorPeriodAttributes:w?w.attributes:null,mpdType:f.type}),g.push({node:b,attributes:T})}),{locations:f.locations,representationInfo:ch(g.map(T8(f,p)))}},Ok=function(e){if(e==="")throw new Error(Ka.DASH_EMPTY_MANIFEST);var i=new F4,r,n;try{r=i.parseFromString(e,"application/xml"),n=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(Ka.DASH_INVALID_XML);return n},w8=function(e){var i=dt(e,"UTCTiming")[0];if(!i)return null;var r=Ht(i);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Ka.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},E8=function(e,i){i===void 0&&(i={});var r=S8(Ok(e),i),n=p8(r.representationInfo);return s8({dashPlaylists:n,locations:r.locations,sidxMapping:i.sidxMapping,previousManifest:i.previousManifest})},C8=function(e){return w8(Ok(e))},Ak=Math.pow(2,32),k8=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i;return e.getBigUint64?(i=e.getBigUint64(0),i<Number.MAX_SAFE_INTEGER?Number(i):i):e.getUint32(0)*Ak+e.getUint32(4)},P8={getUint64:k8,MAX_UINT32:Ak},_x=P8.getUint64,O8=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},r=12;i.version===0?(i.earliestPresentationTime=e.getUint32(r),i.firstOffset=e.getUint32(r+4),r+=8):(i.earliestPresentationTime=_x(t.subarray(r)),i.firstOffset=_x(t.subarray(r+8)),r+=16),r+=2;var n=e.getUint16(r);for(r+=2;n>0;r+=12,n--)i.references.push({referenceType:(t[r]&128)>>>7,referencedSize:e.getUint32(r)&2147483647,subsegmentDuration:e.getUint32(r+4),startsWithSap:!!(t[r+8]&128),sapType:(t[r+8]&112)>>>4,sapDeltaTime:e.getUint32(r+8)&268435455});return i},A8=O8,I8=Te([73,68,51]),D8=function(e,i){i===void 0&&(i=0),e=Te(e);var r=e[i+5],n=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],s=(r&16)>>4;return s?n+20:n+10},vl=function t(e,i){return i===void 0&&(i=0),e=Te(e),e.length-i<10||!it(e,I8,{offset:i})?i:(i+=D8(e,i),t(e,i))},bx=function(e){return typeof e=="string"?YC(e):e},M8=function(e){return Array.isArray(e)?e.map(function(i){return bx(i)}):[bx(e)]},L8=function t(e,i,r){r===void 0&&(r=!1),i=M8(i),e=Te(e);var n=[];if(!i.length)return n;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>e.length){if(r)break;l=e.length}var u=e.subarray(s+8,l);it(o,i[0])&&(i.length===1?n.push(u):n.push.apply(n,t(u,i.slice(1),r))),s=l}return n},Rc={EBML:Te([26,69,223,163]),DocType:Te([66,130]),Segment:Te([24,83,128,103]),SegmentInfo:Te([21,73,169,102]),Tracks:Te([22,84,174,107]),Track:Te([174]),TrackNumber:Te([215]),DefaultDuration:Te([35,227,131]),TrackEntry:Te([174]),TrackType:Te([131]),FlagDefault:Te([136]),CodecID:Te([134]),CodecPrivate:Te([99,162]),VideoTrack:Te([224]),AudioTrack:Te([225]),Cluster:Te([31,67,182,117]),Timestamp:Te([231]),TimestampScale:Te([42,215,177]),BlockGroup:Te([160]),BlockDuration:Te([155]),Block:Te([161]),SimpleBlock:Te([163])},Cv=[128,64,32,16,8,4,2,1],R8=function(e){for(var i=1,r=0;r<Cv.length&&!(e&Cv[r]);r++)i++;return i},af=function(e,i,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1);var s=R8(e[i]),a=e.subarray(i,i+s);return r&&(a=Array.prototype.slice.call(e,i,i+s),a[0]^=Cv[s-1]),{length:s,value:u4(a,{signed:n}),bytes:a}},Tx=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return t(i)}):typeof e=="number"?c4(e):e},F8=function(e){return Array.isArray(e)?e.map(function(i){return Tx(i)}):[Tx(e)]},N8=function t(e,i,r){if(r>=i.length)return i.length;var n=af(i,r,!1);if(it(e.bytes,n.bytes))return r;var s=af(i,r+n.length);return t(e,i,r+s.length+s.value+n.length)},xx=function t(e,i){i=F8(i),e=Te(e);var r=[];if(!i.length)return r;for(var n=0;n<e.length;){var s=af(e,n,!1),a=af(e,n+s.length),o=n+s.length+a.length;a.value===127&&(a.value=N8(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,u=e.subarray(o,l);it(i[0],s.bytes)&&(i.length===1?r.push(u):r=r.concat(t(u,i.slice(1))));var c=s.length+a.length+u.length;n+=c}return r},U8=Te([0,0,0,1]),B8=Te([0,0,1]),z8=Te([0,0,3]),j8=function(e){for(var i=[],r=1;r<e.length-2;)it(e.subarray(r,r+3),z8)&&(i.push(r+2),r++),r++;if(i.length===0)return e;var n=e.length-i.length,s=new Uint8Array(n),a=0;for(r=0;r<n;a++,r++)a===i[0]&&(a++,i.shift()),s[r]=e[a];return s},Ik=function(e,i,r,n){n===void 0&&(n=1/0),e=Te(e),r=[].concat(r);for(var s=0,a,o=0;s<e.length&&(o<n||a);){var l=void 0;if(it(e.subarray(s),U8)?l=4:it(e.subarray(s),B8)&&(l=3),!l){s++;continue}if(o++,a)return j8(e.subarray(a,s));var u=void 0;i==="h264"?u=e[s+l]&31:i==="h265"&&(u=e[s+l]>>1&63),r.indexOf(u)!==-1&&(a=s+l),s+=l+(i==="h264"?1:2)}return e.subarray(0,0)},V8=function(e,i,r){return Ik(e,"h264",i,r)},H8=function(e,i,r){return Ik(e,"h265",i,r)},ti={webm:Te([119,101,98,109]),matroska:Te([109,97,116,114,111,115,107,97]),flac:Te([102,76,97,67]),ogg:Te([79,103,103,83]),ac3:Te([11,119]),riff:Te([82,73,70,70]),avi:Te([65,86,73]),wav:Te([87,65,86,69]),"3gp":Te([102,116,121,112,51,103]),mp4:Te([102,116,121,112]),fmp4:Te([115,116,121,112]),mov:Te([102,116,121,112,113,116]),moov:Te([109,111,111,118]),moof:Te([109,111,111,102])},Qa={aac:function(e){var i=vl(e);return it(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=vl(e);return it(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=xx(e,[Rc.EBML,Rc.DocType])[0];return it(i,ti.webm)},mkv:function(e){var i=xx(e,[Rc.EBML,Rc.DocType])[0];return it(i,ti.matroska)},mp4:function(e){if(Qa["3gp"](e)||Qa.mov(e))return!1;if(it(e,ti.mp4,{offset:4})||it(e,ti.fmp4,{offset:4})||it(e,ti.moof,{offset:4})||it(e,ti.moov,{offset:4}))return!0},mov:function(e){return it(e,ti.mov,{offset:4})},"3gp":function(e){return it(e,ti["3gp"],{offset:4})},ac3:function(e){var i=vl(e);return it(e,ti.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=vl(e);return it(e,ti.flac,{offset:i})},ogg:function(e){return it(e,ti.ogg)},avi:function(e){return it(e,ti.riff)&&it(e,ti.avi,{offset:8})},wav:function(e){return it(e,ti.riff)&&it(e,ti.wav,{offset:8})},h264:function(e){return V8(e,7,3).length},h265:function(e){return H8(e,[32,33],3).length}},kv=Object.keys(Qa).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);kv.forEach(function(t){var e=Qa[t];Qa[t]=function(i){return e(Te(i))}});var W8=Qa,ny=function(e){e=Te(e);for(var i=0;i<kv.length;i++){var r=kv[i];if(W8[r](e))return r}return""},q8=function(e){return L8(e,["moof"]).length>0},ry=9e4,sy,ay,hh,oy,Dk,Mk,Lk;sy=function(t){return t*ry};ay=function(t,e){return t*e};hh=function(t){return t/ry};oy=function(t,e){return t/e};Dk=function(t,e){return sy(oy(t,e))};Mk=function(t,e){return ay(hh(t),e)};Lk=function(t,e,i){return hh(i?t:t-e)};var of={ONE_SECOND_IN_TS:ry,secondsToVideoTs:sy,secondsToAudioTs:ay,videoTsToSeconds:hh,audioTsToSeconds:oy,audioTsToVideoTs:Dk,videoTsToAudioTs:Mk,metadataTsToSeconds:Lk};/**
 * @license
 * Video.js 7.19.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Rk="7.19.2",Qn={},Xr=function(e,i){return Qn[e]=Qn[e]||[],i&&(Qn[e]=Qn[e].concat(i)),Qn[e]},$8=function(e,i){Xr(e,i)},Fk=function(e,i){var r=Xr(e).indexOf(i);return r<=-1?!1:(Qn[e]=Qn[e].slice(),Qn[e].splice(r,1),!0)},G8=function(e,i){Xr(e,[].concat(i).map(function(r){var n=function s(){return Fk(e,s),r.apply(void 0,arguments)};return n}))},lf={prefixed:!0},vd=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Sx=vd[0],gl;for(var Fc=0;Fc<vd.length;Fc++)if(vd[Fc][1]in se){gl=vd[Fc];break}if(gl){for(var Nc=0;Nc<gl.length;Nc++)lf[Sx[Nc]]=gl[Nc];lf.prefixed=gl[0]!==Sx[0]}var yi=[],X8=function(e,i){return function(r,n,s){var a=i.levels[n],o=new RegExp("^("+a+")$");if(r!=="log"&&s.unshift(r.toUpperCase()+":"),s.unshift(e+":"),yi){yi.push([].concat(s));var l=yi.length-1e3;yi.splice(0,l>0?l:0)}if(!!M.console){var u=M.console[r];!u&&r==="debug"&&(u=M.console.info||M.console.log),!(!u||!a||!o.test(r))&&u[Array.isArray(s)?"apply":"call"](M.console,s)}}};function Nk(t){var e="info",i,r=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];i("log",e,a)};return i=X8(t,r),r.createLogger=function(n){return Nk(t+": "+n)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},r.level=function(n){if(typeof n=="string"){if(!r.levels.hasOwnProperty(n))throw new Error('"'+n+'" in not a valid log level');e=n}return e},r.history=function(){return yi?[].concat(yi):[]},r.history.filter=function(n){return(yi||[]).filter(function(s){return new RegExp(".*"+n+".*").test(s[0])})},r.history.clear=function(){yi&&(yi.length=0)},r.history.disable=function(){yi!==null&&(yi.length=0,yi=null)},r.history.enable=function(){yi===null&&(yi=[])},r.error=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i("error",e,s)},r.warn=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i("warn",e,s)},r.debug=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i("debug",e,s)},r}var Re=Nk("VIDEOJS"),Uk=Re.createLogger,K8=Object.prototype.toString,Bk=function(e){return dr(e)?Object.keys(e):[]};function La(t,e){Bk(t).forEach(function(i){return e(t[i],i)})}function Q8(t,e,i){return i===void 0&&(i=0),Bk(t).reduce(function(r,n){return e(r,t[n],n)},i)}function at(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return Object.assign?nn.apply(void 0,[t].concat(i)):(i.forEach(function(n){!n||La(n,function(s,a){t[a]=s})}),t)}function dr(t){return!!t&&typeof t=="object"}function gu(t){return dr(t)&&K8.call(t)==="[object Object]"&&t.constructor===Object}function yu(t,e){if(!t||!e)return"";if(typeof M.getComputedStyle=="function"){var i;try{i=M.getComputedStyle(t)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}var wt=M.navigator&&M.navigator.userAgent||"",wx=/AppleWebKit\/([\d.]+)/i.exec(wt),Y8=wx?parseFloat(wx.pop()):null,zk=/iPod/i.test(wt),J8=function(){var t=wt.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),pr=/Android/i.test(wt),ly=function(){var t=wt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),jk=pr&&ly<5&&Y8<537,Vk=/Firefox/i.test(wt),ju=/Edg/i.test(wt),mr=!ju&&(/Chrome/i.test(wt)||/CriOS/i.test(wt)),Hk=function(){var t=wt.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),Vu=function(){var t=/MSIE\s(\d+)\.\d/.exec(wt),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(wt)&&/rv:11.0/.test(wt)&&(e=11),e}(),uy=/Safari/i.test(wt)&&!mr&&!pr&&!ju,Wk=/Windows/i.test(wt),Ya=Boolean(vo()&&("ontouchstart"in M||M.navigator.maxTouchPoints||M.DocumentTouch&&M.document instanceof M.DocumentTouch)),cy=/iPad/i.test(wt)||uy&&Ya&&!/iPhone/i.test(wt),dy=/iPhone/i.test(wt)&&!cy,di=dy||cy||zk,ph=(uy||di)&&!mr,Z8=Object.freeze({__proto__:null,IS_IPOD:zk,IOS_VERSION:J8,IS_ANDROID:pr,ANDROID_VERSION:ly,IS_NATIVE_ANDROID:jk,IS_FIREFOX:Vk,IS_EDGE:ju,IS_CHROME:mr,CHROME_VERSION:Hk,IE_VERSION:Vu,IS_SAFARI:uy,IS_WINDOWS:Wk,TOUCH_ENABLED:Ya,IS_IPAD:cy,IS_IPHONE:dy,IS_IOS:di,IS_ANY_SAFARI:ph});function Ex(t){return typeof t=="string"&&Boolean(t.trim())}function qk(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function ez(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function vo(){return se===M.document}function go(t){return dr(t)&&t.nodeType===1}function $k(){try{return M.parent!==M.self}catch{return!0}}function Gk(t){return function(e,i){if(!Ex(e))return se[t](null);Ex(i)&&(i=se.querySelector(i));var r=go(i)?i:se;return r[t]&&r[t](e)}}function Be(t,e,i,r){t===void 0&&(t="div"),e===void 0&&(e={}),i===void 0&&(i={});var n=se.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){var a=e[s];s.indexOf("aria-")!==-1||s==="role"||s==="type"?(Re.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+s+" to "+a+".")),n.setAttribute(s,a)):s==="textContent"?$s(n,a):(n[s]!==a||s==="tabIndex")&&(n[s]=a)}),Object.getOwnPropertyNames(i).forEach(function(s){n.setAttribute(s,i[s])}),r&&hy(n,r),n}function $s(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Pv(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ws(t,e){return qk(e),t.classList?t.classList.contains(e):ez(e).test(t.className)}function rr(t,e){return t.classList?t.classList.add(e):ws(t,e)||(t.className=(t.className+" "+e).trim()),t}function Hu(t,e){return t?(t.classList?t.classList.remove(e):(qk(e),t.className=t.className.split(/\s+/).filter(function(i){return i!==e}).join(" ")),t):(Re.warn("removeClass was called with an element that doesn't exist"),null)}function Xk(t,e,i){var r=ws(t,e);if(typeof i=="function"&&(i=i(t,e)),typeof i!="boolean"&&(i=!r),i!==r)return i?rr(t,e):Hu(t,e),t}function Kk(t,e){Object.getOwnPropertyNames(e).forEach(function(i){var r=e[i];r===null||typeof r>"u"||r===!1?t.removeAttribute(i):t.setAttribute(i,r===!0?"":r)})}function Gn(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var r=t.attributes,n=r.length-1;n>=0;n--){var s=r[n].name,a=r[n].value;(typeof t[s]=="boolean"||i.indexOf(","+s+",")!==-1)&&(a=a!==null),e[s]=a}return e}function Qk(t,e){return t.getAttribute(e)}function Ja(t,e,i){t.setAttribute(e,i)}function mh(t,e){t.removeAttribute(e)}function Yk(){se.body.focus(),se.onselectstart=function(){return!1}}function Jk(){se.onselectstart=function(){return!0}}function Za(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(r){e[r]!==void 0&&(i[r]=e[r])}),i.height||(i.height=parseFloat(yu(t,"height"))),i.width||(i.width=parseFloat(yu(t,"width"))),i}}function _u(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,i=t.offsetHeight,r=0,n=0;t.offsetParent&&t!==se[lf.fullscreenElement];)r+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:r,top:n,width:e,height:i}}function vh(t,e){var i={x:0,y:0};if(di)for(var r=t;r&&r.nodeName.toLowerCase()!=="html";){var n=yu(r,"transform");if(/^matrix/.test(n)){var s=n.slice(7,-1).split(/,\s/).map(Number);i.x+=s[4],i.y+=s[5]}else if(/^matrix3d/.test(n)){var a=n.slice(9,-1).split(/,\s/).map(Number);i.x+=a[12],i.y+=a[13]}r=r.parentNode}var o={},l=_u(e.target),u=_u(t),c=u.width,d=u.height,f=e.offsetY-(u.top-l.top),p=e.offsetX-(u.left-l.left);return e.changedTouches&&(p=e.changedTouches[0].pageX-u.left,f=e.changedTouches[0].pageY+u.top,di&&(p-=i.x,f-=i.y)),o.y=1-Math.max(0,Math.min(1,f/d)),o.x=Math.max(0,Math.min(1,p/c)),o}function Zk(t){return dr(t)&&t.nodeType===3}function fy(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function eP(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(function(e){if(typeof e=="function"&&(e=e()),go(e)||Zk(e))return e;if(typeof e=="string"&&/\S/.test(e))return se.createTextNode(e)}).filter(function(e){return e})}function hy(t,e){return eP(e).forEach(function(i){return t.appendChild(i)}),t}function tP(t,e){return hy(fy(t),e)}function bu(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}var Kr=Gk("querySelector"),iP=Gk("querySelectorAll"),nP=Object.freeze({__proto__:null,isReal:vo,isEl:go,isInFrame:$k,createEl:Be,textContent:$s,prependTo:Pv,hasClass:ws,addClass:rr,removeClass:Hu,toggleClass:Xk,setAttributes:Kk,getAttributes:Gn,getAttribute:Qk,setAttribute:Ja,removeAttribute:mh,blockTextSelection:Yk,unblockTextSelection:Jk,getBoundingClientRect:Za,findPosition:_u,getPointerPosition:vh,isTextNode:Zk,emptyEl:fy,normalizeContent:eP,appendContent:hy,insertContent:tP,isSingleLeftClick:bu,$:Kr,$$:iP}),rP=!1,Ov,tz=function(){if(Ov.options.autoSetup!==!1){var e=Array.prototype.slice.call(se.getElementsByTagName("video")),i=Array.prototype.slice.call(se.getElementsByTagName("audio")),r=Array.prototype.slice.call(se.getElementsByTagName("video-js")),n=e.concat(i,r);if(n&&n.length>0)for(var s=0,a=n.length;s<a;s++){var o=n[s];if(o&&o.getAttribute){if(o.player===void 0){var l=o.getAttribute("data-setup");l!==null&&Ov(o)}}else{Av(1);break}}else rP||Av(1)}};function Av(t,e){!vo()||(e&&(Ov=e),M.setTimeout(tz,t))}function Iv(){rP=!0,M.removeEventListener("load",Iv)}vo()&&(se.readyState==="complete"?Iv():M.addEventListener("load",Iv));var sP=function(e){var i=se.createElement("style");return i.className=e,i},aP=function(e,i){e.styleSheet?e.styleSheet.cssText=i:e.textContent=i},iz=3,nz=iz;function vr(){return nz++}var oP;M.WeakMap||(oP=function(){function t(){this.vdata="vdata"+Math.floor(M.performance&&M.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(r,n){var s=r[this.vdata]||vr();return r[this.vdata]||(r[this.vdata]=s),this.data[s]=n,this},e.get=function(r){var n=r[this.vdata];if(n)return this.data[n];Re("We have no data for this element",r)},e.has=function(r){var n=r[this.vdata];return n in this.data},e.delete=function(r){var n=r[this.vdata];n&&(delete this.data[n],delete r[this.vdata])},t}());var ai=M.WeakMap?new WeakMap:new oP;function Cx(t,e){if(!!ai.has(t)){var i=ai.get(t);i.handlers[e].length===0&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&ai.delete(t)}}function py(t,e,i,r){i.forEach(function(n){t(e,n,r)})}function gh(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var r=t||M.event;t={};for(var n in r)n!=="layerX"&&n!=="layerY"&&n!=="keyLocation"&&n!=="webkitMovementX"&&n!=="webkitMovementY"&&(n==="returnValue"&&r.preventDefault||(t[n]=r[n]));if(t.target||(t.target=t.srcElement||se),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,t.clientX!==null&&t.clientX!==void 0){var s=se.documentElement,a=se.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}var Uc,rz=function(){if(typeof Uc!="boolean"){Uc=!1;try{var e=Object.defineProperty({},"passive",{get:function(){Uc=!0}});M.addEventListener("test",null,e),M.removeEventListener("test",null,e)}catch{}}return Uc},sz=["touchstart","touchmove"];function zi(t,e,i){if(Array.isArray(e))return py(zi,t,e,i);ai.has(t)||ai.set(t,{});var r=ai.get(t);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),i.guid||(i.guid=vr()),r.handlers[e].push(i),r.dispatcher||(r.disabled=!1,r.dispatcher=function(s,a){if(!r.disabled){s=gh(s);var o=r.handlers[s.type];if(o)for(var l=o.slice(0),u=0,c=l.length;u<c&&!s.isImmediatePropagationStopped();u++)try{l[u].call(t,s,a)}catch(d){Re.error(d)}}}),r.handlers[e].length===1)if(t.addEventListener){var n=!1;rz()&&sz.indexOf(e)>-1&&(n={passive:!0}),t.addEventListener(e,r.dispatcher,n)}else t.attachEvent&&t.attachEvent("on"+e,r.dispatcher)}function Xt(t,e,i){if(!!ai.has(t)){var r=ai.get(t);if(!!r.handlers){if(Array.isArray(e))return py(Xt,t,e,i);var n=function(u,c){r.handlers[c]=[],Cx(u,c)};if(e===void 0){for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&n(t,s);return}var a=r.handlers[e];if(!!a){if(!i){n(t,e);return}if(i.guid)for(var o=0;o<a.length;o++)a[o].guid===i.guid&&a.splice(o--,1);Cx(t,e)}}}}function yo(t,e,i){var r=ai.has(t)?ai.get(t):{},n=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=gh(e),r.dispatcher&&r.dispatcher.call(t,e,i),n&&!e.isPropagationStopped()&&e.bubbles===!0)yo.call(null,n,e,i);else if(!n&&!e.defaultPrevented&&e.target&&e.target[e.type]){ai.has(e.target)||ai.set(e.target,{});var s=ai.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function yh(t,e,i){if(Array.isArray(e))return py(yh,t,e,i);var r=function n(){Xt(t,e,n),i.apply(this,arguments)};r.guid=i.guid=i.guid||vr(),zi(t,e,r)}function lP(t,e,i){var r=function n(){Xt(t,e,n),i.apply(this,arguments)};r.guid=i.guid=i.guid||vr(),zi(t,e,r)}var az=Object.freeze({__proto__:null,fixEvent:gh,on:zi,off:Xt,trigger:yo,one:yh,any:lP}),bn=30,et=function(e,i,r){i.guid||(i.guid=vr());var n=i.bind(e);return n.guid=r?r+"_"+i.guid:i.guid,n},fr=function(e,i){var r=M.performance.now(),n=function(){var a=M.performance.now();a-r>=i&&(e.apply(void 0,arguments),r=a)};return n},oz=function(e,i,r,n){n===void 0&&(n=M);var s,a=function(){n.clearTimeout(s),s=null},o=function(){var u=this,c=arguments,d=function(){s=null,d=null,r||e.apply(u,c)};!s&&r&&e.apply(u,c),n.clearTimeout(s),s=n.setTimeout(d,i)};return o.cancel=a,o},Pt=function(){};Pt.prototype.allowedEvents_={};Pt.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},zi(this,t,e),this.addEventListener=i};Pt.prototype.addEventListener=Pt.prototype.on;Pt.prototype.off=function(t,e){Xt(this,t,e)};Pt.prototype.removeEventListener=Pt.prototype.off;Pt.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},yh(this,t,e),this.addEventListener=i};Pt.prototype.any=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},lP(this,t,e),this.addEventListener=i};Pt.prototype.trigger=function(t){var e=t.type||t;typeof t=="string"&&(t={type:e}),t=gh(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),yo(this,t)};Pt.prototype.dispatchEvent=Pt.prototype.trigger;var Zo;Pt.prototype.queueTrigger=function(t){var e=this;Zo||(Zo=new Map);var i=t.type||t,r=Zo.get(this);r||(r=new Map,Zo.set(this,r));var n=r.get(i);r.delete(i),M.clearTimeout(n);var s=M.setTimeout(function(){r.size===0&&(r=null,Zo.delete(e)),e.trigger(t)},0);r.set(i,s)};var _h=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},sr=function(e){return e instanceof Pt||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(i){return typeof e[i]=="function"})},lz=function(e,i){sr(e)?i():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(i))},Dv=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},uf=function(e,i,r){if(!e||!e.nodeName&&!sr(e))throw new Error("Invalid target for "+_h(i)+"#"+r+"; must be a DOM node or evented object.")},uP=function(e,i,r){if(!Dv(e))throw new Error("Invalid event type for "+_h(i)+"#"+r+"; must be a non-empty string or array.")},cP=function(e,i,r){if(typeof e!="function")throw new Error("Invalid listener for "+_h(i)+"#"+r+"; must be a function.")},Fp=function(e,i,r){var n=i.length<3||i[0]===e||i[0]===e.eventBusEl_,s,a,o;return n?(s=e.eventBusEl_,i.length>=3&&i.shift(),a=i[0],o=i[1]):(s=i[0],a=i[1],o=i[2]),uf(s,e,r),uP(a,e,r),cP(o,e,r),o=et(e,o),{isTargetingSelf:n,target:s,type:a,listener:o}},us=function(e,i,r,n){uf(e,e,i),e.nodeName?az[i](e,r,n):e[i](r,n)},uz={on:function(){for(var e=this,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];var s=Fp(this,r,"on"),a=s.isTargetingSelf,o=s.target,l=s.type,u=s.listener;if(us(o,"on",l,u),!a){var c=function(){return e.off(o,l,u)};c.guid=u.guid;var d=function(){return e.off("dispose",c)};d.guid=u.guid,us(this,"on","dispose",c),us(o,"on","dispose",d)}},one:function(){for(var e=this,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];var s=Fp(this,r,"one"),a=s.isTargetingSelf,o=s.target,l=s.type,u=s.listener;if(a)us(o,"one",l,u);else{var c=function d(){e.off(o,l,d);for(var f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];u.apply(null,p)};c.guid=u.guid,us(o,"one",l,c)}},any:function(){for(var e=this,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];var s=Fp(this,r,"any"),a=s.isTargetingSelf,o=s.target,l=s.type,u=s.listener;if(a)us(o,"any",l,u);else{var c=function d(){e.off(o,l,d);for(var f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];u.apply(null,p)};c.guid=u.guid,us(o,"any",l,c)}},off:function(e,i,r){if(!e||Dv(e))Xt(this.eventBusEl_,e,i);else{var n=e,s=i;uf(n,this,"off"),uP(s,this,"off"),cP(r,this,"off"),r=et(this,r),this.off("dispose",r),n.nodeName?(Xt(n,s,r),Xt(n,"dispose",r)):sr(n)&&(n.off(s,r),n.off("dispose",r))}},trigger:function(e,i){uf(this.eventBusEl_,this,"trigger");var r=e&&typeof e!="string"?e.type:e;if(!Dv(r)){var n="Invalid event type for "+_h(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||Re).error(n);else throw new Error(n)}return yo(this.eventBusEl_,e,i)}};function my(t,e){e===void 0&&(e={});var i=e,r=i.eventBusKey;if(r){if(!t[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');t.eventBusEl_=t[r]}else t.eventBusEl_=Be("span",{className:"vjs-event-bus"});return at(t,uz),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(n){n()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&ai.has(n)&&ai.delete(n)}),M.setTimeout(function(){t.eventBusEl_=null},0)}),t}var cz={state:{},setState:function(e){var i=this;typeof e=="function"&&(e=e());var r;return La(e,function(n,s){i.state[s]!==n&&(r=r||{},r[s]={from:i.state[s],to:n}),i.state[s]=n}),r&&sr(this)&&this.trigger({changes:r,type:"statechanged"}),r}};function dP(t,e){return at(t,cz),t.state=at({},t.state,e),typeof t.handleStateChanged=="function"&&sr(t)&&t.on("statechanged",t.handleStateChanged),t}var gd=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toLowerCase()})},ft=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toUpperCase()})},dz=function(e,i){return ft(e)===ft(i)};function Ze(){for(var t={},e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return i.forEach(function(n){!n||La(n,function(s,a){if(!gu(s)){t[a]=s;return}gu(t[a])||(t[a]={}),t[a]=Ze(t[a],s)})}),t}var fz=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(r){return r in this.map_},e.delete=function(r){var n=this.has(r);return delete this.map_[r],n},e.set=function(r,n){return this.map_[r]=n,this},e.forEach=function(r,n){for(var s in this.map_)r.call(n,this.map_[s],s,this)},t}(),hz=M.Map?M.Map:fz,pz=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(r){return r in this.set_},e.delete=function(r){var n=this.has(r);return delete this.set_[r],n},e.add=function(r){return this.set_[r]=1,this},e.forEach=function(r,n){for(var s in this.set_)r.call(n,s,s,this)},t}(),Np=M.Set?M.Set:pz,Z=function(){function t(i,r,n){var s=this;if(!i&&this.play?this.player_=i=this:this.player_=i,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ze({},this.options_),r=this.options_=Ze(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){var a=i&&i.id&&i.id()||"no_player";this.id_=a+"_component_"+vr()}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.className&&this.el_&&r.className.split(" ").forEach(function(o){return s.addClass(o)}),r.evented!==!1&&(my(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),dP(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Np,this.setIntervalIds_=new Np,this.rafIds_=new Np,this.namedRafs_=new hz,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(n),r.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(r){return r?(this.options_=Ze(this.options_,r),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(r,n,s){return Be(r,n,s)},e.localize=function(r,n,s){s===void 0&&(s=r);var a=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),l=o&&o[a],u=a&&a.split("-")[0],c=o&&o[u],d=s;return l&&l[r]?d=l[r]:c&&c[r]&&(d=c[r]),n&&(d=d.replace(/\{(\d+)\}/g,function(f,p){var g=n[p-1],b=g;return typeof g>"u"&&(b=f),b})),d},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(r){return this.childIndex_[r]},e.getChild=function(r){if(!!r)return this.childNameIndex_[r]},e.getDescendant=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];n=n.reduce(function(l,u){return l.concat(u)},[]);for(var a=this,o=0;o<n.length;o++)if(a=a.getChild(n[o]),!a||!a.getChild)return;return a},e.addChild=function(r,n,s){n===void 0&&(n={}),s===void 0&&(s=this.children_.length);var a,o;if(typeof r=="string"){o=ft(r);var l=n.componentClass||o;n.name=o;var u=t.getComponent(l);if(!u)throw new Error("Component "+l+" does not exist");if(typeof u!="function")return null;a=new u(this.player_||this,n)}else a=r;if(a.parentComponent_&&a.parentComponent_.removeChild(a),this.children_.splice(s,0,a),a.parentComponent_=this,typeof a.id=="function"&&(this.childIndex_[a.id()]=a),o=o||a.name&&ft(a.name()),o&&(this.childNameIndex_[o]=a,this.childNameIndex_[gd(o)]=a),typeof a.el=="function"&&a.el()){var c=null;this.children_[s+1]&&(this.children_[s+1].el_?c=this.children_[s+1].el_:go(this.children_[s+1])&&(c=this.children_[s+1])),this.contentEl().insertBefore(a.el(),c)}return a},e.removeChild=function(r){if(typeof r=="string"&&(r=this.getChild(r)),!(!r||!this.children_)){for(var n=!1,s=this.children_.length-1;s>=0;s--)if(this.children_[s]===r){n=!0,this.children_.splice(s,1);break}if(!!n){r.parentComponent_=null,this.childIndex_[r.id()]=null,this.childNameIndex_[ft(r.name())]=null,this.childNameIndex_[gd(r.name())]=null;var a=r.el();a&&a.parentNode===this.contentEl()&&this.contentEl().removeChild(r.el())}}},e.initChildren=function(){var r=this,n=this.options_.children;if(n){var s=this.options_,a=function(c){var d=c.name,f=c.opts;if(s[d]!==void 0&&(f=s[d]),f!==!1){f===!0&&(f={}),f.playerOptions=r.options_.playerOptions;var p=r.addChild(d,f);p&&(r[d]=p)}},o,l=t.getComponent("Tech");Array.isArray(n)?o=n:o=Object.keys(n),o.concat(Object.keys(this.options_).filter(function(u){return!o.some(function(c){return typeof c=="string"?u===c:u===c.name})})).map(function(u){var c,d;return typeof u=="string"?(c=u,d=n[c]||r.options_[c]||{}):(c=u.name,d=u),{name:c,opts:d}}).filter(function(u){var c=t.getComponent(u.opts.componentClass||ft(u.name));return c&&!l.isTech(c)}).forEach(a)}},e.buildCSSClass=function(){return""},e.ready=function(r,n){if(n===void 0&&(n=!1),!!r){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(r);return}n?r.call(this):this.setTimeout(r,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var r=this.readyQueue_;this.readyQueue_=[],r&&r.length>0&&r.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)},e.$=function(r,n){return Kr(r,n||this.contentEl())},e.$$=function(r,n){return iP(r,n||this.contentEl())},e.hasClass=function(r){return ws(this.el_,r)},e.addClass=function(r){rr(this.el_,r)},e.removeClass=function(r){Hu(this.el_,r)},e.toggleClass=function(r,n){Xk(this.el_,r,n)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(r){return Qk(this.el_,r)},e.setAttribute=function(r,n){Ja(this.el_,r,n)},e.removeAttribute=function(r){mh(this.el_,r)},e.width=function(r,n){return this.dimension("width",r,n)},e.height=function(r,n){return this.dimension("height",r,n)},e.dimensions=function(r,n){this.width(r,!0),this.height(n)},e.dimension=function(r,n,s){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[r]=n:n==="auto"?this.el_.style[r]="":this.el_.style[r]=n+"px",s||this.trigger("componentresize");return}if(!this.el_)return 0;var a=this.el_.style[r],o=a.indexOf("px");return parseInt(o!==-1?a.slice(0,o):this.el_["offset"+ft(r)],10)},e.currentDimension=function(r){var n=0;if(r!=="width"&&r!=="height")throw new Error("currentDimension only accepts width or height value");if(n=yu(this.el_,r),n=parseFloat(n),n===0||isNaN(n)){var s="offset"+ft(r);n=this.el_[s]}return n},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(r){this.player_&&(Ie.isEventKey(r,"Tab")||r.stopPropagation(),this.player_.handleKeyDown(r))},e.handleKeyPress=function(r){this.handleKeyDown(r)},e.emitTapEvents=function(){var r=0,n=null,s=10,a=200,o;this.on("touchstart",function(u){u.touches.length===1&&(n={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},r=M.performance.now(),o=!0)}),this.on("touchmove",function(u){if(u.touches.length>1)o=!1;else if(n){var c=u.touches[0].pageX-n.pageX,d=u.touches[0].pageY-n.pageY,f=Math.sqrt(c*c+d*d);f>s&&(o=!1)}});var l=function(){o=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(u){if(n=null,o===!0){var c=M.performance.now()-r;c<a&&(u.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var r=et(this.player(),this.player().reportUserActivity),n;this.on("touchstart",function(){r(),this.clearInterval(n),n=this.setInterval(r,250)});var s=function(o){r(),this.clearInterval(n)};this.on("touchmove",r),this.on("touchend",s),this.on("touchcancel",s)}},e.setTimeout=function(r,n){var s=this,a;return r=et(this,r),this.clearTimersOnDispose_(),a=M.setTimeout(function(){s.setTimeoutIds_.has(a)&&s.setTimeoutIds_.delete(a),r()},n),this.setTimeoutIds_.add(a),a},e.clearTimeout=function(r){return this.setTimeoutIds_.has(r)&&(this.setTimeoutIds_.delete(r),M.clearTimeout(r)),r},e.setInterval=function(r,n){r=et(this,r),this.clearTimersOnDispose_();var s=M.setInterval(r,n);return this.setIntervalIds_.add(s),s},e.clearInterval=function(r){return this.setIntervalIds_.has(r)&&(this.setIntervalIds_.delete(r),M.clearInterval(r)),r},e.requestAnimationFrame=function(r){var n=this;if(!this.supportsRaf_)return this.setTimeout(r,1e3/60);this.clearTimersOnDispose_();var s;return r=et(this,r),s=M.requestAnimationFrame(function(){n.rafIds_.has(s)&&n.rafIds_.delete(s),r()}),this.rafIds_.add(s),s},e.requestNamedAnimationFrame=function(r,n){var s=this;if(!this.namedRafs_.has(r)){this.clearTimersOnDispose_(),n=et(this,n);var a=this.requestAnimationFrame(function(){n(),s.namedRafs_.has(r)&&s.namedRafs_.delete(r)});return this.namedRafs_.set(r,a),r}},e.cancelNamedAnimationFrame=function(r){!this.namedRafs_.has(r)||(this.cancelAnimationFrame(this.namedRafs_.get(r)),this.namedRafs_.delete(r))},e.cancelAnimationFrame=function(r){return this.supportsRaf_?(this.rafIds_.has(r)&&(this.rafIds_.delete(r),M.cancelAnimationFrame(r)),r):this.clearTimeout(r)},e.clearTimersOnDispose_=function(){var r=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(n){var s=n[0],a=n[1];r[s].forEach(function(o,l){return r[a](l)})}),r.clearingTimersOnDispose_=!1}))},t.registerComponent=function(r,n){if(typeof r!="string"||!r)throw new Error('Illegal component name, "'+r+'"; must be a non-empty string.');var s=t.getComponent("Tech"),a=s&&s.isTech(n),o=t===n||t.prototype.isPrototypeOf(n.prototype);if(a||!o){var l;throw a?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+r+'"; '+l+".")}r=ft(r),t.components_||(t.components_={});var u=t.getComponent("Player");if(r==="Player"&&u&&u.players){var c=u.players,d=Object.keys(c);if(c&&d.length>0&&d.map(function(f){return c[f]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[r]=n,t.components_[gd(r)]=n,n},t.getComponent=function(r){if(!(!r||!t.components_))return t.components_[r]},t}();Z.prototype.supportsRaf_=typeof M.requestAnimationFrame=="function"&&typeof M.cancelAnimationFrame=="function";Z.registerComponent("Component",Z);function mz(t,e,i){if(typeof e!="number"||e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}function kx(t,e,i,r){return mz(t,r,i.length-1),i[r][e]}function Up(t){var e;return t===void 0||t.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:kx.bind(null,"start",0,t),end:kx.bind(null,"end",1,t)},M.Symbol&&M.Symbol.iterator&&(e[M.Symbol.iterator]=function(){return(t||[]).values()}),e}function Es(t,e){return Array.isArray(t)?Up(t):t===void 0||e===void 0?Up():Up([[t,e]])}function fP(t,e){var i=0,r,n;if(!e)return 0;(!t||!t.length)&&(t=Es(0,0));for(var s=0;s<t.length;s++)r=t.start(s),n=t.end(s),n>e&&(n=e),i+=n-r;return i/e}function oi(t){if(t instanceof oi)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:dr(t)&&(typeof t.code=="number"&&(this.code=t.code),at(this,t)),this.message||(this.message=oi.defaultMessages[this.code]||"")}oi.prototype.code=0;oi.prototype.message="";oi.prototype.status=null;oi.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];oi.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var ra=0;ra<oi.errorTypes.length;ra++)oi[oi.errorTypes[ra]]=ra,oi.prototype[oi.errorTypes[ra]]=ra;function Ul(t){return t!=null&&typeof t.then=="function"}function In(t){Ul(t)&&t.then(null,function(e){})}var Mv=function(e){var i=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(r,n,s){return e[n]&&(r[n]=e[n]),r},{cues:e.cues&&Array.prototype.map.call(e.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})});return i},vz=function(e){var i=e.$$("track"),r=Array.prototype.map.call(i,function(s){return s.track}),n=Array.prototype.map.call(i,function(s){var a=Mv(s.track);return s.src&&(a.src=s.src),a});return n.concat(Array.prototype.filter.call(e.textTracks(),function(s){return r.indexOf(s)===-1}).map(Mv))},gz=function(e,i){return e.forEach(function(r){var n=i.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(function(s){return n.addCue(s)})}),i.textTracks()},Px={textTracksToJson:vz,jsonToTextTracks:gz,trackToJson_:Mv},Bp="vjs-modal-dialog",_o=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.close_=function(a){return s.close(a)},s.opened_=s.hasBeenOpened_=s.hasBeenFilled_=!1,s.closeable(!s.options_.uncloseable),s.content(s.options_.content),s.contentEl_=Be("div",{className:Bp+"-content"},{role:"document"}),s.descEl_=Be("p",{className:Bp+"-description vjs-control-text",id:s.el().getAttribute("aria-describedby")}),$s(s.descEl_,s.description()),s.el_.appendChild(s.descEl_),s.el_.appendChild(s.contentEl_),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return Bp+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var n=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(n+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),n},i.open=function(){if(!this.opened_){var n=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!n.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&n.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=n.controls(),n.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},i.opened=function(n){return typeof n=="boolean"&&this[n?"open":"close"](),this.opened_},i.close=function(){if(!!this.opened_){var n=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&n.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&n.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.closeable=function(n){if(typeof n=="boolean"){var s=this.closeable_=!!n,a=this.getChild("closeButton");if(s&&!a){var o=this.contentEl_;this.contentEl_=this.el_,a=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(a,"close",this.close_)}!s&&a&&(this.off(a,"close",this.close_),this.removeChild(a),a.dispose())}return this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(n){var s=this.contentEl(),a=s.parentNode,o=s.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,a.removeChild(s),this.empty(),tP(s,n),this.trigger("modalfill"),o?a.insertBefore(s,o):a.appendChild(s);var l=this.getChild("closeButton");l&&a.appendChild(l.el_)},i.empty=function(){this.trigger("beforemodalempty"),fy(this.contentEl()),this.trigger("modalempty")},i.content=function(n){return typeof n<"u"&&(this.content_=n),this.content_},i.conditionalFocus_=function(){var n=se.activeElement,s=this.player_.el_;this.previouslyActiveEl_=null,(s.contains(n)||s===n)&&(this.previouslyActiveEl_=n,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(n){if(n.stopPropagation(),Ie.isEventKey(n,"Escape")&&this.closeable()){n.preventDefault(),this.close();return}if(!!Ie.isEventKey(n,"Tab")){for(var s=this.focusableEls_(),a=this.el_.querySelector(":focus"),o,l=0;l<s.length;l++)if(a===s[l]){o=l;break}se.activeElement===this.el_&&(o=0),n.shiftKey&&o===0?(s[s.length-1].focus(),n.preventDefault()):!n.shiftKey&&o===s.length-1&&(s[0].focus(),n.preventDefault())}},i.focusableEls_=function(){var n=this.el_.querySelectorAll("*");return Array.prototype.filter.call(n,function(s){return(s instanceof M.HTMLAnchorElement||s instanceof M.HTMLAreaElement)&&s.hasAttribute("href")||(s instanceof M.HTMLInputElement||s instanceof M.HTMLSelectElement||s instanceof M.HTMLTextAreaElement||s instanceof M.HTMLButtonElement)&&!s.hasAttribute("disabled")||s instanceof M.HTMLIFrameElement||s instanceof M.HTMLObjectElement||s instanceof M.HTMLEmbedElement||s.hasAttribute("tabindex")&&s.getAttribute("tabindex")!==-1||s.hasAttribute("contenteditable")})},e}(Z);_o.prototype.options_={pauseOnOpen:!0,temporary:!0};Z.registerComponent("ModalDialog",_o);var eo=function(t){ce(e,t);function e(r){var n;r===void 0&&(r=[]),n=t.call(this)||this,n.tracks_=[],Object.defineProperty(Ae(n),"length",{get:function(){return this.tracks_.length}});for(var s=0;s<r.length;s++)n.addTrack(r[s]);return n}var i=e.prototype;return i.addTrack=function(n){var s=this,a=this.tracks_.length;""+a in this||Object.defineProperty(this,a,{get:function(){return this.tracks_[a]}}),this.tracks_.indexOf(n)===-1&&(this.tracks_.push(n),this.trigger({track:n,type:"addtrack",target:this})),n.labelchange_=function(){s.trigger({track:n,type:"labelchange",target:s})},sr(n)&&n.addEventListener("labelchange",n.labelchange_)},i.removeTrack=function(n){for(var s,a=0,o=this.length;a<o;a++)if(this[a]===n){s=this[a],s.off&&s.off(),this.tracks_.splice(a,1);break}!s||this.trigger({track:s,type:"removetrack",target:this})},i.getTrackById=function(n){for(var s=null,a=0,o=this.length;a<o;a++){var l=this[a];if(l.id===n){s=l;break}}return s},e}(Pt);eo.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var yz in eo.prototype.allowedEvents_)eo.prototype["on"+yz]=null;var zp=function(e,i){for(var r=0;r<e.length;r++)!Object.keys(e[r]).length||i.id===e[r].id||(e[r].enabled=!1)},_z=function(t){ce(e,t);function e(r){var n;r===void 0&&(r=[]);for(var s=r.length-1;s>=0;s--)if(r[s].enabled){zp(r,r[s]);break}return n=t.call(this,r)||this,n.changing_=!1,n}var i=e.prototype;return i.addTrack=function(n){var s=this;n.enabled&&zp(this,n),t.prototype.addTrack.call(this,n),n.addEventListener&&(n.enabledChange_=function(){s.changing_||(s.changing_=!0,zp(s,n),s.changing_=!1,s.trigger("change"))},n.addEventListener("enabledchange",n.enabledChange_))},i.removeTrack=function(n){t.prototype.removeTrack.call(this,n),n.removeEventListener&&n.enabledChange_&&(n.removeEventListener("enabledchange",n.enabledChange_),n.enabledChange_=null)},e}(eo),jp=function(e,i){for(var r=0;r<e.length;r++)!Object.keys(e[r]).length||i.id===e[r].id||(e[r].selected=!1)},bz=function(t){ce(e,t);function e(r){var n;r===void 0&&(r=[]);for(var s=r.length-1;s>=0;s--)if(r[s].selected){jp(r,r[s]);break}return n=t.call(this,r)||this,n.changing_=!1,Object.defineProperty(Ae(n),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),n}var i=e.prototype;return i.addTrack=function(n){var s=this;n.selected&&jp(this,n),t.prototype.addTrack.call(this,n),n.addEventListener&&(n.selectedChange_=function(){s.changing_||(s.changing_=!0,jp(s,n),s.changing_=!1,s.trigger("change"))},n.addEventListener("selectedchange",n.selectedChange_))},i.removeTrack=function(n){t.prototype.removeTrack.call(this,n),n.removeEventListener&&n.selectedChange_&&(n.removeEventListener("selectedchange",n.selectedChange_),n.selectedChange_=null)},e}(eo),hP=function(t){ce(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.addTrack=function(n){var s=this;t.prototype.addTrack.call(this,n),this.queueChange_||(this.queueChange_=function(){return s.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return s.trigger("selectedlanguagechange")}),n.addEventListener("modechange",this.queueChange_);var a=["metadata","chapters"];a.indexOf(n.kind)===-1&&n.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(n){t.prototype.removeTrack.call(this,n),n.removeEventListener&&(this.queueChange_&&n.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&n.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(eo),Tz=function(){function t(i){i===void 0&&(i=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var r=0,n=i.length;r<n;r++)this.addTrackElement_(i[r])}var e=t.prototype;return e.addTrackElement_=function(r){var n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.trackElements_[n]}}),this.trackElements_.indexOf(r)===-1&&this.trackElements_.push(r)},e.getTrackElementByTrack_=function(r){for(var n,s=0,a=this.trackElements_.length;s<a;s++)if(r===this.trackElements_[s].track){n=this.trackElements_[s];break}return n},e.removeTrackElement_=function(r){for(var n=0,s=this.trackElements_.length;n<s;n++)if(r===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}},t}(),Ox=function(){function t(i){t.prototype.setCues_.call(this,i),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(r){var n=this.length||0,s=0,a=r.length;this.cues_=r,this.length_=r.length;var o=function(u){""+u in this||Object.defineProperty(this,""+u,{get:function(){return this.cues_[u]}})};if(n<a)for(s=n;s<a;s++)o.call(this,s)},e.getCueById=function(r){for(var n=null,s=0,a=this.length;s<a;s++){var o=this[s];if(o.id===r){n=o;break}}return n},t}(),xz={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Sz={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},wz={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Ax={disabled:"disabled",hidden:"hidden",showing:"showing"},vy=function(t){ce(e,t);function e(i){var r;i===void 0&&(i={}),r=t.call(this)||this;var n={id:i.id||"vjs_track_"+vr(),kind:i.kind||"",language:i.language||""},s=i.label||"",a=function(u){Object.defineProperty(Ae(r),u,{get:function(){return n[u]},set:function(){}})};for(var o in n)a(o);return Object.defineProperty(Ae(r),"label",{get:function(){return s},set:function(u){u!==s&&(s=u,this.trigger("labelchange"))}}),r}return e}(Pt),gy=function(e){var i=["protocol","hostname","port","pathname","search","hash","host"],r=se.createElement("a");r.href=e;for(var n={},s=0;s<i.length;s++)n[i[s]]=r[i[s]];return n.protocol==="http:"&&(n.host=n.host.replace(/:80$/,"")),n.protocol==="https:"&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=M.location.protocol),n.host||(n.host=M.location.host),n},pP=function(e){if(!e.match(/^https?:\/\//)){var i=se.createElement("a");i.href=e,e=i.href}return e},yy=function(e){if(typeof e=="string"){var i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,r=i.exec(e);if(r)return r.pop().toLowerCase()}return""},bh=function(e,i){i===void 0&&(i=M.location);var r=gy(e),n=r.protocol===":"?i.protocol:r.protocol,s=n+r.host!==i.protocol+i.host;return s},Ez=Object.freeze({__proto__:null,parseUrl:gy,getAbsoluteURL:pP,getFileExtension:yy,isCrossOrigin:bh}),Ix=function(e,i){var r=new M.WebVTT.Parser(M,M.vttjs,M.WebVTT.StringDecoder()),n=[];r.oncue=function(s){i.addCue(s)},r.onparsingerror=function(s){n.push(s)},r.onflush=function(){i.trigger({type:"loadeddata",target:i})},r.parse(e),n.length>0&&(M.console&&M.console.groupCollapsed&&M.console.groupCollapsed("Text Track parsing errors for "+i.src),n.forEach(function(s){return Re.error(s)}),M.console&&M.console.groupEnd&&M.console.groupEnd()),r.flush()},Dx=function(e,i){var r={uri:e},n=bh(e);n&&(r.cors=n);var s=i.tech_.crossOrigin()==="use-credentials";s&&(r.withCredentials=s),jC(r,et(this,function(a,o,l){if(a)return Re.error(a,o);i.loaded_=!0,typeof M.WebVTT!="function"?i.tech_&&i.tech_.any(["vttjsloaded","vttjserror"],function(u){if(u.type==="vttjserror"){Re.error("vttjs failed to load, stopping trying to process "+i.src);return}return Ix(l,i)}):Ix(l,i)}))},Wu=function(t){ce(e,t);function e(r){var n;if(r===void 0&&(r={}),!r.tech)throw new Error("A tech was not provided.");var s=Ze(r,{kind:wz[r.kind]||"subtitles",language:r.language||r.srclang||""}),a=Ax[s.mode]||"disabled",o=s.default;(s.kind==="metadata"||s.kind==="chapters")&&(a="hidden"),n=t.call(this,s)||this,n.tech_=s.tech,n.cues_=[],n.activeCues_=[],n.preload_=n.tech_.preloadTextTracks!==!1;var l=new Ox(n.cues_),u=new Ox(n.activeCues_),c=!1;n.timeupdateHandler=et(Ae(n),function(){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler);return}this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1),this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)}});var d=function(){n.stopTracking()};return n.tech_.one("dispose",d),a!=="disabled"&&n.startTracking(),Object.defineProperties(Ae(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return a},set:function(p){!Ax[p]||a!==p&&(a=p,!this.preload_&&a!=="disabled"&&this.cues.length===0&&Dx(this.src,this),this.stopTracking(),a!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return u;for(var p=this.tech_.currentTime(),g=[],b=0,y=this.cues.length;b<y;b++){var T=this.cues[b];(T.startTime<=p&&T.endTime>=p||T.startTime===T.endTime&&T.startTime<=p&&T.startTime+.5>=p)&&g.push(T)}if(c=!1,g.length!==this.activeCues_.length)c=!0;else for(var w=0;w<g.length;w++)this.activeCues_.indexOf(g[w])===-1&&(c=!0);return this.activeCues_=g,u.setCues_(this.activeCues_),u},set:function(){}}}),s.src?(n.src=s.src,n.preload_||(n.loaded_=!0),(n.preload_||s.kind!=="subtitles"&&s.kind!=="captions")&&Dx(n.src,Ae(n))):n.loaded_=!0,n}var i=e.prototype;return i.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)},i.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0)},i.addCue=function(n){var s=n;if(M.vttjs&&!(n instanceof M.vttjs.VTTCue)){s=new M.vttjs.VTTCue(n.startTime,n.endTime,n.text);for(var a in n)a in s||(s[a]=n[a]);s.id=n.id,s.originalCue_=n}for(var o=this.tech_.textTracks(),l=0;l<o.length;l++)o[l]!==this&&o[l].removeCue(s);this.cues_.push(s),this.cues.setCues_(this.cues_)},i.removeCue=function(n){for(var s=this.cues_.length;s--;){var a=this.cues_[s];if(a===n||a.originalCue_&&a.originalCue_===n){this.cues_.splice(s,1),this.cues.setCues_(this.cues_);break}}},e}(vy);Wu.prototype.allowedEvents_={cuechange:"cuechange"};var mP=function(t){ce(e,t);function e(i){var r;i===void 0&&(i={});var n=Ze(i,{kind:Sz[i.kind]||""});r=t.call(this,n)||this;var s=!1;return Object.defineProperty(Ae(r),"enabled",{get:function(){return s},set:function(o){typeof o!="boolean"||o===s||(s=o,this.trigger("enabledchange"))}}),n.enabled&&(r.enabled=n.enabled),r.loaded_=!0,r}return e}(vy),vP=function(t){ce(e,t);function e(i){var r;i===void 0&&(i={});var n=Ze(i,{kind:xz[i.kind]||""});r=t.call(this,n)||this;var s=!1;return Object.defineProperty(Ae(r),"selected",{get:function(){return s},set:function(o){typeof o!="boolean"||o===s||(s=o,this.trigger("selectedchange"))}}),n.selected&&(r.selected=n.selected),r}return e}(vy),gP=0,Cz=1,yP=2,kz=3,bo=function(t){ce(e,t);function e(i){var r;i===void 0&&(i={}),r=t.call(this)||this;var n,s=new Wu(i);return r.kind=s.kind,r.src=s.src,r.srclang=s.language,r.label=s.label,r.default=s.default,Object.defineProperties(Ae(r),{readyState:{get:function(){return n}},track:{get:function(){return s}}}),n=gP,s.addEventListener("loadeddata",function(){n=yP,r.trigger({type:"load",target:Ae(r)})}),r}return e}(Pt);bo.prototype.allowedEvents_={load:"load"};bo.NONE=gP;bo.LOADING=Cz;bo.LOADED=yP;bo.ERROR=kz;var Ji={audio:{ListClass:_z,TrackClass:mP,capitalName:"Audio"},video:{ListClass:bz,TrackClass:vP,capitalName:"Video"},text:{ListClass:hP,TrackClass:Wu,capitalName:"Text"}};Object.keys(Ji).forEach(function(t){Ji[t].getterName=t+"Tracks",Ji[t].privateName=t+"Tracks_"});var to={remoteText:{ListClass:hP,TrackClass:Wu,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Tz,TrackClass:bo,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ni=nn({},Ji,to);to.names=Object.keys(to);Ji.names=Object.keys(Ji);ni.names=[].concat(to.names).concat(Ji.names);function Pz(t,e,i,r,n){n===void 0&&(n={});var s=t.textTracks();n.kind=e,i&&(n.label=i),r&&(n.language=r),n.tech=t;var a=new ni.text.TrackClass(n);return s.addTrack(a),a}var Xe=function(t){ce(e,t);function e(r,n){var s;return r===void 0&&(r={}),n===void 0&&(n=function(){}),r.reportTouchActivity=!1,s=t.call(this,null,r,n)||this,s.onDurationChange_=function(a){return s.onDurationChange(a)},s.trackProgress_=function(a){return s.trackProgress(a)},s.trackCurrentTime_=function(a){return s.trackCurrentTime(a)},s.stopTrackingCurrentTime_=function(a){return s.stopTrackingCurrentTime(a)},s.disposeSourceHandler_=function(a){return s.disposeSourceHandler(a)},s.queuedHanders_=new Set,s.hasStarted_=!1,s.on("playing",function(){this.hasStarted_=!0}),s.on("loadstart",function(){this.hasStarted_=!1}),ni.names.forEach(function(a){var o=ni[a];r&&r[o.getterName]&&(s[o.privateName]=r[o.getterName])}),s.featuresProgressEvents||s.manualProgressOn(),s.featuresTimeupdateEvents||s.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(a){r["native"+a+"Tracks"]===!1&&(s["featuresNative"+a+"Tracks"]=!1)}),r.nativeCaptions===!1||r.nativeTextTracks===!1?s.featuresNativeTextTracks=!1:(r.nativeCaptions===!0||r.nativeTextTracks===!0)&&(s.featuresNativeTextTracks=!0),s.featuresNativeTextTracks||s.emulateTextTracks(),s.preloadTextTracks=r.preloadTextTracks!==!1,s.autoRemoteTextTracks_=new ni.text.ListClass,s.initTrackListeners(),r.nativeControlsForTouch||s.emitTapEvents(),s.constructor&&(s.name_=s.constructor.name||"Unknown Tech"),s}var i=e.prototype;return i.triggerSourceset=function(n){var s=this;this.isReady_||this.one("ready",function(){return s.setTimeout(function(){return s.triggerSourceset(n)},1)}),this.trigger({src:n,type:"sourceset"})},i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},i.trackProgress=function(n){this.stopTrackingProgress(),this.progressInterval=this.setInterval(et(this,function(){var s=this.bufferedPercent();this.bufferedPercent_!==s&&this.trigger("progress"),this.bufferedPercent_=s,s===1&&this.stopTrackingProgress()}),500)},i.onDurationChange=function(n){this.duration_=this.duration()},i.buffered=function(){return Es(0,0)},i.bufferedPercent=function(){return fP(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(Ji.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},i.clearTracks=function(n){var s=this;n=[].concat(n),n.forEach(function(a){for(var o=s[a+"Tracks"]()||[],l=o.length;l--;){var u=o[l];a==="text"&&s.removeRemoteTextTrack(u),o.removeTrack(u)}})},i.cleanupAutoTextTracks=function(){for(var n=this.autoRemoteTextTracks_||[],s=n.length;s--;){var a=n[s];this.removeRemoteTextTrack(a)}},i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=function(n){return n!==void 0&&(this.error_=new oi(n),this.trigger("error")),this.error_},i.played=function(){return this.hasStarted_?Es(0,0):Es()},i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var n=this;Ji.names.forEach(function(s){var a=Ji[s],o=function(){n.trigger(s+"trackchange")},l=n[a.getterName]();l.addEventListener("removetrack",o),l.addEventListener("addtrack",o),n.on("dispose",function(){l.removeEventListener("removetrack",o),l.removeEventListener("addtrack",o)})})},i.addWebVttScript_=function(){var n=this;if(!M.WebVTT)if(se.body.contains(this.el())){if(!this.options_["vtt.js"]&&gu(KT)&&Object.keys(KT).length>0){this.trigger("vttjsloaded");return}var s=se.createElement("script");s.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",s.onload=function(){n.trigger("vttjsloaded")},s.onerror=function(){n.trigger("vttjserror")},this.on("dispose",function(){s.onload=null,s.onerror=null}),M.WebVTT=!0,this.el().parentNode.appendChild(s)}else this.ready(this.addWebVttScript_)},i.emulateTextTracks=function(){var n=this,s=this.textTracks(),a=this.remoteTextTracks(),o=function(f){return s.addTrack(f.track)},l=function(f){return s.removeTrack(f.track)};a.on("addtrack",o),a.on("removetrack",l),this.addWebVttScript_();var u=function(){return n.trigger("texttrackchange")},c=function(){u();for(var f=0;f<s.length;f++){var p=s[f];p.removeEventListener("cuechange",u),p.mode==="showing"&&p.addEventListener("cuechange",u)}};c(),s.addEventListener("change",c),s.addEventListener("addtrack",c),s.addEventListener("removetrack",c),this.on("dispose",function(){a.off("addtrack",o),a.off("removetrack",l),s.removeEventListener("change",c),s.removeEventListener("addtrack",c),s.removeEventListener("removetrack",c);for(var d=0;d<s.length;d++){var f=s[d];f.removeEventListener("cuechange",u)}})},i.addTextTrack=function(n,s,a){if(!n)throw new Error("TextTrack kind is required but was not provided");return Pz(this,n,s,a)},i.createRemoteTextTrack=function(n){var s=Ze(n,{tech:this});return new to.remoteTextEl.TrackClass(s)},i.addRemoteTextTrack=function(n,s){var a=this;n===void 0&&(n={});var o=this.createRemoteTextTrack(n);return s!==!0&&s!==!1&&(Re.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),s=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),s!==!0&&this.ready(function(){return a.autoRemoteTextTracks_.addTrack(o.track)}),o},i.removeRemoteTextTrack=function(n){var s=this.remoteTextTrackEls().getTrackElementByTrack_(n);this.remoteTextTrackEls().removeTrackElement_(s),this.remoteTextTracks().removeTrack(n),this.autoRemoteTextTracks_.removeTrack(n)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var n=this.options_.Promise||M.Promise;if(n)return n.reject()},i.disablePictureInPicture=function(){return!0},i.setDisablePictureInPicture=function(){},i.requestVideoFrameCallback=function(n){var s=this,a=vr();return this.paused()?(this.queuedHanders_.add(a),this.one("playing",function(){s.queuedHanders_.has(a)&&(s.queuedHanders_.delete(a),n())})):this.requestNamedAnimationFrame(a,n),a},i.cancelVideoFrameCallback=function(n){this.queuedHanders_.has(n)?this.queuedHanders_.delete(n):this.cancelNamedAnimationFrame(n)},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(n,s){return e.canPlayType(n.type)},e.isTech=function(n){return n.prototype instanceof e||n instanceof e||n===e},e.registerTech=function(n,s){if(e.techs_||(e.techs_={}),!e.isTech(s))throw new Error("Tech "+n+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return n=ft(n),e.techs_[n]=s,e.techs_[gd(n)]=s,n!=="Tech"&&e.defaultTechOrder_.push(n),s},e.getTech=function(n){if(!!n){if(e.techs_&&e.techs_[n])return e.techs_[n];if(n=ft(n),M&&M.videojs&&M.videojs[n])return Re.warn("The "+n+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),M.videojs[n]}},e}(Z);ni.names.forEach(function(t){var e=ni[t];Xe.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Xe.prototype.featuresVolumeControl=!0;Xe.prototype.featuresMuteControl=!0;Xe.prototype.featuresFullscreenResize=!1;Xe.prototype.featuresPlaybackRate=!1;Xe.prototype.featuresProgressEvents=!1;Xe.prototype.featuresSourceset=!1;Xe.prototype.featuresTimeupdateEvents=!1;Xe.prototype.featuresNativeTextTracks=!1;Xe.prototype.featuresVideoFrameCallback=!1;Xe.withSourceHandlers=function(t){t.registerSourceHandler=function(i,r){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),r===void 0&&(r=n.length),n.splice(r,0,i)},t.canPlayType=function(i){for(var r=t.sourceHandlers||[],n,s=0;s<r.length;s++)if(n=r[s].canPlayType(i),n)return n;return""},t.selectSourceHandler=function(i,r){for(var n=t.sourceHandlers||[],s,a=0;a<n.length;a++)if(s=n[a].canHandleSource(i,r),s)return n[a];return null},t.canPlaySource=function(i,r){var n=t.selectSourceHandler(i,r);return n?n.canHandleSource(i,r):""};var e=["seekable","seeking","duration"];e.forEach(function(i){var r=this[i];typeof r=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(i){var r=t.selectSourceHandler(i,this.options_);r||(t.nativeSourceHandler?r=t.nativeSourceHandler:Re.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==t.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=r.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Z.registerComponent("Tech",Xe);Xe.registerTech("Tech",Xe);Xe.defaultTechOrder_=[];var Cs={},Lv={},cf={};function Oz(t,e){Cs[t]=Cs[t]||[],Cs[t].push(e)}function Az(t,e,i){t.setTimeout(function(){return fs(e,Cs[e.type],i,t)},1)}function Iz(t,e){t.forEach(function(i){return i.setTech&&i.setTech(e)})}function Dz(t,e,i){return t.reduceRight(_y(i),e[i]())}function Mz(t,e,i,r){return e[i](t.reduce(_y(i),r))}function Mx(t,e,i,r){r===void 0&&(r=null);var n="call"+ft(i),s=t.reduce(_y(n),r),a=s===cf,o=a?null:e[i](s);return Fz(t,i,o,a),o}var Lz={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Rz={setCurrentTime:1,setMuted:1,setVolume:1},Lx={play:1,pause:1};function _y(t){return function(e,i){return e===cf?cf:i[t]?i[t](e):e}}function Fz(t,e,i,r){for(var n=t.length-1;n>=0;n--){var s=t[n];s[e]&&s[e](r,i)}}function Nz(t){Lv[t.id()]=null}function Uz(t,e){var i=Lv[t.id()],r=null;if(i==null)return r=e(t),Lv[t.id()]=[[e,r]],r;for(var n=0;n<i.length;n++){var s=i[n],a=s[0],o=s[1];a===e&&(r=o)}return r===null&&(r=e(t),i.push([e,r])),r}function fs(t,e,i,r,n,s){t===void 0&&(t={}),e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s=!1);var a=e,o=a[0],l=a.slice(1);if(typeof o=="string")fs(t,Cs[o],i,r,n,s);else if(o){var u=Uz(r,o);if(!u.setSource)return n.push(u),fs(t,l,i,r,n,s);u.setSource(at({},t),function(c,d){if(c)return fs(t,l,i,r,n,s);n.push(u),fs(d,t.type===d.type?l:Cs[d.type],i,r,n,s)})}else l.length?fs(t,l,i,r,n,s):s?i(t,n):fs(t,Cs["*"],i,r,n,!0)}var Bz={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},df=function(e){e===void 0&&(e="");var i=yy(e),r=Bz[i.toLowerCase()];return r||""},zz=function(e,i){if(!i)return"";if(e.cache_.source.src===i&&e.cache_.source.type)return e.cache_.source.type;var r=e.cache_.sources.filter(function(o){return o.src===i});if(r.length)return r[0].type;for(var n=e.$$("source"),s=0;s<n.length;s++){var a=n[s];if(a.type&&a.src&&a.src===i)return a.type}return df(i)},jz=function t(e){if(Array.isArray(e)){var i=[];e.forEach(function(r){r=t(r),Array.isArray(r)?i=i.concat(r):dr(r)&&i.push(r)}),e=i}else typeof e=="string"&&e.trim()?e=[Rx({src:e})]:dr(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[Rx(e)]:e=[];return e};function Rx(t){if(!t.type){var e=df(t.src);e&&(t.type=e)}return t}var Vz=function(t){ce(e,t);function e(i,r,n){var s,a=Ze({createEl:!1},r);if(s=t.call(this,i,a,n)||this,!r.playerOptions.sources||r.playerOptions.sources.length===0)for(var o=0,l=r.playerOptions.techOrder;o<l.length;o++){var u=ft(l[o]),c=Xe.getTech(u);if(u||(c=Z.getComponent(u)),c&&c.isSupported()){i.loadTech_(u);break}}else i.src(r.playerOptions.sources);return s}return e}(Z);Z.registerComponent("MediaLoader",Vz);var Th=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.options_.controlText&&s.controlText(s.options_.controlText),s.handleMouseOver_=function(a){return s.handleMouseOver(a)},s.handleMouseOut_=function(a){return s.handleMouseOut(a)},s.handleClick_=function(a){return s.handleClick(a)},s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.emitTapEvents(),s.enable(),s}var i=e.prototype;return i.createEl=function(n,s,a){n===void 0&&(n="div"),s===void 0&&(s={}),a===void 0&&(a={}),s=at({className:this.buildCSSClass(),tabIndex:0},s),n==="button"&&Re.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),a=at({role:"button"},a),this.tabIndex_=s.tabIndex;var o=Be(n,s,a);return o.appendChild(Be("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},i.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},i.createControlTextEl=function(n){return this.controlTextEl_=Be("span",{className:"vjs-control-text"},{"aria-live":"polite"}),n&&n.appendChild(this.controlTextEl_),this.controlText(this.controlText_,n),this.controlTextEl_},i.controlText=function(n,s){if(s===void 0&&(s=this.el()),n===void 0)return this.controlText_||"Need Text";var a=this.localize(n);this.controlText_=n,$s(this.controlTextEl_,a),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&s.setAttribute("title",a)},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},i.handleLanguagechange=function(){this.controlText(this.controlText_)},i.handleClick=function(n){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(n){Ie.isEventKey(n,"Space")||Ie.isEventKey(n,"Enter")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,n)},e}(Z);Z.registerComponent("ClickableComponent",Th);var Hz=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.update(),s.update_=function(a){return s.update(a)},r.on("posterchange",s.update_),s}var i=e.prototype;return i.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},i.createEl=function(){var n=Be("div",{className:"vjs-poster",tabIndex:-1});return n},i.update=function(n){var s=this.player().poster();this.setSrc(s),s?this.show():this.hide()},i.setSrc=function(n){var s="";n&&(s='url("'+n+'")'),this.el_.style.backgroundImage=s},i.handleClick=function(n){if(!!this.player_.controls()){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((Vu||ju)&&s)&&this.player_.tech(!0).focus(),this.player_.paused()?In(this.player_.play()):this.player_.pause()}},e}(Th);Z.registerComponent("PosterImage",Hz);var qi="#222",Fx="#ccc",Wz={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Vp(t,e){var i;if(t.length===4)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)i=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function Hp(t,e,i){try{t.style[e]=i}catch{return}}var qz=function(t){ce(e,t);function e(r,n,s){var a;a=t.call(this,r,n,s)||this;var o=function(u){return a.updateDisplay(u)};return r.on("loadstart",function(l){return a.toggleDisplay(l)}),r.on("texttrackchange",o),r.on("loadedmetadata",function(l){return a.preselectTrack(l)}),r.ready(et(Ae(a),function(){if(r.tech_&&r.tech_.featuresNativeTextTracks){this.hide();return}r.on("fullscreenchange",o),r.on("playerresize",o),M.addEventListener("orientationchange",o),r.on("dispose",function(){return M.removeEventListener("orientationchange",o)});for(var l=this.options_.playerOptions.tracks||[],u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()})),a}var i=e.prototype;return i.preselectTrack=function(){for(var n={captions:1,subtitles:1},s=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,o,l,u,c=0;c<s.length;c++){var d=s[c];a&&a.enabled&&a.language&&a.language===d.language&&d.kind in n?d.kind===a.kind?u=d:u||(u=d):a&&!a.enabled?(u=null,o=null,l=null):d.default&&(d.kind==="descriptions"&&!o?o=d:d.kind in n&&!l&&(l=d))}u?u.mode="showing":l?l.mode="showing":o&&(o.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){typeof M.WebVTT=="function"&&M.WebVTT.processCues(M,[],this.el_)},i.updateDisplay=function(){var n=this.player_.textTracks(),s=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),s){for(var a=[],o=0;o<n.length;++o){var l=n[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}for(var u=null,c=null,d=n.length;d--;){var f=n[d];f.mode==="showing"&&(f.kind==="descriptions"?u=f:c=f)}c?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(c)):u&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(u))},i.updateDisplayState=function(n){for(var s=this.player_.textTrackSettings.getValues(),a=n.activeCues,o=a.length;o--;){var l=a[o];if(!!l){var u=l.displayState;if(s.color&&(u.firstChild.style.color=s.color),s.textOpacity&&Hp(u.firstChild,"color",Vp(s.color||"#fff",s.textOpacity)),s.backgroundColor&&(u.firstChild.style.backgroundColor=s.backgroundColor),s.backgroundOpacity&&Hp(u.firstChild,"backgroundColor",Vp(s.backgroundColor||"#000",s.backgroundOpacity)),s.windowColor&&(s.windowOpacity?Hp(u,"backgroundColor",Vp(s.windowColor,s.windowOpacity)):u.style.backgroundColor=s.windowColor),s.edgeStyle&&(s.edgeStyle==="dropshadow"?u.firstChild.style.textShadow="2px 2px 3px "+qi+", 2px 2px 4px "+qi+", 2px 2px 5px "+qi:s.edgeStyle==="raised"?u.firstChild.style.textShadow="1px 1px "+qi+", 2px 2px "+qi+", 3px 3px "+qi:s.edgeStyle==="depressed"?u.firstChild.style.textShadow="1px 1px "+Fx+", 0 1px "+Fx+", -1px -1px "+qi+", 0 -1px "+qi:s.edgeStyle==="uniform"&&(u.firstChild.style.textShadow="0 0 4px "+qi+", 0 0 4px "+qi+", 0 0 4px "+qi+", 0 0 4px "+qi)),s.fontPercent&&s.fontPercent!==1){var c=M.parseFloat(u.style.fontSize);u.style.fontSize=c*s.fontPercent+"px",u.style.height="auto",u.style.top="auto"}s.fontFamily&&s.fontFamily!=="default"&&(s.fontFamily==="small-caps"?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=Wz[s.fontFamily])}}},i.updateForTrack=function(n){if(Array.isArray(n)||(n=[n]),!(typeof M.WebVTT!="function"||n.every(function(p){return!p.activeCues}))){for(var s=[],a=0;a<n.length;++a)for(var o=n[a],l=0;l<o.activeCues.length;++l)s.push(o.activeCues[l]);M.WebVTT.processCues(M,s,this.el_);for(var u=0;u<n.length;++u){for(var c=n[u],d=0;d<c.activeCues.length;++d){var f=c.activeCues[d].displayState;rr(f,"vjs-text-track-cue"),rr(f,"vjs-text-track-cue-"+(c.language?c.language:u)),c.language&&Ja(f,"lang",c.language)}this.player_.textTrackSettings&&this.updateDisplayState(c)}}},e}(Z);Z.registerComponent("TextTrackDisplay",qz);var $z=function(t){ce(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var n=this.player_.isAudio(),s=this.localize(n?"Audio Player":"Video Player"),a=Be("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[s])}),o=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(a),o},e}(Z);Z.registerComponent("LoadingSpinner",$z);var _n=function(t){ce(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(n,s,a){s===void 0&&(s={}),a===void 0&&(a={}),n="button",s=at({className:this.buildCSSClass()},s),a=at({type:"button"},a);var o=Be(n,s,a);return o.appendChild(Be("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},i.addChild=function(n,s){s===void 0&&(s={});var a=this.constructor.name;return Re.warn("Adding an actionable (user controllable) child to a Button ("+a+") is not supported; use a ClickableComponent instead."),Z.prototype.addChild.call(this,n,s)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(n){if(Ie.isEventKey(n,"Space")||Ie.isEventKey(n,"Enter")){n.stopPropagation();return}t.prototype.handleKeyDown.call(this,n)},e}(Th);Z.registerComponent("Button",_n);var _P=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.mouseused_=!1,s.on("mousedown",function(a){return s.handleMouseDown(a)}),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(n){var s=this.player_.play();if(this.mouseused_&&n.clientX&&n.clientY){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;In(s),this.player_.tech(!0)&&!((Vu||ju)&&a)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),l=o&&o.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var u=function(){return l.focus()};Ul(s)?s.then(u,function(){}):this.setTimeout(u,1)},i.handleKeyDown=function(n){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,n)},i.handleMouseDown=function(n){this.mouseused_=!0},e}(_n);_P.prototype.controlText_="Play Video";Z.registerComponent("BigPlayButton",_P);var Gz=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.controlText(n&&n.controlText||s.localize("Close")),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(n){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(n){Ie.isEventKey(n,"Esc")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,n)},e}(_n);Z.registerComponent("CloseButton",Gz);var bP=function(t){ce(e,t);function e(r,n){var s;return n===void 0&&(n={}),s=t.call(this,r,n)||this,n.replay=n.replay===void 0||n.replay,s.on(r,"play",function(a){return s.handlePlay(a)}),s.on(r,"pause",function(a){return s.handlePause(a)}),n.replay&&s.on(r,"ended",function(a){return s.handleEnded(a)}),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(n){this.player_.paused()?In(this.player_.play()):this.player_.pause()},i.handleSeeked=function(n){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(n):this.handlePlay(n)},i.handlePlay=function(n){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(n){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(n){var s=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(a){return s.handleSeeked(a)})},e}(_n);bP.prototype.controlText_="Play";Z.registerComponent("PlayToggle",bP);var TP=function(e,i){e=e<0?0:e;var r=Math.floor(e%60),n=Math.floor(e/60%60),s=Math.floor(e/3600),a=Math.floor(i/60%60),o=Math.floor(i/3600);return(isNaN(e)||e===1/0)&&(s=n=r="-"),s=s>0||o>0?s+":":"",n=((s||a>=10)&&n<10?"0"+n:n)+":",r=r<10?"0"+r:r,s+n+r},by=TP;function Xz(t){by=t}function Kz(){by=TP}function io(t,e){return e===void 0&&(e=t),by(t,e)}var To=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.on(r,["timeupdate","ended"],function(a){return s.updateContent(a)}),s.updateTextNode_(),s}var i=e.prototype;return i.createEl=function(){var n=this.buildCSSClass(),s=t.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control"}),a=Be("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return s.appendChild(a),this.contentEl_=Be("span",{className:n+"-display"},{"aria-live":"off",role:"presentation"}),s.appendChild(this.contentEl_),s},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(n){var s=this;n===void 0&&(n=0),n=io(n),this.formattedTime_!==n&&(this.formattedTime_=n,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!s.contentEl_){var a=s.textNode_;a&&s.contentEl_.firstChild!==a&&(a=null,Re.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),s.textNode_=se.createTextNode(s.formattedTime_),s.textNode_&&(a?s.contentEl_.replaceChild(s.textNode_,a):s.contentEl_.appendChild(s.textNode_))}}))},i.updateContent=function(n){},e}(Z);To.prototype.labelText_="Time";To.prototype.controlText_="Time";Z.registerComponent("TimeDisplay",To);var Ty=function(t){ce(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(n){var s;this.player_.ended()?s=this.player_.duration():s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(s)},e}(To);Ty.prototype.labelText_="Current Time";Ty.prototype.controlText_="Current Time";Z.registerComponent("CurrentTimeDisplay",Ty);var xy=function(t){ce(e,t);function e(r,n){var s;s=t.call(this,r,n)||this;var a=function(l){return s.updateContent(l)};return s.on(r,"durationchange",a),s.on(r,"loadstart",a),s.on(r,"loadedmetadata",a),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(n){var s=this.player_.duration();this.updateTextNode_(s)},e}(To);xy.prototype.labelText_="Duration";xy.prototype.controlText_="Duration";Z.registerComponent("DurationDisplay",xy);var Qz=function(t){ce(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),s=t.prototype.createEl.call(this,"div"),a=t.prototype.createEl.call(this,"span",{textContent:"/"});return s.appendChild(a),n.appendChild(s),n},e}(Z);Z.registerComponent("TimeDivider",Qz);var Sy=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.on(r,"durationchange",function(a){return s.updateContent(a)}),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var n=t.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&n.insertBefore(Be("span",{},{"aria-hidden":!0},"-"),this.contentEl_),n},i.updateContent=function(n){if(typeof this.player_.duration()=="number"){var s;this.player_.ended()?s=0:this.player_.remainingTimeDisplay?s=this.player_.remainingTimeDisplay():s=this.player_.remainingTime(),this.updateTextNode_(s)}},e}(To);Sy.prototype.labelText_="Remaining Time";Sy.prototype.controlText_="Remaining Time";Z.registerComponent("RemainingTimeDisplay",Sy);var Yz=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.updateShowing(),s.on(s.player(),"durationchange",function(a){return s.updateShowing(a)}),s}var i=e.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Be("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Be("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(se.createTextNode(this.localize("LIVE"))),n.appendChild(this.contentEl_),n},i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.updateShowing=function(n){this.player().duration()===1/0?this.show():this.hide()},e}(Z);Z.registerComponent("LiveDisplay",Yz);var xP=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.updateLiveEdgeStatus(),s.player_.liveTracker&&(s.updateLiveEdgeStatusHandler_=function(a){return s.updateLiveEdgeStatus(a)},s.on(s.player_.liveTracker,"liveedgechange",s.updateLiveEdgeStatusHandler_)),s}var i=e.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Be("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),n.appendChild(this.textEl_),n},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}(_n);xP.prototype.controlText_="Seek to live, currently playing live";Z.registerComponent("SeekToLive",xP);var xh=function(e,i,r){return e=Number(e),Math.min(r,Math.max(i,isNaN(e)?i:e))},wy=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.handleMouseDown_=function(a){return s.handleMouseDown(a)},s.handleMouseUp_=function(a){return s.handleMouseUp(a)},s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.handleClick_=function(a){return s.handleClick(a)},s.handleMouseMove_=function(a){return s.handleMouseMove(a)},s.update_=function(a){return s.update(a)},s.bar=s.getChild(s.options_.barName),s.vertical(!!s.options_.vertical),s.enable(),s}var i=e.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){if(!!this.enabled()){var n=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(n,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s.className=s.className+" vjs-slider",s=at({tabIndex:0},s),a=at({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a),t.prototype.createEl.call(this,n,s,a)},i.handleMouseDown=function(n){var s=this.bar.el_.ownerDocument;n.type==="mousedown"&&n.preventDefault(),n.type==="touchstart"&&!mr&&n.preventDefault(),Yk(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(s,"mousemove",this.handleMouseMove_),this.on(s,"mouseup",this.handleMouseUp_),this.on(s,"touchmove",this.handleMouseMove_),this.on(s,"touchend",this.handleMouseUp_),this.handleMouseMove(n,!0)},i.handleMouseMove=function(n){},i.handleMouseUp=function(){var n=this.bar.el_.ownerDocument;Jk(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()},i.update=function(){var n=this;if(!(!this.el_||!this.bar)){var s=this.getProgress();return s===this.progress_||(this.progress_=s,this.requestNamedAnimationFrame("Slider#update",function(){var a=n.vertical()?"height":"width";n.bar.el().style[a]=(s*100).toFixed(2)+"%"})),s}},i.getProgress=function(){return Number(xh(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(n){var s=vh(this.el_,n);return this.vertical()?s.y:s.x},i.handleKeyDown=function(n){Ie.isEventKey(n,"Left")||Ie.isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepBack()):Ie.isEventKey(n,"Right")||Ie.isEventKey(n,"Up")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,n)},i.handleClick=function(n){n.stopPropagation(),n.preventDefault()},i.vertical=function(n){if(n===void 0)return this.vertical_||!1;this.vertical_=!!n,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(Z);Z.registerComponent("Slider",wy);var Wp=function(e,i){return xh(e/i*100,0,100).toFixed(2)+"%"},Jz=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.partEls_=[],s.on(r,"progress",function(a){return s.update(a)}),s}var i=e.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),s=Be("span",{className:"vjs-control-text"}),a=Be("span",{textContent:this.localize("Loaded")}),o=se.createTextNode(": ");return this.percentageEl_=Be("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),n.appendChild(s),s.appendChild(a),s.appendChild(o),s.appendChild(this.percentageEl_),n},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(n){var s=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var a=s.player_.liveTracker,o=s.player_.buffered(),l=a&&a.isLive()?a.seekableEnd():s.player_.duration(),u=s.player_.bufferedEnd(),c=s.partEls_,d=Wp(u,l);s.percent_!==d&&(s.el_.style.width=d,$s(s.percentageEl_,d),s.percent_=d);for(var f=0;f<o.length;f++){var p=o.start(f),g=o.end(f),b=c[f];b||(b=s.el_.appendChild(Be()),c[f]=b),!(b.dataset.start===p&&b.dataset.end===g)&&(b.dataset.start=p,b.dataset.end=g,b.style.left=Wp(p,u),b.style.width=Wp(g-p,u))}for(var y=c.length;y>o.length;y--)s.el_.removeChild(c[y-1]);c.length=o.length})},e}(Z);Z.registerComponent("LoadProgressBar",Jz);var Zz=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.update=fr(et(Ae(s),s.update),bn),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(n,s,a){var o=_u(this.el_),l=Za(this.player_.el()),u=n.width*s;if(!(!l||!o)){var c=n.left-l.left+u,d=n.width-u+(l.right-n.right),f=o.width/2;c<f?f+=f-c:d<f&&(f=d),f<0?f=0:f>o.width&&(f=o.width),f=Math.round(f),this.el_.style.right="-"+f+"px",this.write(a)}},i.write=function(n){$s(this.el_,n)},i.updateTime=function(n,s,a,o){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var u,c=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var d=l.player_.liveTracker.liveWindow(),f=d-s*d;u=(f<1?"":"-")+io(f,d)}else u=io(a,c);l.update(n,s,u),o&&o()})},e}(Z);Z.registerComponent("TimeTooltip",Zz);var Ey=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.update=fr(et(Ae(s),s.update),bn),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(n,s){var a=this.getChild("timeTooltip");if(!!a){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();a.updateTime(n,s,o)}},e}(Z);Ey.prototype.options_={children:[]};!di&&!pr&&Ey.prototype.options_.children.push("timeTooltip");Z.registerComponent("PlayProgressBar",Ey);var SP=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.update=fr(et(Ae(s),s.update),bn),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(n,s){var a=this,o=s*this.player_.duration();this.getChild("timeTooltip").updateTime(n,s,o,function(){a.el_.style.left=n.width*s+"px"})},e}(Z);SP.prototype.options_={children:["timeTooltip"]};Z.registerComponent("MouseTimeDisplay",SP);var Bc=5,Nx=12,Cy=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.setEventHandlers_(),s}var i=e.prototype;return i.setEventHandlers_=function(){var n=this;this.update_=et(this,this.update),this.update=fr(this.update_,bn),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(s){return n.enableInterval_(s)},this.disableIntervalHandler_=function(s){return n.disableInterval_(s)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in se&&"visibilityState"in se&&this.on(se,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(n){se.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(n)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,bn))},i.disableInterval_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&n&&n.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(n){var s=this;if(se.visibilityState!=="hidden"){var a=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=s.player_.ended()?s.player_.duration():s.getCurrentTime_(),l=s.player_.liveTracker,u=s.player_.duration();l&&l.isLive()&&(u=s.player_.liveTracker.liveCurrentTime()),s.percent_!==a&&(s.el_.setAttribute("aria-valuenow",(a*100).toFixed(2)),s.percent_=a),(s.currentTime_!==o||s.duration_!==u)&&(s.el_.setAttribute("aria-valuetext",s.localize("progress bar timing: currentTime={1} duration={2}",[io(o,u),io(u,u)],"{1} of {2}")),s.currentTime_=o,s.duration_=u),s.bar&&s.bar.update(Za(s.el()),s.getProgress())}),a}},i.userSeek_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(n)},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var n=this.getCurrentTime_(),s,a=this.player_.liveTracker;return a&&a.isLive()?(s=(n-a.seekableStart())/a.liveWindow(),a.atLiveEdge()&&(s=1)):s=n/this.player_.duration(),s},i.handleMouseDown=function(n){!bu(n)||(n.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,n))},i.handleMouseMove=function(n,s){if(s===void 0&&(s=!1),!!bu(n)){!s&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var a,o=this.calculateDistance(n),l=this.player_.liveTracker;if(!l||!l.isLive())a=o*this.player_.duration(),a===this.player_.duration()&&(a=a-.1);else{if(o>=.99){l.seekToLiveEdge();return}var u=l.seekableStart(),c=l.liveCurrentTime();if(a=u+o*l.liveWindow(),a>=c&&(a=c),a<=u&&(a=u+.1),a===1/0)return}this.userSeek_(a)}},i.enable=function(){t.prototype.enable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.show()},i.disable=function(){t.prototype.disable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.hide()},i.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),n&&n.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?In(this.player_.play()):this.update_()},i.stepForward=function(){this.userSeek_(this.player_.currentTime()+Bc)},i.stepBack=function(){this.userSeek_(this.player_.currentTime()-Bc)},i.handleAction=function(n){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(n){var s=this.player_.liveTracker;if(Ie.isEventKey(n,"Space")||Ie.isEventKey(n,"Enter"))n.preventDefault(),n.stopPropagation(),this.handleAction(n);else if(Ie.isEventKey(n,"Home"))n.preventDefault(),n.stopPropagation(),this.userSeek_(0);else if(Ie.isEventKey(n,"End"))n.preventDefault(),n.stopPropagation(),s&&s.isLive()?this.userSeek_(s.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Ie(n))){n.preventDefault(),n.stopPropagation();var a=(Ie.codes[Ie(n)]-Ie.codes["0"])*10/100;s&&s.isLive()?this.userSeek_(s.seekableStart()+s.liveWindow()*a):this.userSeek_(this.player_.duration()*a)}else Ie.isEventKey(n,"PgDn")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()-Bc*Nx)):Ie.isEventKey(n,"PgUp")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()+Bc*Nx)):t.prototype.handleKeyDown.call(this,n)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in se&&"visibilityState"in se&&this.off(se,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(wy);Cy.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!di&&!pr&&Cy.prototype.options_.children.splice(1,0,"mouseTimeDisplay");Z.registerComponent("SeekBar",Cy);var wP=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.handleMouseMove=fr(et(Ae(s),s.handleMouseMove),bn),s.throttledHandleMouseSeek=fr(et(Ae(s),s.handleMouseSeek),bn),s.handleMouseUpHandler_=function(a){return s.handleMouseUp(a)},s.handleMouseDownHandler_=function(a){return s.handleMouseDown(a)},s.enable(),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(n){var s=this.getChild("seekBar");if(!!s){var a=s.getChild("playProgressBar"),o=s.getChild("mouseTimeDisplay");if(!(!a&&!o)){var l=s.el(),u=_u(l),c=vh(l,n).x;c=xh(c,0,1),o&&o.update(u,c),a&&a.update(u,s.getProgress())}}},i.handleMouseSeek=function(n){var s=this.getChild("seekBar");s&&s.handleMouseMove(n)},i.enabled=function(){return this.enabled_},i.disable=function(){if(this.children().forEach(function(s){return s.disable&&s.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var n=this.getChild("seekBar");this.player_.scrubbing(!1),n.videoWasPlaying&&In(this.player_.play())}},i.enable=function(){this.children().forEach(function(n){return n.enable&&n.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.removeListenersAddedOnMousedownAndTouchstart=function(){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseSeek),this.off(n,"touchmove",this.throttledHandleMouseSeek),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)},i.handleMouseDown=function(n){var s=this.el_.ownerDocument,a=this.getChild("seekBar");a&&a.handleMouseDown(n),this.on(s,"mousemove",this.throttledHandleMouseSeek),this.on(s,"touchmove",this.throttledHandleMouseSeek),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(n){var s=this.getChild("seekBar");s&&s.handleMouseUp(n),this.removeListenersAddedOnMousedownAndTouchstart()},e}(Z);wP.prototype.options_={children:["seekBar"]};Z.registerComponent("ProgressControl",wP);var EP=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.on(r,["enterpictureinpicture","leavepictureinpicture"],function(a){return s.handlePictureInPictureChange(a)}),s.on(r,["disablepictureinpicturechanged","loadedmetadata"],function(a){return s.handlePictureInPictureEnabledChange(a)}),s.on(r,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var a=r.currentType().substring(0,5)==="audio";a||r.audioPosterMode()||r.audioOnlyMode()?(r.isInPictureInPicture()&&r.exitPictureInPicture(),s.hide()):s.show()}),s.disable(),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){se.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},i.handlePictureInPictureChange=function(n){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(n){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(_n);EP.prototype.controlText_="Picture-in-Picture";Z.registerComponent("PictureInPictureToggle",EP);var CP=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.on(r,"fullscreenchange",function(a){return s.handleFullscreenChange(a)}),se[r.fsApi_.fullscreenEnabled]===!1&&s.disable(),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(n){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(n){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(_n);CP.prototype.controlText_="Fullscreen";Z.registerComponent("FullscreenToggle",CP);var e6=function(e,i){i.tech_&&!i.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(i,"loadstart",function(){i.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},t6=function(t){ce(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return n.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),n},e}(Z);Z.registerComponent("VolumeLevel",t6);var i6=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.update=fr(et(Ae(s),s.update),bn),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},i.update=function(n,s,a,o){if(!a){var l=Za(this.el_),u=Za(this.player_.el()),c=n.width*s;if(!u||!l)return;var d=n.left-u.left+c,f=n.width-c+(u.right-n.right),p=l.width/2;d<p?p+=p-d:f<p&&(p=f),p<0?p=0:p>l.width&&(p=l.width),this.el_.style.right="-"+p+"px"}this.write(o+"%")},i.write=function(n){$s(this.el_,n)},i.updateVolume=function(n,s,a,o,l){var u=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){u.update(n,s,a,o.toFixed(0)),l&&l()})},e}(Z);Z.registerComponent("VolumeLevelTooltip",i6);var kP=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.update=fr(et(Ae(s),s.update),bn),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(n,s,a){var o=this,l=100*s;this.getChild("volumeLevelTooltip").updateVolume(n,s,a,l,function(){a?o.el_.style.bottom=n.height*s+"px":o.el_.style.left=n.width*s+"px"})},e}(Z);kP.prototype.options_={children:["volumeLevelTooltip"]};Z.registerComponent("MouseVolumeLevelDisplay",kP);var Sh=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.on("slideractive",function(a){return s.updateLastVolume_(a)}),s.on(r,"volumechange",function(a){return s.updateARIAAttributes(a)}),r.ready(function(){return s.updateARIAAttributes()}),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(n){!bu(n)||t.prototype.handleMouseDown.call(this,n)},i.handleMouseMove=function(n){var s=this.getChild("mouseVolumeLevelDisplay");if(s){var a=this.el(),o=Za(a),l=this.vertical(),u=vh(a,n);u=l?u.y:u.x,u=xh(u,0,1),s.update(o,u,l)}!bu(n)||(this.checkMuted(),this.player_.volume(this.calculateDistance(n)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(n){var s=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",s),this.el_.setAttribute("aria-valuetext",s+"%")},i.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},i.updateLastVolume_=function(){var n=this,s=this.player_.volume();this.one("sliderinactive",function(){n.player_.volume()===0&&n.player_.lastVolume_(s)})},e}(wy);Sh.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!di&&!pr&&Sh.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Sh.prototype.playerEvent="volumechange";Z.registerComponent("VolumeBar",Sh);var PP=function(t){ce(e,t);function e(r,n){var s;return n===void 0&&(n={}),n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||gu(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),s=t.call(this,r,n)||this,e6(Ae(s),r),s.throttledHandleMouseMove=fr(et(Ae(s),s.handleMouseMove),bn),s.handleMouseUpHandler_=function(a){return s.handleMouseUp(a)},s.on("mousedown",function(a){return s.handleMouseDown(a)}),s.on("touchstart",function(a){return s.handleMouseDown(a)}),s.on("mousemove",function(a){return s.handleMouseMove(a)}),s.on(s.volumeBar,["focus","slideractive"],function(){s.volumeBar.addClass("vjs-slider-active"),s.addClass("vjs-slider-active"),s.trigger("slideractive")}),s.on(s.volumeBar,["blur","sliderinactive"],function(){s.volumeBar.removeClass("vjs-slider-active"),s.removeClass("vjs-slider-active"),s.trigger("sliderinactive")}),s}var i=e.prototype;return i.createEl=function(){var n="vjs-volume-horizontal";return this.options_.vertical&&(n="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+n})},i.handleMouseDown=function(n){var s=this.el_.ownerDocument;this.on(s,"mousemove",this.throttledHandleMouseMove),this.on(s,"touchmove",this.throttledHandleMouseMove),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(n){var s=this.el_.ownerDocument;this.off(s,"mousemove",this.throttledHandleMouseMove),this.off(s,"touchmove",this.throttledHandleMouseMove),this.off(s,"mouseup",this.handleMouseUpHandler_),this.off(s,"touchend",this.handleMouseUpHandler_)},i.handleMouseMove=function(n){this.volumeBar.handleMouseMove(n)},e}(Z);PP.prototype.options_={children:["volumeBar"]};Z.registerComponent("VolumeControl",PP);var n6=function(e,i){i.tech_&&!i.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(i,"loadstart",function(){i.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},OP=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,n6(Ae(s),r),s.on(r,["loadstart","volumechange"],function(a){return s.update(a)}),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(n){var s=this.player_.volume(),a=this.player_.lastVolume_();if(s===0){var o=a<.1?.1:a;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(n){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var n=this.player_.volume(),s=3;di&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),n===0||this.player_.muted()?s=0:n<.33?s=1:n<.67&&(s=2);for(var a=0;a<4;a++)Hu(this.el_,"vjs-vol-"+a);rr(this.el_,"vjs-vol-"+s)},i.updateControlText_=function(){var n=this.player_.muted()||this.player_.volume()===0,s=n?"Unmute":"Mute";this.controlText()!==s&&this.controlText(s)},e}(_n);OP.prototype.controlText_="Mute";Z.registerComponent("MuteToggle",OP);var AP=function(t){ce(e,t);function e(r,n){var s;return n===void 0&&(n={}),typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||gu(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),s=t.call(this,r,n)||this,s.handleKeyPressHandler_=function(a){return s.handleKeyPress(a)},s.on(r,["loadstart"],function(a){return s.volumePanelState_(a)}),s.on(s.muteToggle,"keyup",function(a){return s.handleKeyPress(a)}),s.on(s.volumeControl,"keyup",function(a){return s.handleVolumeControlKeyUp(a)}),s.on("keydown",function(a){return s.handleKeyPress(a)}),s.on("mouseover",function(a){return s.handleMouseOver(a)}),s.on("mouseout",function(a){return s.handleMouseOut(a)}),s.on(s.volumeControl,["slideractive"],s.sliderActive_),s.on(s.volumeControl,["sliderinactive"],s.sliderInactive_),s}var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var n="vjs-volume-panel-horizontal";return this.options_.inline||(n="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+n})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(n){Ie.isEventKey(n,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(n){this.addClass("vjs-hover"),zi(se,"keyup",this.handleKeyPressHandler_)},i.handleMouseOut=function(n){this.removeClass("vjs-hover"),Xt(se,"keyup",this.handleKeyPressHandler_)},i.handleKeyPress=function(n){Ie.isEventKey(n,"Esc")&&this.handleMouseOut()},e}(Z);AP.prototype.options_={children:["muteToggle","volumeControl"]};Z.registerComponent("VolumePanel",AP);var IP=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,n&&(s.menuButton_=n.menuButton),s.focusedChild_=-1,s.on("keydown",function(a){return s.handleKeyDown(a)}),s.boundHandleBlur_=function(a){return s.handleBlur(a)},s.boundHandleTapClick_=function(a){return s.handleTapClick(a)},s}var i=e.prototype;return i.addEventListenerForItem=function(n){n instanceof Z&&(this.on(n,"blur",this.boundHandleBlur_),this.on(n,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(n){n instanceof Z&&(this.off(n,"blur",this.boundHandleBlur_),this.off(n,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(n){typeof n=="string"&&(n=this.getChild(n)),this.removeEventListenerForItem(n),t.prototype.removeChild.call(this,n)},i.addItem=function(n){var s=this.addChild(n);s&&this.addEventListenerForItem(s)},i.createEl=function(){var n=this.options_.contentElType||"ul";this.contentEl_=Be(n,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var s=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return s.appendChild(this.contentEl_),zi(s,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),s},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(n){var s=n.relatedTarget||se.activeElement;if(!this.children().some(function(o){return o.el()===s})){var a=this.menuButton_;a&&a.buttonPressed_&&s!==a.el().firstChild&&a.unpressButton()}},i.handleTapClick=function(n){if(this.menuButton_){this.menuButton_.unpressButton();var s=this.children();if(!Array.isArray(s))return;var a=s.filter(function(o){return o.el()===n.target})[0];if(!a)return;a.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},i.handleKeyDown=function(n){Ie.isEventKey(n,"Left")||Ie.isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):(Ie.isEventKey(n,"Right")||Ie.isEventKey(n,"Up"))&&(n.preventDefault(),n.stopPropagation(),this.stepBack())},i.stepForward=function(){var n=0;this.focusedChild_!==void 0&&(n=this.focusedChild_+1),this.focus(n)},i.stepBack=function(){var n=0;this.focusedChild_!==void 0&&(n=this.focusedChild_-1),this.focus(n)},i.focus=function(n){n===void 0&&(n=0);var s=this.children().slice(),a=s.length&&s[0].hasClass("vjs-menu-title");a&&s.shift(),s.length>0&&(n<0?n=0:n>=s.length&&(n=s.length-1),this.focusedChild_=n,s[n].el_.focus())},e}(Z);Z.registerComponent("Menu",IP);var ky=function(t){ce(e,t);function e(r,n){var s;n===void 0&&(n={}),s=t.call(this,r,n)||this,s.menuButton_=new _n(r,n),s.menuButton_.controlText(s.controlText_),s.menuButton_.el_.setAttribute("aria-haspopup","true");var a=_n.prototype.buildCSSClass();s.menuButton_.el_.className=s.buildCSSClass()+" "+a,s.menuButton_.removeClass("vjs-control"),s.addChild(s.menuButton_),s.update(),s.enabled_=!0;var o=function(u){return s.handleClick(u)};return s.handleMenuKeyUp_=function(l){return s.handleMenuKeyUp(l)},s.on(s.menuButton_,"tap",o),s.on(s.menuButton_,"click",o),s.on(s.menuButton_,"keydown",function(l){return s.handleKeyDown(l)}),s.on(s.menuButton_,"mouseenter",function(){s.addClass("vjs-hover"),s.menu.show(),zi(se,"keyup",s.handleMenuKeyUp_)}),s.on("mouseleave",function(l){return s.handleMouseLeave(l)}),s.on("keydown",function(l){return s.handleSubmenuKeyDown(l)}),s}var i=e.prototype;return i.update=function(){var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=n,this.addChild(n),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},i.createMenu=function(){var n=new IP(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var s=Be("li",{className:"vjs-menu-title",textContent:ft(this.options_.title),tabIndex:-1}),a=new Z(this.player_,{el:s});n.addItem(a)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)n.addItem(this.items[o]);return n},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var n="vjs-menu-button";this.options_.inline===!0?n+="-inline":n+="-popup";var s=_n.prototype.buildCSSClass();return"vjs-menu-button "+n+" "+s+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var n="vjs-menu-button";return this.options_.inline===!0?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(n,s){return s===void 0&&(s=this.menuButton_.el()),this.menuButton_.controlText(n,s)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(n){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(n){this.removeClass("vjs-hover"),Xt(se,"keyup",this.handleMenuKeyUp_)},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(n){Ie.isEventKey(n,"Esc")||Ie.isEventKey(n,"Tab")?(this.buttonPressed_&&this.unpressButton(),Ie.isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus())):(Ie.isEventKey(n,"Up")||Ie.isEventKey(n,"Down"))&&(this.buttonPressed_||(n.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(n){(Ie.isEventKey(n,"Esc")||Ie.isEventKey(n,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(n){this.handleSubmenuKeyDown(n)},i.handleSubmenuKeyDown=function(n){(Ie.isEventKey(n,"Esc")||Ie.isEventKey(n,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Ie.isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),di&&$k())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(Z);Z.registerComponent("MenuButton",ky);var Py=function(t){ce(e,t);function e(i,r){var n,s=r.tracks;if(n=t.call(this,i,r)||this,n.items.length<=1&&n.hide(),!s)return Ae(n);var a=et(Ae(n),n.update);return s.addEventListener("removetrack",a),s.addEventListener("addtrack",a),s.addEventListener("labelchange",a),n.player_.on("ready",a),n.player_.on("dispose",function(){s.removeEventListener("removetrack",a),s.removeEventListener("addtrack",a),s.removeEventListener("labelchange",a)}),n}return e}(ky);Z.registerComponent("TrackButton",Py);var r6=["Tab","Esc","Up","Down","Right","Left"],qu=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.selectable=n.selectable,s.isSelected_=n.selected||!1,s.multiSelectable=n.multiSelectable,s.selected(s.isSelected_),s.selectable?s.multiSelectable?s.el_.setAttribute("role","menuitemcheckbox"):s.el_.setAttribute("role","menuitemradio"):s.el_.setAttribute("role","menuitem"),s}var i=e.prototype;return i.createEl=function(n,s,a){this.nonIconControl=!0;var o=t.prototype.createEl.call(this,"li",at({className:"vjs-menu-item",tabIndex:-1},s),a);return o.replaceChild(Be("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},i.handleKeyDown=function(n){r6.some(function(s){return Ie.isEventKey(n,s)})||t.prototype.handleKeyDown.call(this,n)},i.handleClick=function(n){this.selected(!0)},i.selected=function(n){this.selectable&&(n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Th);Z.registerComponent("MenuItem",qu);var $u=function(t){ce(e,t);function e(r,n){var s,a=n.track,o=r.textTracks();n.label=a.label||a.language||"Unknown",n.selected=a.mode==="showing",s=t.call(this,r,n)||this,s.track=a,s.kinds=(n.kinds||[n.kind||s.track.kind]).filter(Boolean);var l=function(){for(var f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];s.handleTracksChange.apply(Ae(s),p)},u=function(){for(var f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];s.handleSelectedLanguageChange.apply(Ae(s),p)};if(r.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",u),s.on("dispose",function(){r.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",u)}),o.onchange===void 0){var c;s.on(["tap","click"],function(){if(typeof M.Event!="object")try{c=new M.Event("change")}catch{}c||(c=se.createEvent("Event"),c.initEvent("change",!0,!0)),o.dispatchEvent(c)})}return s.handleTracksChange(),s}var i=e.prototype;return i.handleClick=function(n){var s=this.track,a=this.player_.textTracks();if(t.prototype.handleClick.call(this,n),!!a)for(var o=0;o<a.length;o++){var l=a[o];this.kinds.indexOf(l.kind)!==-1&&(l===s?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},i.handleTracksChange=function(n){var s=this.track.mode==="showing";s!==this.isSelected_&&this.selected(s)},i.handleSelectedLanguageChange=function(n){if(this.track.mode==="showing"){var s=this.player_.cache_.selectedLanguage;if(s&&s.enabled&&s.language===this.track.language&&s.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(qu);Z.registerComponent("TextTrackMenuItem",$u);var DP=function(t){ce(e,t);function e(r,n){return n.track={player:r,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,r,n)||this}var i=e.prototype;return i.handleTracksChange=function(n){for(var s=this.player().textTracks(),a=!0,o=0,l=s.length;o<l;o++){var u=s[o];if(this.options_.kinds.indexOf(u.kind)>-1&&u.mode==="showing"){a=!1;break}}a!==this.isSelected_&&this.selected(a)},i.handleSelectedLanguageChange=function(n){for(var s=this.player().textTracks(),a=!0,o=0,l=s.length;o<l;o++){var u=s[o];if(["captions","descriptions","subtitles"].indexOf(u.kind)>-1&&u.mode==="showing"){a=!1;break}}a&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}($u);Z.registerComponent("OffTextTrackMenuItem",DP);var xo=function(t){ce(e,t);function e(r,n){return n===void 0&&(n={}),n.tracks=r.textTracks(),t.call(this,r,n)||this}var i=e.prototype;return i.createItems=function(n,s){n===void 0&&(n=[]),s===void 0&&(s=$u);var a;this.label_&&(a=this.label_+" off"),n.push(new DP(this.player_,{kinds:this.kinds_,kind:this.kind_,label:a})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<o.length;l++){var u=o[l];if(this.kinds_.indexOf(u.kind)>-1){var c=new s(this.player_,{track:u,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});c.addClass("vjs-"+u.kind+"-menu-item"),n.push(c)}}return n},e}(Py);Z.registerComponent("TextTrackButton",xo);var MP=function(t){ce(e,t);function e(r,n){var s,a=n.track,o=n.cue,l=r.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=l&&l<o.endTime,s=t.call(this,r,n)||this,s.track=a,s.cue=o,s}var i=e.prototype;return i.handleClick=function(n){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(qu);Z.registerComponent("ChaptersTrackMenuItem",MP);var Oy=function(t){ce(e,t);function e(r,n,s){var a;return a=t.call(this,r,n,s)||this,a.selectCurrentItem_=function(){a.items.forEach(function(o){o.selected(a.track_.activeCues[0]===o.cue)})},a}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},i.update=function(n){if(!(n&&n.track&&n.track.kind!=="chapters")){var s=this.findChaptersTrack();s!==this.track_?(this.setTrack(s),t.prototype.update.call(this)):(!this.items||s&&s.cues&&s.cues.length!==this.items.length)&&t.prototype.update.call(this)}},i.setTrack=function(n){if(this.track_!==n){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=n,this.track_){this.track_.mode="hidden";var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},i.findChaptersTrack=function(){for(var n=this.player_.textTracks()||[],s=n.length-1;s>=0;s--){var a=n[s];if(a.kind===this.kind_)return a}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ft(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var n=[];if(!this.track_)return n;var s=this.track_.cues;if(!s)return n;for(var a=0,o=s.length;a<o;a++){var l=s[a],u=new MP(this.player_,{track:this.track_,cue:l});n.push(u)}return n},e}(xo);Oy.prototype.kind_="chapters";Oy.prototype.controlText_="Chapters";Z.registerComponent("ChaptersButton",Oy);var Ay=function(t){ce(e,t);function e(r,n,s){var a;a=t.call(this,r,n,s)||this;var o=r.textTracks(),l=et(Ae(a),a.handleTracksChange);return o.addEventListener("change",l),a.on("dispose",function(){o.removeEventListener("change",l)}),a}var i=e.prototype;return i.handleTracksChange=function(n){for(var s=this.player().textTracks(),a=!1,o=0,l=s.length;o<l;o++){var u=s[o];if(u.kind!==this.kind_&&u.mode==="showing"){a=!0;break}}a?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(xo);Ay.prototype.kind_="descriptions";Ay.prototype.controlText_="Descriptions";Z.registerComponent("DescriptionsButton",Ay);var Iy=function(t){ce(e,t);function e(r,n,s){return t.call(this,r,n,s)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(xo);Iy.prototype.kind_="subtitles";Iy.prototype.controlText_="Subtitles";Z.registerComponent("SubtitlesButton",Iy);var Dy=function(t){ce(e,t);function e(r,n){var s;return n.track={player:r,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",s=t.call(this,r,n)||this,s.addClass("vjs-texttrack-settings"),s.controlText(", opens "+n.kind+" settings dialog"),s}var i=e.prototype;return i.handleClick=function(n){this.player().getChild("textTrackSettings").open()},e}($u);Z.registerComponent("CaptionSettingsMenuItem",Dy);var My=function(t){ce(e,t);function e(r,n,s){return t.call(this,r,n,s)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new Dy(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,n)},e}(xo);My.prototype.kind_="captions";My.prototype.controlText_="Captions";Z.registerComponent("CaptionsButton",My);var LP=function(t){ce(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(n,s,a){var o=t.prototype.createEl.call(this,n,s,a),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(Be("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(Be("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},e}($u);Z.registerComponent("SubsCapsMenuItem",LP);var Ly=function(t){ce(e,t);function e(r,n){var s;return n===void 0&&(n={}),s=t.call(this,r,n)||this,s.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(s.player_.language_)>-1&&(s.label_="captions"),s.menuButton_.controlText(ft(s.label_)),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new Dy(this.player_,{kind:this.label_})),this.hideThreshold_+=1),n=t.prototype.createItems.call(this,n,LP),n},e}(xo);Ly.prototype.kinds_=["captions","subtitles"];Ly.prototype.controlText_="Subtitles";Z.registerComponent("SubsCapsButton",Ly);var RP=function(t){ce(e,t);function e(r,n){var s,a=n.track,o=r.audioTracks();n.label=a.label||a.language||"Unknown",n.selected=a.enabled,s=t.call(this,r,n)||this,s.track=a,s.addClass("vjs-"+a.kind+"-menu-item");var l=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];s.handleTracksChange.apply(Ae(s),d)};return o.addEventListener("change",l),s.on("dispose",function(){o.removeEventListener("change",l)}),s}var i=e.prototype;return i.createEl=function(n,s,a){var o=t.prototype.createEl.call(this,n,s,a),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(Be("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(Be("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),o},i.handleClick=function(n){if(t.prototype.handleClick.call(this,n),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var s=this.player_.audioTracks(),a=0;a<s.length;a++){var o=s[a];o!==this.track&&(o.enabled=o===this.track)}},i.handleTracksChange=function(n){this.selected(this.track.enabled)},e}(qu);Z.registerComponent("AudioTrackMenuItem",RP);var FP=function(t){ce(e,t);function e(r,n){return n===void 0&&(n={}),n.tracks=r.audioTracks(),t.call(this,r,n)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(n){n===void 0&&(n=[]),this.hideThreshold_=1;for(var s=this.player_.audioTracks(),a=0;a<s.length;a++){var o=s[a];n.push(new RP(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return n},e}(Py);FP.prototype.controlText_="Audio Track";Z.registerComponent("AudioTrackButton",FP);var Ry=function(t){ce(e,t);function e(r,n){var s,a=n.rate,o=parseFloat(a,10);return n.label=a,n.selected=o===r.playbackRate(),n.selectable=!0,n.multiSelectable=!1,s=t.call(this,r,n)||this,s.label=a,s.rate=o,s.on(r,"ratechange",function(l){return s.update(l)}),s}var i=e.prototype;return i.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(n){this.selected(this.player().playbackRate()===this.rate)},e}(qu);Ry.prototype.contentElType="button";Z.registerComponent("PlaybackRateMenuItem",Ry);var NP=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.menuButton_.el_.setAttribute("aria-describedby",s.labelElId_),s.updateVisibility(),s.updateLabel(),s.on(r,"loadstart",function(a){return s.updateVisibility(a)}),s.on(r,"ratechange",function(a){return s.updateLabel(a)}),s.on(r,"playbackrateschange",function(a){return s.handlePlaybackRateschange(a)}),s}var i=e.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Be("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),n.appendChild(this.labelEl_),n},i.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){for(var n=this.playbackRates(),s=[],a=n.length-1;a>=0;a--)s.push(new Ry(this.player(),{rate:n[a]+"x"}));return s},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(n){var s=this.player().playbackRate(),a=this.playbackRates(),o=a.indexOf(s),l=(o+1)%a.length;this.player().playbackRate(a[l])},i.handlePlaybackRateschange=function(n){this.update()},i.playbackRates=function(){var n=this.player();return n.playbackRates&&n.playbackRates()||[]},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(n){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(n){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(ky);NP.prototype.controlText_="Playback Rate";Z.registerComponent("PlaybackRateMenuButton",NP);var UP=function(t){ce(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(n,s,a){return n===void 0&&(n="div"),s===void 0&&(s={}),a===void 0&&(a={}),s.className||(s.className=this.buildCSSClass()),t.prototype.createEl.call(this,n,s,a)},e}(Z);Z.registerComponent("Spacer",UP);var s6=function(t){ce(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}(UP);Z.registerComponent("CustomControlSpacer",s6);var ff=function(t){ce(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(Z);ff.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in se&&ff.prototype.options_.children.splice(ff.prototype.options_.children.length-1,0,"pictureInPictureToggle");Z.registerComponent("ControlBar",ff);var BP=function(t){ce(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.on(r,"error",function(a){return s.open(a)}),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var n=this.player().error();return n?this.localize(n.message):""},e}(_o);BP.prototype.options_=nn({},_o.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Z.registerComponent("ErrorDisplay",BP);var qp="vjs-text-track-settings",Ux=["#000","Black"],Bx=["#00F","Blue"],zx=["#0FF","Cyan"],jx=["#0F0","Green"],Vx=["#F0F","Magenta"],Hx=["#F00","Red"],Wx=["#FFF","White"],qx=["#FF0","Yellow"],$p=["1","Opaque"],Gp=["0.5","Semi-Transparent"],$x=["0","Transparent"],hs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ux,Wx,Hx,jx,Bx,qx,Vx,zx]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[$p,Gp,$x]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Wx,Ux,Hx,jx,Bx,qx,Vx,zx]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[$p,Gp]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[$x,Gp,$p]}};hs.windowColor.options=hs.backgroundColor.options;function zP(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function a6(t,e){var i=t.options[t.options.selectedIndex].value;return zP(i,e)}function o6(t,e,i){if(!!e){for(var r=0;r<t.options.length;r++)if(zP(t.options[r].value,i)===e){t.selectedIndex=r;break}}}var l6=function(t){ce(e,t);function e(r,n){var s;return n.temporary=!1,s=t.call(this,r,n)||this,s.updateDisplay=s.updateDisplay.bind(Ae(s)),s.fill(),s.hasBeenOpened_=s.hasBeenFilled_=!0,s.endDialog=Be("p",{className:"vjs-control-text",textContent:s.localize("End of dialog window.")}),s.el().appendChild(s.endDialog),s.setDefaults(),n.persistTextTrackSettings===void 0&&(s.options_.persistTextTrackSettings=s.options_.playerOptions.persistTextTrackSettings),s.on(s.$(".vjs-done-button"),"click",function(){s.saveSettings(),s.close()}),s.on(s.$(".vjs-default-button"),"click",function(){s.setDefaults(),s.updateDisplay()}),La(hs,function(a){s.on(s.$(a.selector),"change",s.updateDisplay)}),s.options_.persistTextTrackSettings&&s.restoreSettings(),s}var i=e.prototype;return i.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},i.createElSelect_=function(n,s,a){var o=this;s===void 0&&(s=""),a===void 0&&(a="label");var l=hs[n],u=l.id.replace("%s",this.id_),c=[s,u].join(" ").trim();return["<"+a+' id="'+u+'" class="'+(a==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+a+">",'<select aria-labelledby="'+c+'">'].concat(l.options.map(function(d){var f=u+"-"+d[1].replace(/\W+/g,"");return['<option id="'+f+'" value="'+d[0]+'" ','aria-labelledby="'+c+" "+f+'">',o.localize(d[1]),"</option>"].join("")})).concat("</select>").join("")},i.createElFgColor_=function(){var n="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",n),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",n),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var n="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",n),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",n),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var n="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",n),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",n),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return Be("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return Be("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var n=this.localize("restore all settings to the default values");return Be("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+n+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+n+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var n=this;return Q8(hs,function(s,a,o){var l=a6(n.$(a.selector),a.parser);return l!==void 0&&(s[o]=l),s},{})},i.setValues=function(n){var s=this;La(hs,function(a,o){o6(s.$(a.selector),n[o],a.parser)})},i.setDefaults=function(){var n=this;La(hs,function(s){var a=s.hasOwnProperty("default")?s.default:0;n.$(s.selector).selectedIndex=a})},i.restoreSettings=function(){var n;try{n=JSON.parse(M.localStorage.getItem(qp))}catch(s){Re.warn(s)}n&&this.setValues(n)},i.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var n=this.getValues();try{Object.keys(n).length?M.localStorage.setItem(qp,JSON.stringify(n)):M.localStorage.removeItem(qp)}catch(s){Re.warn(s)}}},i.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var n=this.player_.controlBar,s=n&&n.subsCapsButton,a=n&&n.captionsButton;s?s.focus():a&&a.focus()},e}(_o);Z.registerComponent("TextTrackSettings",l6);var u6=function(t){ce(e,t);function e(r,n){var s,a=n.ResizeObserver||M.ResizeObserver;n.ResizeObserver===null&&(a=!1);var o=Ze({createEl:!a,reportTouchActivity:!1},n);return s=t.call(this,r,o)||this,s.ResizeObserver=n.ResizeObserver||M.ResizeObserver,s.loadListener_=null,s.resizeObserver_=null,s.debouncedHandler_=oz(function(){s.resizeHandler()},100,!1,Ae(s)),a?(s.resizeObserver_=new s.ResizeObserver(s.debouncedHandler_),s.resizeObserver_.observe(r.el())):(s.loadListener_=function(){if(!(!s.el_||!s.el_.contentWindow)){var l=s.debouncedHandler_,u=s.unloadListener_=function(){Xt(this,"resize",l),Xt(this,"unload",u),u=null};zi(s.el_.contentWindow,"unload",u),zi(s.el_.contentWindow,"resize",l)}},s.one("load",s.loadListener_)),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},i.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(Z);Z.registerComponent("ResizeManager",u6);var c6={trackingThreshold:20,liveTolerance:15},d6=function(t){ce(e,t);function e(r,n){var s,a=Ze(c6,n,{createEl:!1});return s=t.call(this,r,a)||this,s.handleVisibilityChange_=function(o){return s.handleVisibilityChange(o)},s.trackLiveHandler_=function(){return s.trackLive_()},s.handlePlay_=function(o){return s.handlePlay(o)},s.handleFirstTimeupdate_=function(o){return s.handleFirstTimeupdate(o)},s.handleSeeked_=function(o){return s.handleSeeked(o)},s.seekToLiveEdge_=function(o){return s.seekToLiveEdge(o)},s.reset_(),s.on(s.player_,"durationchange",function(o){return s.handleDurationchange(o)}),s.on(s.player_,"canplay",function(){return s.toggleTracking()}),Vu&&"hidden"in se&&"visibilityState"in se&&s.on(se,"visibilitychange",s.handleVisibilityChange_),s}var i=e.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(se.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var n=this.player_.seekable();if(!(!n||!n.length)){var s=Number(M.performance.now().toFixed(4)),a=this.lastTime_===-1?0:(s-this.lastTime_)/1e3;this.lastTime_=s,this.pastSeekEnd_=this.pastSeekEnd()+a;var o=this.liveCurrentTime(),l=this.player_.currentTime(),u=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(u=!1),u!==this.behindLiveEdge_&&(this.behindLiveEdge_=u,this.trigger("liveedgechange"))}},i.handleDurationchange=function(){this.toggleTracking()},i.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,bn),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},i.handleSeeked=function(){var n=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&n>2,this.nextSeekedFromUser_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},i.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},i.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},i.seekableEnd=function(){for(var n=this.player_.seekable(),s=[],a=n?n.length:0;a--;)s.push(n.end(a));return s.length?s.sort()[s.length-1]:1/0},i.seekableStart=function(){for(var n=this.player_.seekable(),s=[],a=n?n.length:0;a--;)s.push(n.start(a));return s.length?s.sort()[0]:0},i.liveWindow=function(){var n=this.liveCurrentTime();return n===1/0?0:n-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var n=this.seekableEnd();return this.lastSeekEnd_!==-1&&n!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=n,this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return typeof this.trackingInterval_=="number"},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(se,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(Z);Z.registerComponent("LiveTracker",d6);var Rv=function(e){var i=e.el();if(i.hasAttribute("src"))return e.triggerSourceset(i.src),!0;var r=e.$$("source"),n=[],s="";if(!r.length)return!1;for(var a=0;a<r.length;a++){var o=r[a].src;o&&n.indexOf(o)===-1&&n.push(o)}return n.length?(n.length===1&&(s=n[0]),e.triggerSourceset(s),!0):!1},f6=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var i=se.createElement(this.nodeName.toLowerCase());i.innerHTML=e;for(var r=se.createDocumentFragment();i.childNodes.length;)r.appendChild(i.childNodes[0]);return this.innerText="",M.Element.prototype.appendChild.call(this,r),this.innerHTML}}),jP=function(e,i){for(var r={},n=0;n<e.length&&(r=Object.getOwnPropertyDescriptor(e[n],i),!(r&&r.set&&r.get));n++);return r.enumerable=!0,r.configurable=!0,r},h6=function(e){return jP([e.el(),M.HTMLMediaElement.prototype,M.Element.prototype,f6],"innerHTML")},Gx=function(e){var i=e.el();if(!i.resetSourceWatch_){var r={},n=h6(e),s=function(o){return function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=o.apply(i,u);return Rv(e),d}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){!i[a]||(r[a]=i[a],i[a]=s(r[a]))}),Object.defineProperty(i,"innerHTML",Ze(n,{set:s(n.set)})),i.resetSourceWatch_=function(){i.resetSourceWatch_=null,Object.keys(r).forEach(function(a){i[a]=r[a]}),Object.defineProperty(i,"innerHTML",n)},e.one("sourceset",i.resetSourceWatch_)}},p6=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?pP(M.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return M.Element.prototype.setAttribute.call(this,"src",e),e}}),m6=function(e){return jP([e.el(),M.HTMLMediaElement.prototype,p6],"src")},v6=function(e){if(!!e.featuresSourceset){var i=e.el();if(!i.resetSourceset_){var r=m6(e),n=i.setAttribute,s=i.load;Object.defineProperty(i,"src",Ze(r,{set:function(o){var l=r.set.call(i,o);return e.triggerSourceset(i.src),l}})),i.setAttribute=function(a,o){var l=n.call(i,a,o);return/src/i.test(a)&&e.triggerSourceset(i.src),l},i.load=function(){var a=s.call(i);return Rv(e)||(e.triggerSourceset(""),Gx(e)),a},i.currentSrc?e.triggerSourceset(i.currentSrc):Rv(e)||Gx(e),i.resetSourceset_=function(){i.resetSourceset_=null,i.load=s,i.setAttribute=n,Object.defineProperty(i,"src",r),i.resetSourceWatch_&&i.resetSourceWatch_()}}}},Fy=function(e,i,r,n){n===void 0&&(n=!0);var s=function(l){return Object.defineProperty(e,i,{value:l,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var l=r();return s(l),l}};return n&&(a.set=s),Object.defineProperty(e,i,a)},he=function(t){ce(e,t);function e(r,n){var s;s=t.call(this,r,n)||this;var a=r.source,o=!1;if(a&&(s.el_.currentSrc!==a.src||r.tag&&r.tag.initNetworkState_===3)?s.setSource(a):s.handleLateInit_(s.el_),r.enableSourceset&&s.setupSourcesetHandling_(),s.isScrubbing_=!1,s.el_.hasChildNodes()){for(var l=s.el_.childNodes,u=l.length,c=[];u--;){var d=l[u],f=d.nodeName.toLowerCase();f==="track"&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().addTrackElement_(d),s.remoteTextTracks().addTrack(d.track),s.textTracks().addTrack(d.track),!o&&!s.el_.hasAttribute("crossorigin")&&bh(d.src)&&(o=!0)):c.push(d))}for(var p=0;p<c.length;p++)s.el_.removeChild(c[p])}return s.proxyNativeTracks_(),s.featuresNativeTextTracks&&o&&Re.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),s.restoreMetadataTracksInIOSNativePlayer_(),(Ya||dy||jk)&&r.nativeControlsForTouch===!0&&s.setControls(!0),s.proxyWebkitFullscreen_(),s.triggerReady(),s}var i=e.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){v6(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){var n=this.textTracks(),s,a=function(){s=[];for(var u=0;u<n.length;u++){var c=n[u];c.kind==="metadata"&&s.push({track:c,storedMode:c.mode})}};a(),n.addEventListener("change",a),this.on("dispose",function(){return n.removeEventListener("change",a)});var o=function l(){for(var u=0;u<s.length;u++){var c=s[u];c.track.mode==="disabled"&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}n.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",a),n.removeEventListener("change",o),n.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",a),n.addEventListener("change",a),n.removeEventListener("change",o)})},i.overrideNative_=function(n,s){var a=this;if(s===this["featuresNative"+n+"Tracks"]){var o=n.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(l){var u=a.el()[o+"Tracks"];u.removeEventListener(l,a[o+"TracksListeners_"][l])}),this["featuresNative"+n+"Tracks"]=!s,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},i.overrideNativeAudioTracks=function(n){this.overrideNative_("Audio",n)},i.overrideNativeVideoTracks=function(n){this.overrideNative_("Video",n)},i.proxyNativeTracksForType_=function(n){var s=this,a=Ji[n],o=this.el()[a.getterName],l=this[a.getterName]();if(!(!this["featuresNative"+a.capitalName+"Tracks"]||!o||!o.addEventListener)){var u={change:function(f){var p={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(p),n==="text"&&s[to.remoteText.getterName]().trigger(p)},addtrack:function(f){l.addTrack(f.track)},removetrack:function(f){l.removeTrack(f.track)}},c=function(){for(var f=[],p=0;p<l.length;p++){for(var g=!1,b=0;b<o.length;b++)if(o[b]===l[p]){g=!0;break}g||f.push(l[p])}for(;f.length;)l.removeTrack(f.shift())};this[a.getterName+"Listeners_"]=u,Object.keys(u).forEach(function(d){var f=u[d];o.addEventListener(d,f),s.on("dispose",function(p){return o.removeEventListener(d,f)})}),this.on("loadstart",c),this.on("dispose",function(d){return s.off("loadstart",c)})}},i.proxyNativeTracks_=function(){var n=this;Ji.names.forEach(function(s){n.proxyNativeTracksForType_(s)})},i.createEl=function(){var n=this.options_.tag;if(!n||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(n){var s=n.cloneNode(!0);n.parentNode&&n.parentNode.insertBefore(s,n),e.disposeMediaElement(n),n=s}else{n=se.createElement("video");var a=this.options_.tag&&Gn(this.options_.tag),o=Ze({},a);(!Ya||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,Kk(n,at(o,{id:this.options_.techId,class:"vjs-tech"}))}n.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Ja(n,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(n.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],u=0;u<l.length;u++){var c=l[u],d=this.options_[c];typeof d<"u"&&(d?Ja(n,c,c):mh(n,c),n[c]=d)}return n},i.handleLateInit_=function(n){if(!(n.networkState===0||n.networkState===3)){if(n.readyState===0){var s=!1,a=function(){s=!0};this.on("loadstart",a);var o=function(){s||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",a),this.off("loadedmetadata",o),s||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),n.readyState>=2&&l.push("loadeddata"),n.readyState>=3&&l.push("canplay"),n.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(u){this.trigger(u)},this)})}},i.setScrubbing=function(n){this.isScrubbing_=n},i.scrubbing=function(){return this.isScrubbing_},i.setCurrentTime=function(n){try{this.isScrubbing_&&this.el_.fastSeek&&ph?this.el_.fastSeek(n):this.el_.currentTime=n}catch(s){Re(s,"Video is not ready. (Video.js)")}},i.duration=function(){var n=this;if(this.el_.duration===1/0&&pr&&mr&&this.el_.currentTime===0){var s=function a(){n.el_.currentTime>0&&(n.el_.duration===1/0&&n.trigger("durationchange"),n.off("timeupdate",a))};return this.on("timeupdate",s),NaN}return this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var n=this;if("webkitDisplayingFullscreen"in this.el_){var s=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},a=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",s),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",a),this.on("dispose",function(){n.off("webkitbeginfullscreen",a),n.off("webkitendfullscreen",s)})}},i.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var n=M.navigator&&M.navigator.userAgent||"";if(/Android/.test(n)||!/Chrome|Mac OS X 10.5/.test(n))return!0}return!1},i.enterFullScreen=function(){var n=this.el_;if(n.paused&&n.networkState<=n.HAVE_METADATA)In(this.el_.play()),this.setTimeout(function(){n.pause();try{n.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},0);else try{n.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},i.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.requestVideoFrameCallback=function(n){return this.featuresVideoFrameCallback?this.el_.requestVideoFrameCallback(n):t.prototype.requestVideoFrameCallback.call(this,n)},i.cancelVideoFrameCallback=function(n){this.featuresVideoFrameCallback?this.el_.cancelVideoFrameCallback(n):t.prototype.cancelVideoFrameCallback.call(this,n)},i.src=function(n){if(n===void 0)return this.el_.src;this.setSrc(n)},i.reset=function(){e.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(n){this.el_.controls=!!n},i.addTextTrack=function(n,s,a){return this.featuresNativeTextTracks?this.el_.addTextTrack(n,s,a):t.prototype.addTextTrack.call(this,n,s,a)},i.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var s=se.createElement("track");return n.kind&&(s.kind=n.kind),n.label&&(s.label=n.label),(n.language||n.srclang)&&(s.srclang=n.language||n.srclang),n.default&&(s.default=n.default),n.id&&(s.id=n.id),n.src&&(s.src=n.src),s},i.addRemoteTextTrack=function(n,s){var a=t.prototype.addRemoteTextTrack.call(this,n,s);return this.featuresNativeTextTracks&&this.el().appendChild(a),a},i.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var s=this.$$("track"),a=s.length;a--;)(n===s[a]||n===s[a].track)&&this.el().removeChild(s[a])},i.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var n={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(n.droppedVideoFrames=this.el().webkitDroppedFrameCount,n.totalVideoFrames=this.el().webkitDecodedFrameCount),M.performance&&typeof M.performance.now=="function"?n.creationTime=M.performance.now():M.performance&&M.performance.timing&&typeof M.performance.timing.navigationStart=="number"&&(n.creationTime=M.Date.now()-M.performance.timing.navigationStart),n},e}(Xe);Fy(he,"TEST_VID",function(){if(!!vo()){var t=se.createElement("video"),e=se.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}});he.isSupported=function(){try{he.TEST_VID.volume=.5}catch{return!1}return!!(he.TEST_VID&&he.TEST_VID.canPlayType)};he.canPlayType=function(t){return he.TEST_VID.canPlayType(t)};he.canPlaySource=function(t,e){return he.canPlayType(t.type)};he.canControlVolume=function(){try{var t=he.TEST_VID.volume;he.TEST_VID.volume=t/2+.1;var e=t!==he.TEST_VID.volume;return e&&di?(M.setTimeout(function(){he&&he.prototype&&(he.prototype.featuresVolumeControl=t!==he.TEST_VID.volume)}),!1):e}catch{return!1}};he.canMuteVolume=function(){try{var t=he.TEST_VID.muted;return he.TEST_VID.muted=!t,he.TEST_VID.muted?Ja(he.TEST_VID,"muted","muted"):mh(he.TEST_VID,"muted","muted"),t!==he.TEST_VID.muted}catch{return!1}};he.canControlPlaybackRate=function(){if(pr&&mr&&Hk<58)return!1;try{var t=he.TEST_VID.playbackRate;return he.TEST_VID.playbackRate=t/2+.1,t!==he.TEST_VID.playbackRate}catch{return!1}};he.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(se.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(se.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(se.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(se.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};he.supportsNativeTextTracks=function(){return ph||di&&mr};he.supportsNativeVideoTracks=function(){return!!(he.TEST_VID&&he.TEST_VID.videoTracks)};he.supportsNativeAudioTracks=function(){return!!(he.TEST_VID&&he.TEST_VID.audioTracks)};he.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],i=t[1];Fy(he.prototype,e,function(){return he[i]()},!0)});he.prototype.featuresVolumeControl=he.canControlVolume();he.prototype.movingMediaElementInDOM=!di;he.prototype.featuresFullscreenResize=!0;he.prototype.featuresProgressEvents=!0;he.prototype.featuresTimeupdateEvents=!0;he.prototype.featuresVideoFrameCallback=!!(he.TEST_VID&&he.TEST_VID.requestVideoFrameCallback);var hf;he.patchCanPlayType=function(){ly>=4&&!Vk&&!mr&&(hf=he.TEST_VID&&he.TEST_VID.constructor.prototype.canPlayType,he.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":hf.call(this,t)})};he.unpatchCanPlayType=function(){var t=he.TEST_VID.constructor.prototype.canPlayType;return hf&&(he.TEST_VID.constructor.prototype.canPlayType=hf),t};he.patchCanPlayType();he.disposeMediaElement=function(t){if(!!t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};he.resetMediaElement=function(t){if(!!t){for(var e=t.querySelectorAll("source"),i=e.length;i--;)t.removeChild(e[i]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){he.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){he.prototype["set"+ft(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){he.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){he.prototype["set"+ft(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){he.prototype[t]=function(){return this.el_[t]()}});Xe.withSourceHandlers(he);he.nativeSourceHandler={};he.nativeSourceHandler.canPlayType=function(t){try{return he.TEST_VID.canPlayType(t)}catch{return""}};he.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return he.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=yy(t.src);return he.nativeSourceHandler.canPlayType("video/"+i)}return""};he.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)};he.nativeSourceHandler.dispose=function(){};he.registerSourceHandler(he.nativeSourceHandler);Xe.registerTech("Html5",he);var VP=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Xp={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Fv=["tiny","xsmall","small","medium","large","xlarge","huge"],yd={};Fv.forEach(function(t){var e=t.charAt(0)==="x"?"x-"+t.substring(1):t;yd[t]="vjs-layout-"+e});var g6={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},gt=function(t){ce(e,t);function e(r,n,s){var a;if(r.id=r.id||n.id||"vjs_video_"+vr(),n=at(e.getTagSettings(r),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if(typeof r.closest=="function"){var o=r.closest("[lang]");o&&o.getAttribute&&(n.language=o.getAttribute("lang"))}else for(var l=r;l&&l.nodeType===1;){if(Gn(l).hasOwnProperty("lang")){n.language=l.getAttribute("lang");break}l=l.parentNode}if(a=t.call(this,null,n,s)||this,a.boundDocumentFullscreenChange_=function(f){return a.documentFullscreenChange_(f)},a.boundFullWindowOnEscKey_=function(f){return a.fullWindowOnEscKey(f)},a.boundUpdateStyleEl_=function(f){return a.updateStyleEl_(f)},a.boundApplyInitTime_=function(f){return a.applyInitTime_(f)},a.boundUpdateCurrentBreakpoint_=function(f){return a.updateCurrentBreakpoint_(f)},a.boundHandleTechClick_=function(f){return a.handleTechClick_(f)},a.boundHandleTechDoubleClick_=function(f){return a.handleTechDoubleClick_(f)},a.boundHandleTechTouchStart_=function(f){return a.handleTechTouchStart_(f)},a.boundHandleTechTouchMove_=function(f){return a.handleTechTouchMove_(f)},a.boundHandleTechTouchEnd_=function(f){return a.handleTechTouchEnd_(f)},a.boundHandleTechTap_=function(f){return a.handleTechTap_(f)},a.isFullscreen_=!1,a.log=Uk(a.id_),a.fsApi_=lf,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,a.audioOnlyMode_=!1,a.audioPosterMode_=!1,a.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=r,a.tagAttributes=r&&Gn(r),a.language(a.options_.language),n.languages){var u={};Object.getOwnPropertyNames(n.languages).forEach(function(f){u[f.toLowerCase()]=n.languages[f]}),a.languages_=u}else a.languages_=e.prototype.options_.languages;a.resetCache_(),a.poster_=n.poster||"",a.controls_=!!n.controls,r.controls=!1,r.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],r.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(function(f){if(typeof a[f]!="function")throw new Error('plugin "'+f+'" does not exist')}),a.scrubbing_=!1,a.el_=a.createEl(),my(Ae(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(zi(se,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var c=Ze(a.options_);n.plugins&&Object.keys(n.plugins).forEach(function(f){a[f](n.plugins[f])}),n.debug&&a.debug(!0),a.options_.playerOptions=c,a.middleware_=[],a.playbackRates(n.playbackRates),a.initChildren(),a.isAudio(r.nodeName.toLowerCase()==="audio"),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),Ya&&a.addClass("vjs-touch-enabled"),di||a.addClass("vjs-workinghover"),e.players[a.id_]=Ae(a);var d=Rk.split(".")[0];return a.addClass("vjs-v"+d),a.userActive(!0),a.reportUserActivity(),a.one("play",function(f){return a.listenForUserActivity_(f)}),a.on("stageclick",function(f){return a.handleStageClick_(f)}),a.on("keydown",function(f){return a.handleKeyDown(f)}),a.on("languagechange",function(f){return a.handleLanguagechange(f)}),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.on("ready",function(){a.audioPosterMode(a.options_.audioPosterMode),a.audioOnlyMode(a.options_.audioOnlyMode)}),a}var i=e.prototype;return i.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),Xt(se,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Xt(se,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Nz(this),ni.names.forEach(function(s){var a=ni[s],o=n[a.getterName]();o&&o.off&&o.off()}),t.prototype.dispose.call(this)},i.createEl=function(){var n=this.tag,s,a=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";a?s=this.el_=n.parentNode:o||(s=this.el_=t.prototype.createEl.call(this,"div"));var l=Gn(n);if(o){for(s=this.el_=n,n=this.tag=se.createElement("video");s.children.length;)n.appendChild(s.firstChild);ws(s,"video-js")||rr(s,"video-js"),s.appendChild(n),a=this.playerElIngest_=s,Object.keys(s).forEach(function(g){try{n[g]=s[g]}catch{}})}if(n.setAttribute("tabindex","-1"),l.tabindex="-1",(Vu||mr&&Wk)&&(n.setAttribute("role","application"),l.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(g){o&&g==="class"||s.setAttribute(g,l[g]),o&&n.setAttribute(g,l[g])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=s.player=this,this.addClass("vjs-paused"),M.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=sP("vjs-styles-dimensions");var u=Kr(".vjs-styles-defaults"),c=Kr("head");c.insertBefore(this.styleEl_,u?u.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var d=n.getElementsByTagName("a"),f=0;f<d.length;f++){var p=d.item(f);rr(p,"vjs-hidden"),p.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!a&&n.parentNode.insertBefore(s,n),Pv(n,s),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=s,s},i.crossOrigin=function(n){if(!n)return this.techGet_("crossOrigin");if(n!=="anonymous"&&n!=="use-credentials"){Re.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+n+'"');return}this.techCall_("setCrossOrigin",n)},i.width=function(n){return this.dimension("width",n)},i.height=function(n){return this.dimension("height",n)},i.dimension=function(n,s){var a=n+"_";if(s===void 0)return this[a]||0;if(s===""||s==="auto"){this[a]=void 0,this.updateStyleEl_();return}var o=parseFloat(s);if(isNaN(o)){Re.error('Improper value "'+s+'" supplied for for '+n);return}this[a]=o,this.updateStyleEl_()},i.fluid=function(n){var s=this;if(n===void 0)return!!this.fluid_;this.fluid_=!!n,sr(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),n?(this.addClass("vjs-fluid"),this.fill(!1),lz(this,function(){s.on(["playerreset","resize"],s.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},i.fill=function(n){if(n===void 0)return!!this.fill_;this.fill_=!!n,n?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},i.aspectRatio=function(n){if(n===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(n))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=n,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){if(M.VIDEOJS_NO_DYNAMIC_STYLE===!0){var n=typeof this.width_=="number"?this.width_:this.options_.width,s=typeof this.height_=="number"?this.height_:this.options_.height,a=this.tech_&&this.tech_.el();a&&(n>=0&&(a.width=n),s>=0&&(a.height=s));return}var o,l,u,c;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?u=this.aspectRatio_:this.videoWidth()>0?u=this.videoWidth()+":"+this.videoHeight():u="16:9";var d=u.split(":"),f=d[1]/d[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/f:o=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=o*f,/^[^a-zA-Z]/.test(this.id())?c="dimensions-"+this.id():c=this.id()+"-dimensions",this.addClass(c),aP(this.styleEl_,`
      .`+c+` {
        width: `+o+`px;
        height: `+l+`px;
      }

      .`+c+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+f*100+`%;
      }
    `)},i.loadTech_=function(n,s){var a=this;this.tech_&&this.unloadTech_();var o=ft(n),l=n.charAt(0).toLowerCase()+n.slice(1);o!=="Html5"&&this.tag&&(Xe.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var u=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(u=!1);var c={source:s,autoplay:u,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};ni.names.forEach(function(f){var p=ni[f];c[p.getterName]=a[p.privateName]}),at(c,this.options_[o]),at(c,this.options_[l]),at(c,this.options_[n.toLowerCase()]),this.tag&&(c.tag=this.tag),s&&s.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime);var d=Xe.getTech(n);if(!d)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new d(c),this.tech_.ready(et(this,this.handleTechReady_),!0),Px.jsonToTextTracks(this.textTracksJson_||[],this.tech_),VP.forEach(function(f){a.on(a.tech_,f,function(p){return a["handleTech"+ft(f)+"_"](p)})}),Object.keys(Xp).forEach(function(f){a.on(a.tech_,f,function(p){if(a.tech_.playbackRate()===0&&a.tech_.seeking()){a.queuedCallbacks_.push({callback:a["handleTech"+Xp[f]+"_"].bind(a),event:p});return}a["handleTech"+Xp[f]+"_"](p)})}),this.on(this.tech_,"loadstart",function(f){return a.handleTechLoadStart_(f)}),this.on(this.tech_,"sourceset",function(f){return a.handleTechSourceset_(f)}),this.on(this.tech_,"waiting",function(f){return a.handleTechWaiting_(f)}),this.on(this.tech_,"ended",function(f){return a.handleTechEnded_(f)}),this.on(this.tech_,"seeking",function(f){return a.handleTechSeeking_(f)}),this.on(this.tech_,"play",function(f){return a.handleTechPlay_(f)}),this.on(this.tech_,"firstplay",function(f){return a.handleTechFirstPlay_(f)}),this.on(this.tech_,"pause",function(f){return a.handleTechPause_(f)}),this.on(this.tech_,"durationchange",function(f){return a.handleTechDurationChange_(f)}),this.on(this.tech_,"fullscreenchange",function(f,p){return a.handleTechFullscreenChange_(f,p)}),this.on(this.tech_,"fullscreenerror",function(f,p){return a.handleTechFullscreenError_(f,p)}),this.on(this.tech_,"enterpictureinpicture",function(f){return a.handleTechEnterPictureInPicture_(f)}),this.on(this.tech_,"leavepictureinpicture",function(f){return a.handleTechLeavePictureInPicture_(f)}),this.on(this.tech_,"error",function(f){return a.handleTechError_(f)}),this.on(this.tech_,"posterchange",function(f){return a.handleTechPosterChange_(f)}),this.on(this.tech_,"textdata",function(f){return a.handleTechTextData_(f)}),this.on(this.tech_,"ratechange",function(f){return a.handleTechRateChange_(f)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&Pv(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var n=this;ni.names.forEach(function(s){var a=ni[s];n[a.privateName]=n[a.getterName]()}),this.textTracksJson_=Px.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},i.tech=function(n){return n===void 0&&Re.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},i.manualAutoplay_=function(n){var s=this;if(!(!this.tech_||typeof n!="string")){var a=function(){var u=s.muted();s.muted(!0);var c=function(){s.muted(u)};s.playTerminatedQueue_.push(c);var d=s.play();if(!!Ul(d))return d.catch(function(f){throw c(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(f||""))})},o;if(n==="any"&&!this.muted()?(o=this.play(),Ul(o)&&(o=o.catch(a))):n==="muted"&&!this.muted()?o=a():o=this.play(),!!Ul(o))return o.then(function(){s.trigger({type:"autoplay-success",autoplay:n})}).catch(function(){s.trigger({type:"autoplay-failure",autoplay:n})})}},i.updateSourceCaches_=function(n){n===void 0&&(n="");var s=n,a="";typeof s!="string"&&(s=n.src,a=n.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],s&&!a&&(a=zz(this,s)),this.cache_.source=Ze({},n,{src:s,type:a});for(var o=this.cache_.sources.filter(function(p){return p.src&&p.src===s}),l=[],u=this.$$("source"),c=[],d=0;d<u.length;d++){var f=Gn(u[d]);l.push(f),f.src&&f.src===s&&c.push(f.src)}c.length&&!o.length?this.cache_.sources=l:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=s},i.handleTechSourceset_=function(n){var s=this;if(!this.changingSrc_){var a=function(c){return s.updateSourceCaches_(c)},o=this.currentSource().src,l=n.src;o&&!/^blob:/.test(o)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==o)&&(a=function(){}),a(l),n.src||this.tech_.any(["sourceset","loadstart"],function(u){if(u.type!=="sourceset"){var c=s.techGet("currentSrc");s.lastSource_.tech=c,s.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:n.src},this.trigger({src:n.src,type:"sourceset"})},i.hasStarted=function(n){if(n===void 0)return this.hasStarted_;n!==this.hasStarted_&&(this.hasStarted_=n,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},i.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(n){return n.callback(n.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},i.handleTechWaiting_=function(){var n=this;this.addClass("vjs-waiting"),this.trigger("waiting");var s=this.currentTime(),a=function o(){s!==n.currentTime()&&(n.removeClass("vjs-waiting"),n.off("timeupdate",o))};this.on("timeupdate",a)},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(Re.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},i.handleTechClick_=function(n){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,n):this.paused()?In(this.play()):this.pause())},i.handleTechDoubleClick_=function(n){if(!!this.controls_){var s=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(a){return a.contains(n.target)});s||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,n):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(n){n.cancelable&&n.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChange_=function(n){var s=n.target.player;if(!(s&&s!==this)){var a=this.el(),o=se[this.fsApi_.fullscreenElement]===a;!o&&a.matches?o=a.matches(":"+this.fsApi_.fullscreen):!o&&a.msMatchesSelector&&(o=a.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},i.handleTechFullscreenChange_=function(n,s){var a=this;s&&(s.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){a.removeClass("vjs-ios-native-fs")})),this.isFullscreen(s.isFullscreen))},i.handleTechFullscreenError_=function(n,s){this.trigger("fullscreenerror",s)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},i.handleTechEnterPictureInPicture_=function(n){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(n){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var n=this.tech_.error();this.error(n)},i.handleTechTextData_=function(){var n=null;arguments.length>1&&(n=arguments[1]),this.trigger("textdata",n)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},i.techCall_=function(n,s){this.ready(function(){if(n in Rz)return Mz(this.middleware_,this.tech_,n,s);if(n in Lx)return Mx(this.middleware_,this.tech_,n,s);try{this.tech_&&this.tech_[n](s)}catch(a){throw Re(a),a}},!0)},i.techGet_=function(n){if(!(!this.tech_||!this.tech_.isReady_)){if(n in Lz)return Dz(this.middleware_,this.tech_,n);if(n in Lx)return Mx(this.middleware_,this.tech_,n);try{return this.tech_[n]()}catch(s){throw this.tech_[n]===void 0?(Re("Video.js: "+n+" method not defined for "+this.techName_+" playback technology.",s),s):s.name==="TypeError"?(Re("Video.js: "+n+" unavailable on "+this.techName_+" playback technology element.",s),this.tech_.isReady_=!1,s):(Re(s),s)}}},i.play=function(){var n=this,s=this.options_.Promise||M.Promise;return s?new s(function(a){n.play_(a)}):this.play_()},i.play_=function(n){var s=this;n===void 0&&(n=In),this.playCallbacks_.push(n);var a=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!a){this.waitToPlay_=function(l){s.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!a&&(ph||di)&&this.load();return}var o=this.techGet_("play");o===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(o)},i.runPlayTerminatedQueue_=function(){var n=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],n.forEach(function(s){s()})},i.runPlayCallbacks_=function(n){var s=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],s.forEach(function(a){a(n)})},i.pause=function(){this.techCall_("pause")},i.paused=function(){return this.techGet_("paused")!==!1},i.played=function(){return this.techGet_("played")||Es(0,0)},i.scrubbing=function(n){if(typeof n>"u")return this.scrubbing_;this.scrubbing_=!!n,this.techCall_("setScrubbing",this.scrubbing_),n?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},i.currentTime=function(n){if(typeof n<"u"){if(n<0&&(n=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=n,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",n),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(n){if(n===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;n=parseFloat(n),n<0&&(n=1/0),n!==this.cache_.duration&&(this.cache_.duration=n,n===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(n)||this.trigger("durationchange"))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var n=this.techGet_("buffered");return(!n||!n.length)&&(n=Es(0,0)),n},i.bufferedPercent=function(){return fP(this.buffered(),this.duration())},i.bufferedEnd=function(){var n=this.buffered(),s=this.duration(),a=n.end(n.length-1);return a>s&&(a=s),a},i.volume=function(n){var s;if(n!==void 0){s=Math.max(0,Math.min(1,parseFloat(n))),this.cache_.volume=s,this.techCall_("setVolume",s),s>0&&this.lastVolume_(s);return}return s=parseFloat(this.techGet_("volume")),isNaN(s)?1:s},i.muted=function(n){if(n!==void 0){this.techCall_("setMuted",n);return}return this.techGet_("muted")||!1},i.defaultMuted=function(n){return n!==void 0?this.techCall_("setDefaultMuted",n):this.techGet_("defaultMuted")||!1},i.lastVolume_=function(n){if(n!==void 0&&n!==0){this.cache_.lastVolume=n;return}return this.cache_.lastVolume},i.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},i.isFullscreen=function(n){if(n!==void 0){var s=this.isFullscreen_;this.isFullscreen_=Boolean(n),this.isFullscreen_!==s&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},i.requestFullscreen=function(n){var s=this.options_.Promise||M.Promise;if(s){var a=this;return new s(function(o,l){function u(){a.off("fullscreenerror",d),a.off("fullscreenchange",c)}function c(){u(),o()}function d(p,g){u(),l(g)}a.one("fullscreenchange",c),a.one("fullscreenerror",d);var f=a.requestFullscreenHelper_(n);f&&(f.then(u,u),f.then(o,l))})}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(n){var s=this,a;if(this.fsApi_.prefixed||(a=this.options_.fullscreen&&this.options_.fullscreen.options||{},n!==void 0&&(a=n)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](a);return o&&o.then(function(){return s.isFullscreen(!0)},function(){return s.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},i.exitFullscreen=function(){var n=this.options_.Promise||M.Promise;if(n){var s=this;return new n(function(a,o){function l(){s.off("fullscreenerror",c),s.off("fullscreenchange",u)}function u(){l(),a()}function c(f,p){l(),o(p)}s.one("fullscreenchange",u),s.one("fullscreenerror",c);var d=s.exitFullscreenHelper_();d&&(d.then(l,l),d.then(a,o))})}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var n=this;if(this.fsApi_.requestFullscreen){var s=se[this.fsApi_.exitFullscreen]();return s&&In(s.then(function(){return n.isFullscreen(!1)})),s}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=se.documentElement.style.overflow,zi(se,"keydown",this.boundFullWindowOnEscKey_),se.documentElement.style.overflow="hidden",rr(se.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(n){Ie.isEventKey(n,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Xt(se,"keydown",this.boundFullWindowOnEscKey_),se.documentElement.style.overflow=this.docOrigOverflow,Hu(se.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.disablePictureInPicture=function(n){if(n===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",n),this.options_.disablePictureInPicture=n,this.trigger("disablepictureinpicturechanged")},i.isInPictureInPicture=function(n){if(n!==void 0){this.isInPictureInPicture_=!!n,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if("pictureInPictureEnabled"in se&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},i.exitPictureInPicture=function(){if("pictureInPictureEnabled"in se)return se.exitPictureInPicture()},i.handleKeyDown=function(n){var s=this.options_.userActions;if(!(!s||!s.hotkeys)){var a=function(l){var u=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];if(u==="input")return c.indexOf(l.type)===-1;var d=["textarea"];return d.indexOf(u)!==-1};a(this.el_.ownerDocument.activeElement)||(typeof s.hotkeys=="function"?s.hotkeys.call(this,n):this.handleHotkeys(n))}},i.handleHotkeys=function(n){var s=this.options_.userActions?this.options_.userActions.hotkeys:{},a=s.fullscreenKey,o=a===void 0?function(b){return Ie.isEventKey(b,"f")}:a,l=s.muteKey,u=l===void 0?function(b){return Ie.isEventKey(b,"m")}:l,c=s.playPauseKey,d=c===void 0?function(b){return Ie.isEventKey(b,"k")||Ie.isEventKey(b,"Space")}:c;if(o.call(this,n)){n.preventDefault(),n.stopPropagation();var f=Z.getComponent("FullscreenToggle");se[this.fsApi_.fullscreenEnabled]!==!1&&f.prototype.handleClick.call(this,n)}else if(u.call(this,n)){n.preventDefault(),n.stopPropagation();var p=Z.getComponent("MuteToggle");p.prototype.handleClick.call(this,n)}else if(d.call(this,n)){n.preventDefault(),n.stopPropagation();var g=Z.getComponent("PlayToggle");g.prototype.handleClick.call(this,n)}},i.canPlayType=function(n){for(var s,a=0,o=this.options_.techOrder;a<o.length;a++){var l=o[a],u=Xe.getTech(l);if(u||(u=Z.getComponent(l)),!u){Re.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(u.isSupported()&&(s=u.canPlayType(n),s))return s}return""},i.selectSource=function(n){var s=this,a=this.options_.techOrder.map(function(d){return[d,Xe.getTech(d)]}).filter(function(d){var f=d[0],p=d[1];return p?p.isSupported():(Re.error('The "'+f+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(f,p,g){var b;return f.some(function(y){return p.some(function(T){if(b=g(y,T),b)return!0})}),b},l,u=function(f){return function(p,g){return f(g,p)}},c=function(f,p){var g=f[0],b=f[1];if(b.canPlaySource(p,s.options_[g.toLowerCase()]))return{source:p,tech:g}};return this.options_.sourceOrder?l=o(n,a,u(c)):l=o(a,n,c),l||!1},i.handleSrc_=function(n,s){var a=this;if(typeof n>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=jz(n);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}if(this.changingSrc_=!0,s||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),Az(this,o[0],function(c,d){a.middleware_=d,s||(a.cache_.sources=o),a.updateSourceCaches_(c);var f=a.src_(c);if(f){if(o.length>1)return a.handleSrc_(o.slice(1));a.changingSrc_=!1,a.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),a.triggerReady();return}Iz(d,a.tech_)}),this.options_.retryOnError&&o.length>1){var l=function(){a.error(null),a.handleSrc_(o.slice(1),!0)},u=function(){a.off("error",l)};this.one("error",l),this.one("playing",u),this.resetRetryOnError_=function(){a.off("error",l),a.off("playing",u)}}},i.src=function(n){return this.handleSrc_(n,!1)},i.src_=function(n){var s=this,a=this.selectSource([n]);return a?dz(a.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",n):this.techCall_("src",n.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(a.tech,a.source),this.tech_.ready(function(){s.changingSrc_=!1}),!1):!0},i.load=function(){this.techCall_("load")},i.reset=function(){var n=this,s=this.options_.Promise||M.Promise;if(this.paused()||!s)this.doReset_();else{var a=this.play();In(a.then(function(){return n.doReset_()}))}},i.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),sr(this)&&this.trigger("playerreset")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var n=this.controlBar,s=n.durationDisplay,a=n.remainingTimeDisplay;s&&s.updateContent(),a&&a.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},i.currentSources=function(){var n=this.currentSource(),s=[];return Object.keys(n).length!==0&&s.push(n),this.cache_.sources||s},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentType=function(){return this.currentSource()&&this.currentSource().type||""},i.preload=function(n){if(n!==void 0){this.techCall_("setPreload",n),this.options_.preload=n;return}return this.techGet_("preload")},i.autoplay=function(n){if(n===void 0)return this.options_.autoplay||!1;var s;typeof n=="string"&&/(any|play|muted)/.test(n)||n===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=n,this.manualAutoplay_(typeof n=="string"?n:"play"),s=!1):n?this.options_.autoplay=!0:this.options_.autoplay=!1,s=typeof s>"u"?this.options_.autoplay:s,this.tech_&&this.techCall_("setAutoplay",s)},i.playsinline=function(n){return n!==void 0?(this.techCall_("setPlaysinline",n),this.options_.playsinline=n,this):this.techGet_("playsinline")},i.loop=function(n){if(n!==void 0){this.techCall_("setLoop",n),this.options_.loop=n;return}return this.techGet_("loop")},i.poster=function(n){if(n===void 0)return this.poster_;n||(n=""),n!==this.poster_&&(this.poster_=n,this.techCall_("setPoster",n),this.isPosterFromTech_=!1,this.trigger("posterchange"))},i.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var n=this.tech_.poster()||"";n!==this.poster_&&(this.poster_=n,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},i.controls=function(n){if(n===void 0)return!!this.controls_;n=!!n,this.controls_!==n&&(this.controls_=n,this.usingNativeControls()&&this.techCall_("setControls",n),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},i.usingNativeControls=function(n){if(n===void 0)return!!this.usingNativeControls_;n=!!n,this.usingNativeControls_!==n&&(this.usingNativeControls_=n,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},i.error=function(n){var s=this;if(n===void 0)return this.error_||null;if(Xr("beforeerror").forEach(function(o){var l=o(s,n);if(!(dr(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){s.log.error("please return a value that MediaError expects in beforeerror hooks");return}n=l}),this.options_.suppressNotSupportedError&&n&&n.code===4){var a=function(){this.error(n)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],a),this.one("loadstart",function(){this.off(["click","touchstart"],a)});return}if(n===null){this.error_=n,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new oi(n),this.addClass("vjs-error"),Re.error("(CODE:"+this.error_.code+" "+oi.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Xr("error").forEach(function(o){return o(s,s.error_)})},i.reportUserActivity=function(n){this.userActivity_=!0},i.userActive=function(n){if(n===void 0)return this.userActive_;if(n=!!n,n!==this.userActive_){if(this.userActive_=n,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(s){s.stopPropagation(),s.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},i.listenForUserActivity_=function(){var n,s,a,o=et(this,this.reportUserActivity),l=function(g){(g.screenX!==s||g.screenY!==a)&&(s=g.screenX,a=g.screenY,o())},u=function(){o(),this.clearInterval(n),n=this.setInterval(o,250)},c=function(g){o(),this.clearInterval(n)};this.on("mousedown",u),this.on("mousemove",l),this.on("mouseup",c),this.on("mouseleave",c);var d=this.getChild("controlBar");d&&!di&&!pr&&(d.on("mouseenter",function(p){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),d.on("mouseleave",function(p){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var f;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(f);var p=this.options_.inactivityTimeout;p<=0||(f=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},p))}},250)},i.playbackRate=function(n){if(n!==void 0){this.techCall_("setPlaybackRate",n);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},i.defaultPlaybackRate=function(n){return n!==void 0?this.techCall_("setDefaultPlaybackRate",n):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},i.isAudio=function(n){if(n!==void 0){this.isAudio_=!!n;return}return!!this.isAudio_},i.enableAudioOnlyUI_=function(){var n=this;this.addClass("vjs-audio-only-mode");var s=this.children(),a=this.getChild("ControlBar"),o=a&&a.currentHeight();s.forEach(function(l){l!==a&&l.el_&&!l.hasClass("vjs-hidden")&&(l.hide(),n.audioOnlyCache_.hiddenChildren.push(l))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(o),this.trigger("audioonlymodechange")},i.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(n){return n.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},i.audioOnlyMode=function(n){var s=this;if(typeof n!="boolean"||n===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=n;var a=this.options_.Promise||M.Promise;if(a){if(n){var o=[];return this.isInPictureInPicture()&&o.push(this.exitPictureInPicture()),this.isFullscreen()&&o.push(this.exitFullscreen()),this.audioPosterMode()&&o.push(this.audioPosterMode(!1)),a.all(o).then(function(){return s.enableAudioOnlyUI_()})}return a.resolve().then(function(){return s.disableAudioOnlyUI_()})}n?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},i.enablePosterModeUI_=function(){var n=this.tech_&&this.tech_;n.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},i.disablePosterModeUI_=function(){var n=this.tech_&&this.tech_;n.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},i.audioPosterMode=function(n){var s=this;if(typeof n!="boolean"||n===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=n;var a=this.options_.Promise||M.Promise;if(a){if(n){if(this.audioOnlyMode()){var o=this.audioOnlyMode(!1);return o.then(function(){s.enablePosterModeUI_()})}return a.resolve().then(function(){s.enablePosterModeUI_()})}return a.resolve().then(function(){s.disablePosterModeUI_()})}if(n){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},i.addTextTrack=function(n,s,a){if(this.tech_)return this.tech_.addTextTrack(n,s,a)},i.addRemoteTextTrack=function(n,s){if(this.tech_)return this.tech_.addRemoteTextTrack(n,s)},i.removeRemoteTextTrack=function(n){n===void 0&&(n={});var s=n,a=s.track;if(a||(a=n),this.tech_)return this.tech_.removeRemoteTextTrack(a)},i.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(n){if(n===void 0)return this.language_;this.language_!==String(n).toLowerCase()&&(this.language_=String(n).toLowerCase(),sr(this)&&this.trigger("languagechange"))},i.languages=function(){return Ze(e.prototype.options_.languages,this.languages_)},i.toJSON=function(){var n=Ze(this.options_),s=n.tracks;n.tracks=[];for(var a=0;a<s.length;a++){var o=s[a];o=Ze(o),o.player=void 0,n.tracks[a]=o}return n},i.createModal=function(n,s){var a=this;s=s||{},s.content=n||"";var o=new _o(this,s);return this.addChild(o),o.on("dispose",function(){a.removeChild(o)}),o.open(),o},i.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var n=this.currentBreakpoint(),s=this.currentWidth(),a=0;a<Fv.length;a++){var o=Fv[a],l=this.breakpoints_[o];if(s<=l){if(n===o)return;n&&this.removeClass(yd[n]),this.addClass(yd[o]),this.breakpoint_=o;break}}},i.removeCurrentBreakpoint_=function(){var n=this.currentBreakpointClass();this.breakpoint_="",n&&this.removeClass(n)},i.breakpoints=function(n){return n===void 0?at(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=at({},g6,n),this.updateCurrentBreakpoint_(),at(this.breakpoints_))},i.responsive=function(n){if(n===void 0)return this.responsive_;n=Boolean(n);var s=this.responsive_;if(n!==s)return this.responsive_=n,n?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),n},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return yd[this.breakpoint_]||""},i.loadMedia=function(n,s){var a=this;if(!(!n||typeof n!="object")){this.reset(),this.cache_.media=Ze(n);var o=this.cache_.media,l=o.artwork,u=o.poster,c=o.src,d=o.textTracks;!l&&u&&(this.cache_.media.artwork=[{src:u,type:df(u)}]),c&&this.src(c),u&&this.poster(u),Array.isArray(d)&&d.forEach(function(f){return a.addRemoteTextTrack(f,!1)}),this.ready(s)}},i.getMedia=function(){if(!this.cache_.media){var n=this.poster(),s=this.currentSources(),a=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),o={src:s,textTracks:a};return n&&(o.poster=n,o.artwork=[{src:o.poster,type:df(o.poster)}]),o}return Ze(this.cache_.media)},e.getTagSettings=function(n){var s={sources:[],tracks:[]},a=Gn(n),o=a["data-setup"];if(ws(n,"vjs-fill")&&(a.fill=!0),ws(n,"vjs-fluid")&&(a.fluid=!0),o!==null){var l=rB(o||"{}"),u=l[0],c=l[1];u&&Re.error(u),at(a,c)}if(at(s,a),n.hasChildNodes())for(var d=n.childNodes,f=0,p=d.length;f<p;f++){var g=d[f],b=g.nodeName.toLowerCase();b==="source"?s.sources.push(Gn(g)):b==="track"&&s.tracks.push(Gn(g))}return s},i.flexNotSupported_=function(){var n=se.createElement("i");return!("flexBasis"in n.style||"webkitFlexBasis"in n.style||"mozFlexBasis"in n.style||"msFlexBasis"in n.style||"msFlexOrder"in n.style)},i.debug=function(n){if(n===void 0)return this.debugEnabled_;n?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},i.playbackRates=function(n){if(n===void 0)return this.cache_.playbackRates;!Array.isArray(n)||!n.every(function(s){return typeof s=="number"})||(this.cache_.playbackRates=n,this.trigger("playbackrateschange"))},e}(Z);ni.names.forEach(function(t){var e=ni[t];gt.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});gt.prototype.crossorigin=gt.prototype.crossOrigin;gt.players={};var el=M.navigator;gt.prototype.options_={techOrder:Xe.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:el&&(el.languages&&el.languages[0]||el.userLanguage||el.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){gt.prototype[t]=function(){return this.techGet_(t)}});VP.forEach(function(t){gt.prototype["handleTech"+ft(t)+"_"]=function(){return this.trigger(t)}});Z.registerComponent("Player",gt);var pf="plugin",Ra="activePlugins_",ya={},mf=function(e){return ya.hasOwnProperty(e)},_d=function(e){return mf(e)?ya[e]:void 0},HP=function(e,i){e[Ra]=e[Ra]||{},e[Ra][i]=!0},vf=function(e,i,r){var n=(r?"before":"")+"pluginsetup";e.trigger(n,i),e.trigger(n+":"+i.name,i)},y6=function(e,i){var r=function(){vf(this,{name:e,plugin:i,instance:null},!0);var s=i.apply(this,arguments);return HP(this,e),vf(this,{name:e,plugin:i,instance:s}),s};return Object.keys(i).forEach(function(n){r[n]=i[n]}),r},Xx=function(e,i){return i.prototype.name=e,function(){vf(this,{name:e,plugin:i,instance:null},!0);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=pd(i,[this].concat(n));return this[e]=function(){return a},vf(this,a.getEventHash()),a}},zn=function(){function t(i){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=i,this.log||(this.log=this.player.log.createLogger(this.name)),my(this),delete this.trigger,dP(this,this.constructor.defaultState),HP(i,this.name),this.dispose=this.dispose.bind(this),i.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(r){return r===void 0&&(r={}),r.name=this.name,r.plugin=this.constructor,r.instance=this,r},e.trigger=function(r,n){return n===void 0&&(n={}),yo(this.eventBusEl_,r,this.getEventHash(n))},e.handleStateChanged=function(r){},e.dispose=function(){var r=this.name,n=this.player;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Ra][r]=!1,this.player=this.state=null,n[r]=Xx(r,ya[r])},t.isBasic=function(r){var n=typeof r=="string"?_d(r):r;return typeof n=="function"&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(r,n){if(typeof r!="string")throw new Error('Illegal plugin name, "'+r+'", must be a string, was '+typeof r+".");if(mf(r))Re.warn('A plugin named "'+r+'" already exists. You may want to avoid re-registering plugins!');else if(gt.prototype.hasOwnProperty(r))throw new Error('Illegal plugin name, "'+r+'", cannot share a name with an existing player method!');if(typeof n!="function")throw new Error('Illegal plugin for "'+r+'", must be a function, was '+typeof n+".");return ya[r]=n,r!==pf&&(t.isBasic(n)?gt.prototype[r]=y6(r,n):gt.prototype[r]=Xx(r,n)),n},t.deregisterPlugin=function(r){if(r===pf)throw new Error("Cannot de-register base plugin.");mf(r)&&(delete ya[r],delete gt.prototype[r])},t.getPlugins=function(r){r===void 0&&(r=Object.keys(ya));var n;return r.forEach(function(s){var a=_d(s);a&&(n=n||{},n[s]=a)}),n},t.getPluginVersion=function(r){var n=_d(r);return n&&n.VERSION||""},t}();zn.getPlugin=_d;zn.BASE_PLUGIN_NAME=pf;zn.registerPlugin(pf,zn);gt.prototype.usingPlugin=function(t){return!!this[Ra]&&this[Ra][t]===!0};gt.prototype.hasPlugin=function(t){return!!mf(t)};var _6=function(e,i){i===void 0&&(i={});var r=function(){e.apply(this,arguments)},n={};typeof i=="object"?(i.constructor!==Object.prototype.constructor&&(r=i.constructor),n=i):typeof i=="function"&&(r=i),$B(r,e),e&&(r.super_=e);for(var s in n)n.hasOwnProperty(s)&&(r.prototype[s]=n[s]);return r},WP=function(e){return e.indexOf("#")===0?e.slice(1):e};function V(t,e,i){var r=V.getPlayer(t);if(r)return e&&Re.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&r.ready(i),r;var n=typeof t=="string"?Kr("#"+WP(t)):t;if(!go(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!n.ownerDocument.defaultView||!n.ownerDocument.body.contains(n))&&Re.warn("The element supplied is not included in the DOM"),e=e||{},Xr("beforesetup").forEach(function(a){var o=a(n,Ze(e));if(!dr(o)||Array.isArray(o)){Re.error("please return an object in beforesetup hooks");return}e=Ze(e,o)});var s=Z.getComponent("Player");return r=new s(n,e,i),Xr("setup").forEach(function(a){return a(r)}),r}V.hooks_=Qn;V.hooks=Xr;V.hook=$8;V.hookOnce=G8;V.removeHook=Fk;if(M.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&vo()){var zc=Kr(".vjs-styles-defaults");if(!zc){zc=sP("vjs-styles-defaults");var Kp=Kr("head");Kp&&Kp.insertBefore(zc,Kp.firstChild),aP(zc,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Av(1,V);V.VERSION=Rk;V.options=gt.prototype.options_;V.getPlayers=function(){return gt.players};V.getPlayer=function(t){var e=gt.players,i;if(typeof t=="string"){var r=WP(t),n=e[r];if(n)return n;i=Kr("#"+r)}else i=t;if(go(i)){var s=i,a=s.player,o=s.playerId;if(a||e[o])return a||e[o]}};V.getAllPlayers=function(){return Object.keys(gt.players).map(function(t){return gt.players[t]}).filter(Boolean)};V.players=gt.players;V.getComponent=Z.getComponent;V.registerComponent=function(t,e){Xe.isTech(e)&&Re.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Z.registerComponent.call(Z,t,e)};V.getTech=Xe.getTech;V.registerTech=Xe.registerTech;V.use=Oz;Object.defineProperty(V,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(V.middleware,"TERMINATOR",{value:cf,writeable:!1,enumerable:!0});V.browser=Z8;V.TOUCH_ENABLED=Ya;V.extend=_6;V.mergeOptions=Ze;V.bind=et;V.registerPlugin=zn.registerPlugin;V.deregisterPlugin=zn.deregisterPlugin;V.plugin=function(t,e){return Re.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),zn.registerPlugin(t,e)};V.getPlugins=zn.getPlugins;V.getPlugin=zn.getPlugin;V.getPluginVersion=zn.getPluginVersion;V.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),V.options.languages=Ze(V.options.languages,(i={},i[t]=e,i)),V.options.languages[t]};V.log=Re;V.createLogger=Uk;V.createTimeRange=V.createTimeRanges=Es;V.formatTime=io;V.setFormatTime=Xz;V.resetFormatTime=Kz;V.parseUrl=gy;V.isCrossOrigin=bh;V.EventTarget=Pt;V.on=zi;V.one=yh;V.off=Xt;V.trigger=yo;V.xhr=jC;V.TextTrack=Wu;V.AudioTrack=mP;V.VideoTrack=vP;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){V[t]=function(){return Re.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),nP[t].apply(null,arguments)}});V.computedStyle=yu;V.dom=nP;V.url=Ez;V.defineLazyProperty=Fy;V.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.14.2 @license Apache-2.0 */var hn=oh,gf=function(e,i,r){return e&&r&&r.responseURL&&i!==r.responseURL?r.responseURL:i},Tn=function(e){return V.log.debug?V.log.debug.bind(V,"VHS:",e+" >"):function(){}},Qr=1/30,Dn=Qr*3,qP=function(e,i){var r=[],n;if(e&&e.length)for(n=0;n<e.length;n++)i(e.start(n),e.end(n))&&r.push([e.start(n),e.end(n)]);return V.createTimeRanges(r)},_a=function(e,i){return qP(e,function(r,n){return r-Dn<=i&&n+Dn>=i})},jc=function(e,i){return qP(e,function(r){return r-Qr>=i})},b6=function(e){if(e.length<2)return V.createTimeRanges();for(var i=[],r=1;r<e.length;r++){var n=e.end(r-1),s=e.start(r);i.push([n,s])}return V.createTimeRanges(i)},T6=function(e,i){var r=null,n=null,s=0,a=[],o=[];if(!e||!e.length||!i||!i.length)return V.createTimeRange();for(var l=e.length;l--;)a.push({time:e.start(l),type:"start"}),a.push({time:e.end(l),type:"end"});for(l=i.length;l--;)a.push({time:i.start(l),type:"start"}),a.push({time:i.end(l),type:"end"});for(a.sort(function(u,c){return u.time-c.time}),l=0;l<a.length;l++)a[l].type==="start"?(s++,s===2&&(r=a[l].time)):a[l].type==="end"&&(s--,s===1&&(n=a[l].time)),r!==null&&n!==null&&(o.push([r,n]),r=null,n=null);return V.createTimeRanges(o)},$P=function(e){var i=[];if(!e||!e.length)return"";for(var r=0;r<e.length;r++)i.push(e.start(r)+" => "+e.end(r));return i.join(", ")},x6=function(e,i,r){r===void 0&&(r=1);var n=e.length?e.end(e.length-1):0;return(n-i)/r},bs=function(e){for(var i=[],r=0;r<e.length;r++)i.push({start:e.start(r),end:e.end(r)});return i},S6=function(e,i){if(e===i)return!1;if(!e&&i||!i&&e||e.length!==i.length)return!0;for(var r=0;r<e.length;r++)if(e.start(r)!==i.start(r)||e.end(r)!==i.end(r))return!0;return!1},Kx=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},Ny=function(e,i){var r=0;if(!e||!e.length)return r;for(var n=0;n<e.length;n++){var s=e.start(n),a=e.end(n);if(!(i>a)){if(i>s&&i<=a){r+=a-i;continue}r+=a-s}}return r},Qx=V.createTimeRange,Uy=function(e,i){if(!i.preload)return i.duration;var r=0;return(i.parts||[]).forEach(function(n){r+=n.duration}),(i.preloadHints||[]).forEach(function(n){n.type==="PART"&&(r+=e.partTargetDuration)}),r},Nv=function(e){return(e.segments||[]).reduce(function(i,r,n){return r.parts?r.parts.forEach(function(s,a){i.push({duration:s.duration,segmentIndex:n,partIndex:a,part:s,segment:r})}):i.push({duration:r.duration,segmentIndex:n,partIndex:null,segment:r,part:null}),i},[])},GP=function(e){var i=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return i&&i.parts||[]},XP=function(e){var i=e.preloadSegment;if(!!i){var r=i.parts,n=i.preloadHints,s=(n||[]).reduce(function(a,o){return a+(o.type==="PART"?1:0)},0);return s+=r&&r.length?r.length:0,s}},KP=function(e,i){if(i.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var r=GP(i).length>0;return r&&i.serverControl&&i.serverControl.partHoldBack?i.serverControl.partHoldBack:r&&i.partTargetDuration?i.partTargetDuration*3:i.serverControl&&i.serverControl.holdBack?i.serverControl.holdBack:i.targetDuration?i.targetDuration*3:0},w6=function(e,i){var r=0,n=i-e.mediaSequence,s=e.segments[n];if(s){if(typeof s.start<"u")return{result:s.start,precise:!0};if(typeof s.end<"u")return{result:s.end-s.duration,precise:!0}}for(;n--;){if(s=e.segments[n],typeof s.end<"u")return{result:r+s.end,precise:!0};if(r+=Uy(e,s),typeof s.start<"u")return{result:r+s.start,precise:!0}}return{result:r,precise:!1}},E6=function(e,i){for(var r=0,n,s=i-e.mediaSequence;s<e.segments.length;s++){if(n=e.segments[s],typeof n.start<"u")return{result:n.start-r,precise:!0};if(r+=Uy(e,n),typeof n.end<"u")return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}},QP=function(e,i,r){if(typeof i>"u"&&(i=e.mediaSequence+e.segments.length),i<e.mediaSequence)return 0;var n=w6(e,i);if(n.precise)return n.result;var s=E6(e,i);return s.precise?s.result:n.result+r},YP=function(e,i,r){if(!e)return 0;if(typeof r!="number"&&(r=0),typeof i>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return M.Infinity}return QP(e,i,r)},Bl=function(e){var i=e.defaultDuration,r=e.durationList,n=e.startIndex,s=e.endIndex,a=0;if(n>s){var o=[s,n];n=o[0],s=o[1]}if(n<0){for(var l=n;l<Math.min(0,s);l++)a+=i;n=0}for(var u=n;u<s;u++)a+=r[u].duration;return a},JP=function(e,i,r,n){if(!e||!e.segments)return null;if(e.endList)return YP(e);if(i===null)return null;i=i||0;var s=QP(e,e.mediaSequence+e.segments.length,i);return r&&(n=typeof n=="number"?n:KP(null,e),s-=n),Math.max(0,s)},C6=function(e,i,r){var n=!0,s=i||0,a=JP(e,i,n,r);return a===null?Qx():Qx(s,a)},k6=function(e){for(var i=e.playlist,r=e.currentTime,n=e.startingSegmentIndex,s=e.startingPartIndex,a=e.startTime,o=e.experimentalExactManifestTimings,l=r-a,u=Nv(i),c=0,d=0;d<u.length;d++){var f=u[d];if(n===f.segmentIndex&&!(typeof s=="number"&&typeof f.partIndex=="number"&&s!==f.partIndex)){c=d;break}}if(l<0){if(c>0)for(var p=c-1;p>=0;p--){var g=u[p];if(l+=g.duration,o){if(l<0)continue}else if(l+Qr<=0)continue;return{partIndex:g.partIndex,segmentIndex:g.segmentIndex,startTime:a-Bl({defaultDuration:i.targetDuration,durationList:u,startIndex:c,endIndex:p})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:r}}if(c<0){for(var b=c;b<0;b++)if(l-=i.targetDuration,l<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:r};c=0}for(var y=c;y<u.length;y++){var T=u[y];if(l-=T.duration,o){if(l>0)continue}else if(l-Qr>=0)continue;return{partIndex:T.partIndex,segmentIndex:T.segmentIndex,startTime:a+Bl({defaultDuration:i.targetDuration,durationList:u,startIndex:c,endIndex:y})}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:r}},ZP=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},By=function(e){return e.excludeUntil&&e.excludeUntil===1/0},wh=function(e){var i=ZP(e);return!e.disabled&&!i},P6=function(e){return e.disabled},O6=function(e){for(var i=0;i<e.segments.length;i++)if(e.segments[i].key)return!0;return!1},eO=function(e,i){return i.attributes&&i.attributes[e]},A6=function(e,i,r,n){if(n===void 0&&(n=0),!eO("BANDWIDTH",r))return NaN;var s=e*r.attributes.BANDWIDTH;return(s-n*8)/i},Uv=function(e,i){if(e.playlists.length===1)return!0;var r=i.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(n){return wh(n)?(n.attributes.BANDWIDTH||0)<r:!1}).length===0},zy=function(e,i){return!e&&!i||!e&&i||e&&!i?!1:!!(e===i||e.id&&i.id&&e.id===i.id||e.resolvedUri&&i.resolvedUri&&e.resolvedUri===i.resolvedUri||e.uri&&i.uri&&e.uri===i.uri)},Yx=function(e,i){var r=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},n=!1;for(var s in r){for(var a in r[s])if(n=i(r[s][a]),n)break;if(n)break}return!!n},Gu=function(e){if(!e||!e.playlists||!e.playlists.length){var i=Yx(e,function(a){return a.playlists&&a.playlists.length||a.uri});return i}for(var r=function(o){var l=e.playlists[o],u=l.attributes&&l.attributes.CODECS;if(u&&u.split(",").every(function(d){return XC(d)}))return"continue";var c=Yx(e,function(d){return zy(l,d)});return c?"continue":{v:!1}},n=0;n<e.playlists.length;n++){var s=r(n);if(s!=="continue"&&typeof s=="object")return s.v}return!0},xi={liveEdgeDelay:KP,duration:YP,seekable:C6,getMediaInfoForTime:k6,isEnabled:wh,isDisabled:P6,isBlacklisted:ZP,isIncompatible:By,playlistEnd:JP,isAes:O6,hasAttribute:eO,estimateSegmentRequestTime:A6,isLowestEnabledRendition:Uv,isAudioOnly:Gu,playlistMatch:zy,segmentDurationWithParts:Uy},tO=V.log,jy=function(e,i){return e+"-"+i},I6=function(e){var i=e.onwarn,r=e.oninfo,n=e.manifestString,s=e.customTagParsers,a=s===void 0?[]:s,o=e.customTagMappers,l=o===void 0?[]:o,u=e.experimentalLLHLS,c=new ZB;i&&c.on("warn",i),r&&c.on("info",r),a.forEach(function(b){return c.addParser(b)}),l.forEach(function(b){return c.addTagMapper(b)}),c.push(n),c.end();var d=c.manifest;if(u||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(b){d.hasOwnProperty(b)&&delete d[b]}),d.segments&&d.segments.forEach(function(b){["parts","preloadHints"].forEach(function(y){b.hasOwnProperty(y)&&delete b[y]})})),!d.targetDuration){var f=10;d.segments&&d.segments.length&&(f=d.segments.reduce(function(b,y){return Math.max(b,y.duration)},0)),i&&i("manifest has no targetDuration defaulting to "+f),d.targetDuration=f}var p=GP(d);if(p.length&&!d.partTargetDuration){var g=p.reduce(function(b,y){return Math.max(b,y.duration)},0);i&&(i("manifest has no partTargetDuration defaulting to "+g),tO.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),d.partTargetDuration=g}return d},Xu=function(e,i){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(r){if(!!e.mediaGroups[r])for(var n in e.mediaGroups[r])for(var s in e.mediaGroups[r][n]){var a=e.mediaGroups[r][n][s];i(a,r,n,s)}})},iO=function(e){var i=e.playlist,r=e.uri,n=e.id;i.id=n,i.playlistErrors_=0,r&&(i.uri=r),i.attributes=i.attributes||{}},D6=function(e){for(var i=e.playlists.length;i--;){var r=e.playlists[i];iO({playlist:r,id:jy(i,r.uri)}),r.resolvedUri=hn(e.uri,r.uri),e.playlists[r.id]=r,e.playlists[r.uri]=r,r.attributes.BANDWIDTH||tO.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},M6=function(e){Xu(e,function(i){i.uri&&(i.resolvedUri=hn(e.uri,i.uri))})},L6=function(e,i){var r=jy(0,i),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:M.location.href,resolvedUri:M.location.href,playlists:[{uri:i,id:r,resolvedUri:i,attributes:{}}]};return n.playlists[r]=n.playlists[0],n.playlists[i]=n.playlists[0],n},nO=function(e,i){e.uri=i;for(var r=0;r<e.playlists.length;r++)if(!e.playlists[r].uri){var n="placeholder-uri-"+r;e.playlists[r].uri=n}var s=Gu(e);Xu(e,function(a,o,l,u){var c="placeholder-uri-"+o+"-"+l+"-"+u;if(!a.playlists||!a.playlists.length){if(s&&o==="AUDIO"&&!a.uri)for(var d=0;d<e.playlists.length;d++){var f=e.playlists[d];if(f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===l)return}a.playlists=[nn({},a)]}a.playlists.forEach(function(p,g){var b=jy(g,c);p.uri?p.resolvedUri=p.resolvedUri||hn(e.uri,p.uri):(p.uri=g===0?c:b,p.resolvedUri=p.uri),p.id=p.id||b,p.attributes=p.attributes||{},e.playlists[p.id]=p,e.playlists[p.uri]=p})}),D6(e),M6(e)},yf=V.mergeOptions,R6=V.EventTarget,F6=function(e,i){if(i.endList||!i.serverControl)return e;var r={};if(i.serverControl.canBlockReload){var n=i.preloadSegment,s=i.mediaSequence+i.segments.length;if(n){var a=n.parts||[],o=XP(i)-1;o>-1&&o!==a.length-1&&(r._HLS_part=o),(o>-1||a.length)&&s--}r._HLS_msn=s}if(i.serverControl&&i.serverControl.canSkipUntil&&(r._HLS_skip=i.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){var l=new M.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(u){!r.hasOwnProperty(u)||l.searchParams.set(u,r[u])}),e=l.toString()}return e},N6=function(e,i){if(!e)return i;var r=yf(e,i);if(e.preloadHints&&!i.preloadHints&&delete r.preloadHints,e.parts&&!i.parts)delete r.parts;else if(e.parts&&i.parts)for(var n=0;n<i.parts.length;n++)e.parts&&e.parts[n]&&(r.parts[n]=yf(e.parts[n],i.parts[n]));return!e.skipped&&i.skipped&&(r.skipped=!1),e.preload&&!i.preload&&(r.preload=!1),r},U6=function(e,i,r){var n=e.slice(),s=i.slice();r=r||0;for(var a=[],o,l=0;l<s.length;l++){var u=n[l+r],c=s[l];u?(o=u.map||o,a.push(N6(u,c))):(o&&!c.map&&(c.map=o),a.push(c))}return a},rO=function(e,i){!e.resolvedUri&&e.uri&&(e.resolvedUri=hn(i,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=hn(i,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=hn(i,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=hn(i,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(r){r.resolvedUri||(r.resolvedUri=hn(i,r.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(r){r.resolvedUri||(r.resolvedUri=hn(i,r.uri))})},sO=function(e){var i=e.segments||[],r=e.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints){for(var n=0;n<r.preloadHints.length;n++)if(r.preloadHints[n].type==="MAP")return i}r.duration=e.targetDuration,r.preload=!0,i.push(r)}return i},aO=function(e,i){return e===i||e.segments&&i.segments&&e.segments.length===i.segments.length&&e.endList===i.endList&&e.mediaSequence===i.mediaSequence&&e.preloadSegment===i.preloadSegment},Bv=function(e,i,r){r===void 0&&(r=aO);var n=yf(e,{}),s=n.playlists[i.id];if(!s||r(s,i))return null;i.segments=sO(i);var a=yf(s,i);if(a.preloadSegment&&!i.preloadSegment&&delete a.preloadSegment,s.segments){if(i.skip){i.segments=i.segments||[];for(var o=0;o<i.skip.skippedSegments;o++)i.segments.unshift({skipped:!0})}a.segments=U6(s.segments,i.segments,i.mediaSequence-s.mediaSequence)}a.segments.forEach(function(u){rO(u,a.resolvedUri)});for(var l=0;l<n.playlists.length;l++)n.playlists[l].id===i.id&&(n.playlists[l]=a);return n.playlists[i.id]=a,n.playlists[i.uri]=a,Xu(e,function(u,c,d,f){if(!!u.playlists)for(var p=0;p<u.playlists.length;p++)i.id===u.playlists[p].id&&(u.playlists[p]=a)}),n},zv=function(e,i){var r=e.segments||[],n=r[r.length-1],s=n&&n.parts&&n.parts[n.parts.length-1],a=s&&s.duration||n&&n.duration;return i&&a?a*1e3:(e.partTargetDuration||e.targetDuration||10)*500},ba=function(t){ce(e,t);function e(r,n,s){var a;if(s===void 0&&(s={}),a=t.call(this)||this,!r)throw new Error("A non-empty playlist URL or object is required");a.logger_=Tn("PlaylistLoader");var o=s,l=o.withCredentials,u=l===void 0?!1:l,c=o.handleManifestRedirects,d=c===void 0?!1:c;a.src=r,a.vhs_=n,a.withCredentials=u,a.handleManifestRedirects=d;var f=n.options_;return a.customTagParsers=f&&f.customTagParsers||[],a.customTagMappers=f&&f.customTagMappers||[],a.experimentalLLHLS=f&&f.experimentalLLHLS||!1,V.browser.IE_VERSION&&(a.experimentalLLHLS=!1),a.state="HAVE_NOTHING",a.handleMediaupdatetimeout_=a.handleMediaupdatetimeout_.bind(Ae(a)),a.on("mediaupdatetimeout",a.handleMediaupdatetimeout_),a}var i=e.prototype;return i.handleMediaupdatetimeout_=function(){var n=this;if(this.state==="HAVE_METADATA"){var s=this.media(),a=hn(this.master.uri,s.uri);this.experimentalLLHLS&&(a=F6(a,s)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:a,withCredentials:this.withCredentials},function(o,l){if(!!n.request){if(o)return n.playlistRequestError(n.request,n.media(),"HAVE_METADATA");n.haveMetadata({playlistString:n.request.responseText,url:n.media().uri,id:n.media().id})}})}},i.playlistRequestError=function(n,s,a){var o=s.uri,l=s.id;this.request=null,a&&(this.state=a),this.error={playlist:this.master.playlists[l],status:n.status,message:"HLS playlist request error at URL: "+o+".",responseText:n.responseText,code:n.status>=500?4:2},this.trigger("error")},i.parseManifest_=function(n){var s=this,a=n.url,o=n.manifestString;return I6({onwarn:function(u){var c=u.message;return s.logger_("m3u8-parser warn for "+a+": "+c)},oninfo:function(u){var c=u.message;return s.logger_("m3u8-parser info for "+a+": "+c)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},i.haveMetadata=function(n){var s=n.playlistString,a=n.playlistObject,o=n.url,l=n.id;this.request=null,this.state="HAVE_METADATA";var u=a||this.parseManifest_({url:o,manifestString:s});u.lastRequest=Date.now(),iO({playlist:u,uri:o,id:l});var c=Bv(this.master,u);this.targetDuration=u.partTargetDuration||u.targetDuration,this.pendingMedia_=null,c?(this.master=c,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(zv(this.media(),!!c)),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),M.clearTimeout(this.mediaUpdateTimeout),M.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},i.media=function(n,s){var a=this;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof n=="string"){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}if(M.clearTimeout(this.finalRenditionTimeout),s){var o=(n.partTargetDuration||n.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=M.setTimeout(this.media.bind(this,n,!1),o);return}var l=this.state,u=!this.media_||n.id!==this.media_.id,c=this.master.playlists[n.id];if(c&&c.endList||n.endList&&n.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,u&&(this.trigger("mediachanging"),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(zv(n,!0)),!!u){if(this.state="SWITCHING_MEDIA",this.request){if(n.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=n,this.request=this.vhs_.xhr({uri:n.resolvedUri,withCredentials:this.withCredentials},function(d,f){if(!!a.request){if(n.lastRequest=Date.now(),n.resolvedUri=gf(a.handleManifestRedirects,n.resolvedUri,f),d)return a.playlistRequestError(a.request,n,l);a.haveMetadata({playlistString:f.responseText,url:n.uri,id:n.id}),l==="HAVE_MASTER"?a.trigger("loadedmetadata"):a.trigger("mediachange")}})}},i.pause=function(){this.mediaUpdateTimeout&&(M.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},i.load=function(n){var s=this;this.mediaUpdateTimeout&&(M.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var a=this.media();if(n){var o=a?(a.partTargetDuration||a.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=M.setTimeout(function(){s.mediaUpdateTimeout=null,s.load()},o);return}if(!this.started){this.start();return}a&&!a.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},i.updateMediaUpdateTimeout_=function(n){var s=this;this.mediaUpdateTimeout&&(M.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=M.setTimeout(function(){s.mediaUpdateTimeout=null,s.trigger("mediaupdatetimeout"),s.updateMediaUpdateTimeout_(n)},n))},i.start=function(){var n=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=M.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){n.setupInitialPlaylist(n.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(s,a){if(!!n.request){if(n.request=null,s)return n.error={status:a.status,message:"HLS playlist request error at URL: "+n.src+".",responseText:a.responseText,code:2},n.state==="HAVE_NOTHING"&&(n.started=!1),n.trigger("error");n.src=gf(n.handleManifestRedirects,n.src,a);var o=n.parseManifest_({manifestString:a.responseText,url:n.src});n.setupInitialPlaylist(o)}})},i.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},i.setupInitialPlaylist=function(n){if(this.state="HAVE_MASTER",n.playlists){this.master=n,nO(this.master,this.srcUri()),n.playlists.forEach(function(a){a.segments=sO(a),a.segments.forEach(function(o){rO(o,a.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var s=this.srcUri()||M.location.href;this.master=L6(n,s),this.haveMetadata({playlistObject:n,url:s,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(R6),B6=V.xhr,z6=V.mergeOptions,jv=function(e,i,r,n){var s=e.responseType==="arraybuffer"?e.response:e.responseText;!i&&s&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=s.byteLength||s.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),r.headers&&(e.responseHeaders=r.headers),i&&i.code==="ETIMEDOUT"&&(e.timedout=!0),!i&&!e.aborted&&r.statusCode!==200&&r.statusCode!==206&&r.statusCode!==0&&(i=new Error("XHR Failed with a response of: "+(e&&(s||e.responseText)))),n(i,e)},oO=function(){var e=function i(r,n){r=z6({timeout:45e3},r);var s=i.beforeRequest||V.Vhs.xhr.beforeRequest;if(s&&typeof s=="function"){var a=s(r);a&&(r=a)}var o=V.Vhs.xhr.original===!0?B6:V.Vhs.xhr,l=o(r,function(c,d){return jv(l,c,d,n)}),u=l.abort;return l.abort=function(){return l.aborted=!0,u.apply(l,arguments)},l.uri=r.uri,l.requestTime=Date.now(),l};return e.original=!0,e},j6=function(e){var i,r=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?i=M.BigInt(e.offset)+M.BigInt(e.length)-M.BigInt(1):i=e.offset+e.length-1,"bytes="+r+"-"+i},Vv=function(e){var i={};return e.byterange&&(i.Range=j6(e.byterange)),i},V6=function(e,i){return e.start(i)+"-"+e.end(i)},H6=function(e,i){var r=e.toString(16);return"00".substring(0,2-r.length)+r+(i%2?" ":"")},W6=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},lO=function(e){var i={};return Object.keys(e).forEach(function(r){var n=e[r];QC(n)?i[r]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:i[r]=n}),i},_f=function(e){var i=e.byterange||{length:1/0,offset:0};return[i.length,i.offset,e.resolvedUri].join(",")},uO=function(e){return e.resolvedUri},cO=function(e){for(var i=Array.prototype.slice.call(e),r=16,n="",s,a,o=0;o<i.length/r;o++)s=i.slice(o*r,o*r+r).map(H6).join(""),a=i.slice(o*r,o*r+r).map(W6).join(""),n+=s+" "+a+`
`;return n},q6=function(e){var i=e.bytes;return cO(i)},$6=function(e){var i="",r;for(r=0;r<e.length;r++)i+=V6(e,r)+" ";return i},G6=Object.freeze({__proto__:null,createTransferableMessage:lO,initSegmentId:_f,segmentKeyId:uO,hexDump:cO,tagDump:q6,textRanges:$6}),dO=.25,X6=function(e,i){if(!i.dateTimeObject)return null;var r=i.videoTimingInfo.transmuxerPrependedSeconds,n=i.videoTimingInfo.transmuxedPresentationStart,s=n+r,a=e-s;return new Date(i.dateTimeObject.getTime()+a*1e3)},K6=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},Q6=function(e,i){var r;try{r=new Date(e)}catch{return null}if(!i||!i.segments||i.segments.length===0)return null;var n=i.segments[0];if(r<n.dateTimeObject)return null;for(var s=0;s<i.segments.length-1;s++){n=i.segments[s];var a=i.segments[s+1].dateTimeObject;if(r<a)break}var o=i.segments[i.segments.length-1],l=o.dateTimeObject,u=o.videoTimingInfo?K6(o.videoTimingInfo):o.duration+o.duration*dO,c=new Date(l.getTime()+u*1e3);return r>c?null:(r>l&&(n=o),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:xi.duration(i,i.mediaSequence+i.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},Y6=function(e,i){if(!i||!i.segments||i.segments.length===0)return null;for(var r=0,n,s=0;s<i.segments.length&&(n=i.segments[s],r=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration,!(e<=r));s++);var a=i.segments[i.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>r){if(e>r+a.duration*dO)return null;n=a}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},J6=function(e,i){var r,n;try{r=new Date(e),n=new Date(i)}catch{}var s=r.getTime(),a=n.getTime();return(a-s)/1e3},Z6=function(e){if(!e.segments||e.segments.length===0)return!1;for(var i=0;i<e.segments.length;i++){var r=e.segments[i];if(!r.dateTimeObject)return!1}return!0},e5=function(e){var i=e.playlist,r=e.time,n=r===void 0?void 0:r,s=e.callback;if(!s)throw new Error("getProgramTime: callback must be provided");if(!i||n===void 0)return s({message:"getProgramTime: playlist and time must be provided"});var a=Y6(n,i);if(!a)return s({message:"valid programTime was not found"});if(a.type==="estimate")return s({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var o={mediaSeconds:n},l=X6(n,a.segment);return l&&(o.programDateTime=l.toISOString()),s(null,o)},t5=function t(e){var i=e.programTime,r=e.playlist,n=e.retryCount,s=n===void 0?2:n,a=e.seekTo,o=e.pauseAfterSeek,l=o===void 0?!0:o,u=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(typeof i>"u"||!r||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!Z6(r))return c({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});var d=Q6(i,r);if(!d)return c({message:i+" was not found in the stream"});var f=d.segment,p=J6(f.dateTimeObject,i);if(d.type==="estimate"){if(s===0)return c({message:i+" is not buffered yet. Try again"});a(d.estimatedStart+p),u.one("seeked",function(){t({programTime:i,playlist:r,retryCount:s-1,seekTo:a,pauseAfterSeek:l,tech:u,callback:c})});return}var g=f.start+p,b=function(){return c(null,u.currentTime())};u.one("seeked",b),l&&u.pause(),a(g)},Qp=function(e,i){if(e.readyState===4)return i()},i5=function(e,i,r){var n=[],s,a=!1,o=function(f,p,g,b){return p.abort(),a=!0,r(f,p,g,b)},l=function(f,p){if(!a){if(f)return o(f,p,"",n);var g=p.responseText.substring(n&&n.byteLength||0,p.responseText.length);if(n=d4(n,YC(g,!0)),s=s||vl(n),n.length<10||s&&n.length<s+2)return Qp(p,function(){return o(f,p,"",n)});var b=ny(n);return b==="ts"&&n.length<188?Qp(p,function(){return o(f,p,"",n)}):!b&&n.length<376?Qp(p,function(){return o(f,p,"",n)}):o(null,p,b,n)}},u={uri:e,beforeSend:function(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function(p){return p.total,p.loaded,jv(f,null,{statusCode:f.status},l)})}},c=i(u,function(d,f){return jv(c,d,f,l)});return c},n5=V.EventTarget,fO=V.mergeOptions,Jx=function(e,i){if(!aO(e,i)||e.sidx&&i.sidx&&(e.sidx.offset!==i.sidx.offset||e.sidx.length!==i.sidx.length))return!1;if(!e.sidx&&i.sidx||e.sidx&&!i.sidx||e.segments&&!i.segments||!e.segments&&i.segments)return!1;if(!e.segments&&!i.segments)return!0;for(var r=0;r<e.segments.length;r++){var n=e.segments[r],s=i.segments[r];if(n.uri!==s.uri)return!1;if(!(!n.byterange&&!s.byterange)){var a=n.byterange,o=s.byterange;if(a&&!o||!a&&o||a.offset!==o.offset||a.length!==o.length)return!1}}return!0},r5=function(e){var i=e.masterXml,r=e.srcUrl,n=e.clientOffset,s=e.sidxMapping,a=e.previousManifest,o=E8(i,{manifestUri:r,clientOffset:n,sidxMapping:s,previousManifest:a});return nO(o,r),o},s5=function(e,i,r){for(var n=!0,s=fO(e,{duration:i.duration,minimumUpdatePeriod:i.minimumUpdatePeriod,timelineStarts:i.timelineStarts}),a=0;a<i.playlists.length;a++){var o=i.playlists[a];if(o.sidx){var l=dh(o.sidx);r&&r[l]&&r[l].sidx&&Z0(o,r[l].sidx,o.sidx.resolvedUri)}var u=Bv(s,o,Jx);u&&(s=u,n=!1)}return Xu(i,function(c,d,f,p){if(c.playlists&&c.playlists.length){var g=c.playlists[0].id,b=Bv(s,c.playlists[0],Jx);b&&(s=b,s.mediaGroups[d][f][p].playlists[0]=s.playlists[g],n=!1)}}),i.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(n=!1),n?null:s},a5=function(e,i){var r=Boolean(!e.map&&!i.map),n=r||Boolean(e.map&&i.map&&e.map.byterange.offset===i.map.byterange.offset&&e.map.byterange.length===i.map.byterange.length);return n&&e.uri===i.uri&&e.byterange.offset===i.byterange.offset&&e.byterange.length===i.byterange.length},Zx=function(e,i){var r={};for(var n in e){var s=e[n],a=s.sidx;if(a){var o=dh(a);if(!i[o])break;var l=i[o].sidxInfo;a5(l,a)&&(r[o]=i[o])}}return r},o5=function(e,i){var r=Zx(e.playlists,i),n=r;return Xu(e,function(s,a,o,l){if(s.playlists&&s.playlists.length){var u=s.playlists;n=fO(n,Zx(u,i))}}),n},Hv=function(t){ce(e,t);function e(r,n,s,a){var o;s===void 0&&(s={}),o=t.call(this)||this,o.masterPlaylistLoader_=a||Ae(o),a||(o.isMaster_=!0);var l=s,u=l.withCredentials,c=u===void 0?!1:u,d=l.handleManifestRedirects,f=d===void 0?!1:d;if(o.vhs_=n,o.withCredentials=c,o.handleManifestRedirects=f,!r)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=Tn("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=r,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=r,o}var i=e.prototype;return i.requestErrored_=function(n,s,a){if(!this.request)return!0;if(this.request=null,n)return this.error=typeof n=="object"&&!(n instanceof Error)?n:{status:s.status,message:"DASH request error at URL: "+s.uri,response:s.response,code:2},a&&(this.state=a),this.trigger("error"),!0},i.addSidxSegments_=function(n,s,a){var o=this,l=n.sidx&&dh(n.sidx);if(!n.sidx||!l||this.masterPlaylistLoader_.sidxMapping_[l]){this.mediaRequest_=M.setTimeout(function(){return a(!1)},0);return}var u=gf(this.handleManifestRedirects,n.sidx.resolvedUri),c=function(f,p){if(!o.requestErrored_(f,p,s)){var g=o.masterPlaylistLoader_.sidxMapping_,b;try{b=A8(Te(p.response).subarray(8))}catch(y){o.requestErrored_(y,p,s);return}return g[l]={sidxInfo:n.sidx,sidx:b},Z0(n,b,n.sidx.resolvedUri),a(!0)}};this.request=i5(u,this.vhs_.xhr,function(d,f,p,g){if(d)return c(d,f);if(!p||p!=="mp4")return c({status:f.status,message:"Unsupported "+(p||"unknown")+" container type for sidx segment at URL: "+u,response:"",playlist:n,internal:!0,blacklistDuration:1/0,code:2},f);var b=n.sidx.byterange,y=b.offset,T=b.length;if(g.length>=T+y)return c(d,{response:g.subarray(y,y+T),status:f.status,uri:f.uri});o.request=o.vhs_.xhr({uri:u,responseType:"arraybuffer",headers:Vv({byterange:n.sidx.byterange})},c)})},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},M.clearTimeout(this.minimumUpdatePeriodTimeout_),M.clearTimeout(this.mediaRequest_),M.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},i.media=function(n){var s=this;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var a=this.state;if(typeof n=="string"){if(!this.masterPlaylistLoader_.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.masterPlaylistLoader_.master.playlists[n]}var o=!this.media_||n.id!==this.media_.id;if(o&&this.loadedPlaylists_[n.id]&&this.loadedPlaylists_[n.id].endList){this.state="HAVE_METADATA",this.media_=n,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!o||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(n,a,function(l){s.haveMetadata({startingState:a,playlist:n})}))},i.haveMetadata=function(n){var s=n.startingState,a=n.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[a.id]=a,this.mediaRequest_=null,this.refreshMedia_(a.id),s==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},i.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),M.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(M.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},i.load=function(n){var s=this;M.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var a=this.media();if(n){var o=a?a.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=M.setTimeout(function(){return s.load()},o);return}if(!this.started){this.start();return}a&&!a.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},i.start=function(){var n=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=M.setTimeout(function(){return n.haveMaster_()},0);return}this.requestMaster_(function(s,a){n.haveMaster_(),!n.hasPendingRequest()&&!n.media_&&n.media(n.masterPlaylistLoader_.master.playlists[0])})},i.requestMaster_=function(n){var s=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(a,o){if(s.requestErrored_(a,o)){s.state==="HAVE_NOTHING"&&(s.started=!1);return}var l=o.responseText!==s.masterPlaylistLoader_.masterXml_;if(s.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?s.masterLoaded_=Date.parse(o.responseHeaders.date):s.masterLoaded_=Date.now(),s.masterPlaylistLoader_.srcUrl=gf(s.handleManifestRedirects,s.masterPlaylistLoader_.srcUrl,o),l){s.handleMaster_(),s.syncClientServerClock_(function(){return n(o,l)});return}return n(o,l)})},i.syncClientServerClock_=function(n){var s=this,a=C8(this.masterPlaylistLoader_.masterXml_);if(a===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),n();if(a.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=a.value-Date.now(),n();this.request=this.vhs_.xhr({uri:hn(this.masterPlaylistLoader_.srcUrl,a.value),method:a.method,withCredentials:this.withCredentials},function(o,l){if(!!s.request){if(o)return s.masterPlaylistLoader_.clientOffset_=s.masterLoaded_-Date.now(),n();var u;a.method==="HEAD"?!l.responseHeaders||!l.responseHeaders.date?u=s.masterLoaded_:u=Date.parse(l.responseHeaders.date):u=Date.parse(l.responseText),s.masterPlaylistLoader_.clientOffset_=u-Date.now(),n()}})},i.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},i.handleMaster_=function(){this.mediaRequest_=null;var n=this.masterPlaylistLoader_.master,s=r5({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:n});n&&(s=s5(n,s,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=s||n;var a=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return a&&a!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=a),(!n||s&&s.minimumUpdatePeriod!==n.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(s)},i.updateMinimumUpdatePeriodTimeout_=function(){var n=this.masterPlaylistLoader_;n.createMupOnMedia_&&(n.off("loadedmetadata",n.createMupOnMedia_),n.createMupOnMedia_=null),n.minimumUpdatePeriodTimeout_&&(M.clearTimeout(n.minimumUpdatePeriodTimeout_),n.minimumUpdatePeriodTimeout_=null);var s=n.master&&n.master.minimumUpdatePeriod;if(s===0&&(n.media()?s=n.media().targetDuration*1e3:(n.createMupOnMedia_=n.updateMinimumUpdatePeriodTimeout_,n.one("loadedmetadata",n.createMupOnMedia_))),typeof s!="number"||s<=0){s<0&&this.logger_("found invalid minimumUpdatePeriod of "+s+", not setting a timeout");return}this.createMUPTimeout_(s)},i.createMUPTimeout_=function(n){var s=this.masterPlaylistLoader_;s.minimumUpdatePeriodTimeout_=M.setTimeout(function(){s.minimumUpdatePeriodTimeout_=null,s.trigger("minimumUpdatePeriod"),s.createMUPTimeout_(n)},n)},i.refreshXml_=function(){var n=this;this.requestMaster_(function(s,a){!a||(n.media_&&(n.media_=n.masterPlaylistLoader_.master.playlists[n.media_.id]),n.masterPlaylistLoader_.sidxMapping_=o5(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.sidxMapping_),n.addSidxSegments_(n.media(),n.state,function(o){n.refreshMedia_(n.media().id)}))})},i.refreshMedia_=function(n){var s=this;if(!n)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var a=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==a[n];if(o?this.media_=a[n]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var l=function u(){s.media().endList||(s.mediaUpdateTimeout=M.setTimeout(function(){s.trigger("mediaupdatetimeout"),u()},zv(s.media(),Boolean(o))))};l()}this.trigger("loadedplaylist")},e}(n5),St={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},l5=function(e){for(var i=new Uint8Array(new ArrayBuffer(e.length)),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i.buffer},hO=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},u5=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var i=new BlobBuilder;return i.append(e),URL.createObjectURL(i.getBlob())}},pO=function(e){return function(){var i=u5(e),r=hO(new Worker(i));r.objURL=i;var n=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(i),n.call(this)},r}},mO=function(e){return"var browserWorkerPolyFill = "+hO.toString()+`;
browserWorkerPolyFill(self);
`+e},vO=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},c5=mO(vO(function(){var t=function(){this.init=function(){var h={};this.on=function(v,m){h[v]||(h[v]=[]),h[v]=h[v].concat(m)},this.off=function(v,m){var _;return h[v]?(_=h[v].indexOf(m),h[v]=h[v].slice(),h[v].splice(_,1),_>-1):!1},this.trigger=function(v){var m,_,x,S;if(m=h[v],!!m)if(arguments.length===2)for(x=m.length,_=0;_<x;++_)m[_].call(this,arguments[1]);else{for(S=[],_=arguments.length,_=1;_<arguments.length;++_)S.push(arguments[_]);for(x=m.length,_=0;_<x;++_)m[_].apply(this,S)}},this.dispose=function(){h={}}}};t.prototype.pipe=function(C){return this.on("data",function(h){C.push(h)}),this.on("done",function(h){C.flush(h)}),this.on("partialdone",function(h){C.partialFlush(h)}),this.on("endedtimeline",function(h){C.endTimeline(h)}),this.on("reset",function(h){C.reset(h)}),C},t.prototype.push=function(C){this.trigger("data",C)},t.prototype.flush=function(C){this.trigger("done",C)},t.prototype.partialFlush=function(C){this.trigger("partialdone",C)},t.prototype.endTimeline=function(C){this.trigger("endedtimeline",C)},t.prototype.reset=function(C){this.trigger("reset",C)};var e=t,i=Math.pow(2,32),r=function(h){var v=new DataView(h.buffer,h.byteOffset,h.byteLength),m;return v.getBigUint64?(m=v.getBigUint64(0),m<Number.MAX_SAFE_INTEGER?Number(m):m):v.getUint32(0)*i+v.getUint32(4)},n={getUint64:r,MAX_UINT32:i},s=n.MAX_UINT32,a,o,l,u,c,d,f,p,g,b,y,T,w,O,P,F,L,R,E,k,A,U,z,H,G,Q,ee,q,Y,te,pe,J,$,de,X,W;(function(){var C;if(z={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(C in z)z.hasOwnProperty(C)&&(z[C]=[C.charCodeAt(0),C.charCodeAt(1),C.charCodeAt(2),C.charCodeAt(3)]);H=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Q=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),G=new Uint8Array([0,0,0,1]),ee=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),q=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Y={video:ee,audio:q},J=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),pe=new Uint8Array([0,0,0,0,0,0,0,0]),$=new Uint8Array([0,0,0,0,0,0,0,0]),de=$,X=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),W=$,te=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(h){var v=[],m=0,_,x,S;for(_=1;_<arguments.length;_++)v.push(arguments[_]);for(_=v.length;_--;)m+=v[_].byteLength;for(x=new Uint8Array(m+8),S=new DataView(x.buffer,x.byteOffset,x.byteLength),S.setUint32(0,x.byteLength),x.set(h,4),_=0,m=8;_<v.length;_++)x.set(v[_],m),m+=v[_].byteLength;return x},o=function(){return a(z.dinf,a(z.dref,J))},l=function(h){return a(z.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,h.audioobjecttype<<3|h.samplingfrequencyindex>>>1,h.samplingfrequencyindex<<7|h.channelcount<<3,6,1,2]))},u=function(){return a(z.ftyp,H,G,H,Q)},F=function(h){return a(z.hdlr,Y[h])},c=function(h){return a(z.mdat,h)},P=function(h){var v=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,h.duration>>>24&255,h.duration>>>16&255,h.duration>>>8&255,h.duration&255,85,196,0,0]);return h.samplerate&&(v[12]=h.samplerate>>>24&255,v[13]=h.samplerate>>>16&255,v[14]=h.samplerate>>>8&255,v[15]=h.samplerate&255),a(z.mdhd,v)},O=function(h){return a(z.mdia,P(h),F(h.type),f(h))},d=function(h){return a(z.mfhd,new Uint8Array([0,0,0,0,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255]))},f=function(h){return a(z.minf,h.type==="video"?a(z.vmhd,te):a(z.smhd,pe),o(),R(h))},p=function(h,v){for(var m=[],_=v.length;_--;)m[_]=k(v[_]);return a.apply(null,[z.moof,d(h)].concat(m))},g=function(h){for(var v=h.length,m=[];v--;)m[v]=T(h[v]);return a.apply(null,[z.moov,y(4294967295)].concat(m).concat(b(h)))},b=function(h){for(var v=h.length,m=[];v--;)m[v]=A(h[v]);return a.apply(null,[z.mvex].concat(m))},y=function(h){var v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(z.mvhd,v)},L=function(h){var v=h.samples||[],m=new Uint8Array(4+v.length),_,x;for(x=0;x<v.length;x++)_=v[x].flags,m[x+4]=_.dependsOn<<4|_.isDependedOn<<2|_.hasRedundancy;return a(z.sdtp,m)},R=function(h){return a(z.stbl,E(h),a(z.stts,W),a(z.stsc,de),a(z.stsz,X),a(z.stco,$))},function(){var C,h;E=function(m){return a(z.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),m.type==="video"?C(m):h(m))},C=function(m){var _=m.sps||[],x=m.pps||[],S=[],I=[],D,B;for(D=0;D<_.length;D++)S.push((_[D].byteLength&65280)>>>8),S.push(_[D].byteLength&255),S=S.concat(Array.prototype.slice.call(_[D]));for(D=0;D<x.length;D++)I.push((x[D].byteLength&65280)>>>8),I.push(x[D].byteLength&255),I=I.concat(Array.prototype.slice.call(x[D]));if(B=[z.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(m.width&65280)>>8,m.width&255,(m.height&65280)>>8,m.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(z.avcC,new Uint8Array([1,m.profileIdc,m.profileCompatibility,m.levelIdc,255].concat([_.length],S,[x.length],I))),a(z.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],m.sarRatio){var N=m.sarRatio[0],j=m.sarRatio[1];B.push(a(z.pasp,new Uint8Array([(N&4278190080)>>24,(N&16711680)>>16,(N&65280)>>8,N&255,(j&4278190080)>>24,(j&16711680)>>16,(j&65280)>>8,j&255])))}return a.apply(null,B)},h=function(m){return a(z.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(m.channelcount&65280)>>8,m.channelcount&255,(m.samplesize&65280)>>8,m.samplesize&255,0,0,0,0,(m.samplerate&65280)>>8,m.samplerate&255,0,0]),l(m))}}(),w=function(h){var v=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,0,(h.duration&4278190080)>>24,(h.duration&16711680)>>16,(h.duration&65280)>>8,h.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(h.width&65280)>>8,h.width&255,0,0,(h.height&65280)>>8,h.height&255,0,0]);return a(z.tkhd,v)},k=function(h){var v,m,_,x,S,I,D;return v=a(z.tfhd,new Uint8Array([0,0,0,58,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),I=Math.floor(h.baseMediaDecodeTime/s),D=Math.floor(h.baseMediaDecodeTime%s),m=a(z.tfdt,new Uint8Array([1,0,0,0,I>>>24&255,I>>>16&255,I>>>8&255,I&255,D>>>24&255,D>>>16&255,D>>>8&255,D&255])),S=32+20+8+16+8+8,h.type==="audio"?(_=U(h,S),a(z.traf,v,m,_)):(x=L(h),_=U(h,x.length+S),a(z.traf,v,m,_,x))},T=function(h){return h.duration=h.duration||4294967295,a(z.trak,w(h),O(h))},A=function(h){var v=new Uint8Array([0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return h.type!=="video"&&(v[v.length-1]=0),a(z.trex,v)},function(){var C,h,v;v=function(_,x){var S=0,I=0,D=0,B=0;return _.length&&(_[0].duration!==void 0&&(S=1),_[0].size!==void 0&&(I=2),_[0].flags!==void 0&&(D=4),_[0].compositionTimeOffset!==void 0&&(B=8)),[0,0,S|I|D|B,1,(_.length&4278190080)>>>24,(_.length&16711680)>>>16,(_.length&65280)>>>8,_.length&255,(x&4278190080)>>>24,(x&16711680)>>>16,(x&65280)>>>8,x&255]},h=function(_,x){var S,I,D,B,N,j;for(B=_.samples||[],x+=8+12+16*B.length,D=v(B,x),I=new Uint8Array(D.length+B.length*16),I.set(D),S=D.length,j=0;j<B.length;j++)N=B[j],I[S++]=(N.duration&4278190080)>>>24,I[S++]=(N.duration&16711680)>>>16,I[S++]=(N.duration&65280)>>>8,I[S++]=N.duration&255,I[S++]=(N.size&4278190080)>>>24,I[S++]=(N.size&16711680)>>>16,I[S++]=(N.size&65280)>>>8,I[S++]=N.size&255,I[S++]=N.flags.isLeading<<2|N.flags.dependsOn,I[S++]=N.flags.isDependedOn<<6|N.flags.hasRedundancy<<4|N.flags.paddingValue<<1|N.flags.isNonSyncSample,I[S++]=N.flags.degradationPriority&240<<8,I[S++]=N.flags.degradationPriority&15,I[S++]=(N.compositionTimeOffset&4278190080)>>>24,I[S++]=(N.compositionTimeOffset&16711680)>>>16,I[S++]=(N.compositionTimeOffset&65280)>>>8,I[S++]=N.compositionTimeOffset&255;return a(z.trun,I)},C=function(_,x){var S,I,D,B,N,j;for(B=_.samples||[],x+=8+12+8*B.length,D=v(B,x),S=new Uint8Array(D.length+B.length*8),S.set(D),I=D.length,j=0;j<B.length;j++)N=B[j],S[I++]=(N.duration&4278190080)>>>24,S[I++]=(N.duration&16711680)>>>16,S[I++]=(N.duration&65280)>>>8,S[I++]=N.duration&255,S[I++]=(N.size&4278190080)>>>24,S[I++]=(N.size&16711680)>>>16,S[I++]=(N.size&65280)>>>8,S[I++]=N.size&255;return a(z.trun,S)},U=function(_,x){return _.type==="audio"?C(_,x):h(_,x)}}();var ae={ftyp:u,mdat:c,moof:p,moov:g,initSegment:function(h){var v=u(),m=g(h),_;return _=new Uint8Array(v.byteLength+m.byteLength),_.set(v),_.set(m,v.byteLength),_}},fe=function(h){var v,m,_=[],x=[];for(x.byteLength=0,x.nalCount=0,x.duration=0,_.byteLength=0,v=0;v<h.length;v++)m=h[v],m.nalUnitType==="access_unit_delimiter_rbsp"?(_.length&&(_.duration=m.dts-_.dts,x.byteLength+=_.byteLength,x.nalCount+=_.length,x.duration+=_.duration,x.push(_)),_=[m],_.byteLength=m.data.byteLength,_.pts=m.pts,_.dts=m.dts):(m.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(_.keyFrame=!0),_.duration=m.dts-_.dts,_.byteLength+=m.data.byteLength,_.push(m));return x.length&&(!_.duration||_.duration<=0)&&(_.duration=x[x.length-1].duration),x.byteLength+=_.byteLength,x.nalCount+=_.length,x.duration+=_.duration,x.push(_),x},le=function(h){var v,m,_=[],x=[];for(_.byteLength=0,_.nalCount=0,_.duration=0,_.pts=h[0].pts,_.dts=h[0].dts,x.byteLength=0,x.nalCount=0,x.duration=0,x.pts=h[0].pts,x.dts=h[0].dts,v=0;v<h.length;v++)m=h[v],m.keyFrame?(_.length&&(x.push(_),x.byteLength+=_.byteLength,x.nalCount+=_.nalCount,x.duration+=_.duration),_=[m],_.nalCount=m.length,_.byteLength=m.byteLength,_.pts=m.pts,_.dts=m.dts,_.duration=m.duration):(_.duration+=m.duration,_.nalCount+=m.length,_.byteLength+=m.byteLength,_.push(m));return x.length&&_.duration<=0&&(_.duration=x[x.length-1].duration),x.byteLength+=_.byteLength,x.nalCount+=_.nalCount,x.duration+=_.duration,x.push(_),x},re=function(h){var v;return!h[0][0].keyFrame&&h.length>1&&(v=h.shift(),h.byteLength-=v.byteLength,h.nalCount-=v.nalCount,h[0][0].dts=v.dts,h[0][0].pts=v.pts,h[0][0].duration+=v.duration),h},Se=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Le=function(h,v){var m=Se();return m.dataOffset=v,m.compositionTimeOffset=h.pts-h.dts,m.duration=h.duration,m.size=4*h.length,m.size+=h.byteLength,h.keyFrame&&(m.flags.dependsOn=2,m.flags.isNonSyncSample=0),m},ze=function(h,v){var m,_,x,S,I,D=v||0,B=[];for(m=0;m<h.length;m++)for(S=h[m],_=0;_<S.length;_++)I=S[_],x=Le(I,D),D+=x.size,B.push(x);return B},ge=function(h){var v,m,_,x,S,I,D=0,B=h.byteLength,N=h.nalCount,j=B+4*N,K=new Uint8Array(j),ue=new DataView(K.buffer);for(v=0;v<h.length;v++)for(x=h[v],m=0;m<x.length;m++)for(S=x[m],_=0;_<S.length;_++)I=S[_],ue.setUint32(D,I.data.byteLength),D+=4,K.set(I.data,D),D+=I.data.byteLength;return K},Pe=function(h,v){var m,_=v||0,x=[];return m=Le(h,_),x.push(m),x},Ne=function(h){var v,m,_=0,x=h.byteLength,S=h.length,I=x+4*S,D=new Uint8Array(I),B=new DataView(D.buffer);for(v=0;v<h.length;v++)m=h[v],B.setUint32(_,m.data.byteLength),_+=4,D.set(m.data,_),_+=m.data.byteLength;return D},we={groupNalsIntoFrames:fe,groupFramesIntoGops:le,extendFirstKeyFrame:re,generateSampleTable:ze,concatenateNalData:ge,generateSampleTableForFrame:Pe,concatenateNalDataForFrame:Ne},mt=[33,16,5,32,164,27],yt=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ke=function(h){for(var v=[];h--;)v.push(0);return v},xn=function(h){return Object.keys(h).reduce(function(v,m){return v[m]=new Uint8Array(h[m].reduce(function(_,x){return _.concat(x)},[])),v},{})},pi,mi=function(){if(!pi){var h={96e3:[mt,[227,64],ke(154),[56]],88200:[mt,[231],ke(170),[56]],64e3:[mt,[248,192],ke(240),[56]],48e3:[mt,[255,192],ke(268),[55,148,128],ke(54),[112]],44100:[mt,[255,192],ke(268),[55,163,128],ke(84),[112]],32e3:[mt,[255,192],ke(268),[55,234],ke(226),[112]],24e3:[mt,[255,192],ke(268),[55,255,128],ke(268),[111,112],ke(126),[224]],16e3:[mt,[255,192],ke(268),[55,255,128],ke(268),[111,255],ke(269),[223,108],ke(195),[1,192]],12e3:[yt,ke(268),[3,127,248],ke(268),[6,255,240],ke(268),[13,255,224],ke(268),[27,253,128],ke(259),[56]],11025:[yt,ke(268),[3,127,248],ke(268),[6,255,240],ke(268),[13,255,224],ke(268),[27,255,192],ke(268),[55,175,128],ke(108),[112]],8e3:[yt,ke(268),[3,121,16],ke(47),[7]]};pi=xn(h)}return pi},vt=9e4,Hi,_t,sn,Di,So,gr,is;Hi=function(h){return h*vt},_t=function(h,v){return h*v},sn=function(h){return h/vt},Di=function(h,v){return h/v},So=function(h,v){return Hi(Di(h,v))},gr=function(h,v){return _t(sn(h),v)},is=function(h,v,m){return sn(m?h:h-v)};var Fe={ONE_SECOND_IN_TS:vt,secondsToVideoTs:Hi,secondsToAudioTs:_t,videoTsToSeconds:sn,audioTsToSeconds:Di,audioTsToVideoTs:So,videoTsToAudioTs:gr,metadataTsToSeconds:is},zO=function(h){var v,m,_=0;for(v=0;v<h.length;v++)m=h[v],_+=m.data.byteLength;return _},jO=function(h,v,m,_){var x,S=0,I=0,D=0,B=0,N,j,K;if(!!v.length&&(x=Fe.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),S=Math.ceil(Fe.ONE_SECOND_IN_TS/(h.samplerate/1024)),m&&_&&(I=x-Math.max(m,_),D=Math.floor(I/S),B=D*S),!(D<1||B>Fe.ONE_SECOND_IN_TS/2))){for(N=mi()[h.samplerate],N||(N=v[0].data),j=0;j<D;j++)K=v[0],v.splice(0,0,{data:N,dts:K.dts-S,pts:K.pts-S});return h.baseMediaDecodeTime-=Math.floor(Fe.videoTsToAudioTs(B,h.samplerate)),B}},VO=function(h,v,m){return v.minSegmentDts>=m?h:(v.minSegmentDts=1/0,h.filter(function(_){return _.dts>=m?(v.minSegmentDts=Math.min(v.minSegmentDts,_.dts),v.minSegmentPts=v.minSegmentDts,!0):!1}))},HO=function(h){var v,m,_=[];for(v=0;v<h.length;v++)m=h[v],_.push({size:m.data.byteLength,duration:1024});return _},WO=function(h){var v,m,_=0,x=new Uint8Array(zO(h));for(v=0;v<h.length;v++)m=h[v],x.set(m.data,_),_+=m.data.byteLength;return x},Ku={prefixWithSilence:jO,trimAdtsFramesByEarliestDts:VO,generateSampleTable:HO,concatenateFrameData:WO},qO=Fe.ONE_SECOND_IN_TS,$O=function(h,v){typeof v.pts=="number"&&(h.timelineStartInfo.pts===void 0&&(h.timelineStartInfo.pts=v.pts),h.minSegmentPts===void 0?h.minSegmentPts=v.pts:h.minSegmentPts=Math.min(h.minSegmentPts,v.pts),h.maxSegmentPts===void 0?h.maxSegmentPts=v.pts:h.maxSegmentPts=Math.max(h.maxSegmentPts,v.pts)),typeof v.dts=="number"&&(h.timelineStartInfo.dts===void 0&&(h.timelineStartInfo.dts=v.dts),h.minSegmentDts===void 0?h.minSegmentDts=v.dts:h.minSegmentDts=Math.min(h.minSegmentDts,v.dts),h.maxSegmentDts===void 0?h.maxSegmentDts=v.dts:h.maxSegmentDts=Math.max(h.maxSegmentDts,v.dts))},GO=function(h){delete h.minSegmentDts,delete h.maxSegmentDts,delete h.minSegmentPts,delete h.maxSegmentPts},XO=function(h,v){var m,_,x=h.minSegmentDts;return v||(x-=h.timelineStartInfo.dts),m=h.timelineStartInfo.baseMediaDecodeTime,m+=x,m=Math.max(0,m),h.type==="audio"&&(_=h.samplerate/qO,m*=_,m=Math.floor(m)),m},an={clearDtsInfo:GO,calculateTrackBaseMediaDecodeTime:XO,collectDtsInfo:$O},$y=4,KO=128,QO=function(h){for(var v=0,m={payloadType:-1,payloadSize:0},_=0,x=0;v<h.byteLength&&h[v]!==KO;){for(;h[v]===255;)_+=255,v++;for(_+=h[v++];h[v]===255;)x+=255,v++;if(x+=h[v++],!m.payload&&_===$y){var S=String.fromCharCode(h[v+3],h[v+4],h[v+5],h[v+6]);if(S==="GA94"){m.payloadType=_,m.payloadSize=x,m.payload=h.subarray(v,v+x);break}else m.payload=void 0}v+=x,_=0,x=0}return m},YO=function(h){return h.payload[0]!==181||(h.payload[1]<<8|h.payload[2])!==49||String.fromCharCode(h.payload[3],h.payload[4],h.payload[5],h.payload[6])!=="GA94"||h.payload[7]!==3?null:h.payload.subarray(8,h.payload.length-1)},JO=function(h,v){var m=[],_,x,S,I;if(!(v[0]&64))return m;for(x=v[0]&31,_=0;_<x;_++)S=_*3,I={type:v[S+2]&3,pts:h},v[S+2]&4&&(I.ccData=v[S+3]<<8|v[S+4],m.push(I));return m},ZO=function(h){for(var v=h.byteLength,m=[],_=1,x,S;_<v-2;)h[_]===0&&h[_+1]===0&&h[_+2]===3?(m.push(_+2),_+=2):_++;if(m.length===0)return h;x=v-m.length,S=new Uint8Array(x);var I=0;for(_=0;_<x;I++,_++)I===m[0]&&(I++,m.shift()),S[_]=h[I];return S},wo={parseSei:QO,parseUserData:YO,parseCaptionPackets:JO,discardEmulationPreventionBytes:ZO,USER_DATA_REGISTERED_ITU_T_T35:$y},Mi=function C(h){h=h||{},C.prototype.init.call(this),this.parse708captions_=typeof h.parse708captions=="boolean"?h.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new rt(0,0),new rt(0,1),new rt(1,0),new rt(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ke({captionServices:h.captionServices})),this.reset(),this.ccStreams_.forEach(function(v){v.on("data",this.trigger.bind(this,"data")),v.on("partialdone",this.trigger.bind(this,"partialdone")),v.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Mi.prototype=new e,Mi.prototype.push=function(C){var h,v,m;if(C.nalUnitType==="sei_rbsp"&&(h=wo.parseSei(C.escapedRBSP),!!h.payload&&h.payloadType===wo.USER_DATA_REGISTERED_ITU_T_T35&&(v=wo.parseUserData(h),!!v))){if(C.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(C.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}m=wo.parseCaptionPackets(C.pts,v),this.captionPackets_=this.captionPackets_.concat(m),this.latestDts_!==C.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=C.dts}},Mi.prototype.flushCCStreams=function(C){this.ccStreams_.forEach(function(h){return C==="flush"?h.flush():h.partialFlush()},this)},Mi.prototype.flushStream=function(C){if(!this.captionPackets_.length){this.flushCCStreams(C);return}this.captionPackets_.forEach(function(h,v){h.presortIndex=v}),this.captionPackets_.sort(function(h,v){return h.pts===v.pts?h.presortIndex-v.presortIndex:h.pts-v.pts}),this.captionPackets_.forEach(function(h){h.type<2?this.dispatchCea608Packet(h):this.dispatchCea708Packet(h)},this),this.captionPackets_.length=0,this.flushCCStreams(C)},Mi.prototype.flush=function(){return this.flushStream("flush")},Mi.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Mi.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(C){C.reset()})},Mi.prototype.dispatchCea608Packet=function(C){this.setsTextOrXDSActive(C)?this.activeCea608Channel_[C.type]=null:this.setsChannel1Active(C)?this.activeCea608Channel_[C.type]=0:this.setsChannel2Active(C)&&(this.activeCea608Channel_[C.type]=1),this.activeCea608Channel_[C.type]!==null&&this.ccStreams_[(C.type<<1)+this.activeCea608Channel_[C.type]].push(C)},Mi.prototype.setsChannel1Active=function(C){return(C.ccData&30720)===4096},Mi.prototype.setsChannel2Active=function(C){return(C.ccData&30720)===6144},Mi.prototype.setsTextOrXDSActive=function(C){return(C.ccData&28928)===256||(C.ccData&30974)===4138||(C.ccData&30974)===6186},Mi.prototype.dispatchCea708Packet=function(C){this.parse708captions_&&this.cc708Stream_.push(C)};var eA={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},tA=function(h){var v=eA[h]||h;return h&4096&&h===v?"":String.fromCharCode(v)},Qu=function(h){return 32<=h&&h<=127||160<=h&&h<=255},Vn=function(h){this.windowNum=h,this.reset()};Vn.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Vn.prototype.getText=function(){return this.rows.join(`
`)},Vn.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Vn.prototype.newLine=function(C){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(C),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Vn.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Vn.prototype.addText=function(C){this.rows[this.rowIdx]+=C},Vn.prototype.backspace=function(){if(!this.isEmpty()){var C=this.rows[this.rowIdx];this.rows[this.rowIdx]=C.substr(0,C.length-1)}};var Yu=function(h,v,m){this.serviceNum=h,this.text="",this.currentWindow=new Vn(-1),this.windows=[],this.stream=m,typeof v=="string"&&this.createTextDecoder(v)};Yu.prototype.init=function(C,h){this.startPts=C;for(var v=0;v<8;v++)this.windows[v]=new Vn(v),typeof h=="function"&&(this.windows[v].beforeRowOverflow=h)},Yu.prototype.setCurrentWindow=function(C){this.currentWindow=this.windows[C]},Yu.prototype.createTextDecoder=function(C){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(C)}catch(h){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+C+" encoding. "+h})}};var Ke=function C(h){h=h||{},C.prototype.init.call(this);var v=this,m=h.captionServices||{},_={},x;Object.keys(m).forEach(function(S){x=m[S],/^SERVICE/.test(S)&&(_[S]=x.encoding)}),this.serviceEncodings=_,this.current708Packet=null,this.services={},this.push=function(S){S.type===3?(v.new708Packet(),v.add708Bytes(S)):(v.current708Packet===null&&v.new708Packet(),v.add708Bytes(S))}};Ke.prototype=new e,Ke.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ke.prototype.add708Bytes=function(C){var h=C.ccData,v=h>>>8,m=h&255;this.current708Packet.ptsVals.push(C.pts),this.current708Packet.data.push(v),this.current708Packet.data.push(m)},Ke.prototype.push708Packet=function(){var C=this.current708Packet,h=C.data,v=null,m=null,_=0,x=h[_++];for(C.seq=x>>6,C.sizeCode=x&63;_<h.length;_++)x=h[_++],v=x>>5,m=x&31,v===7&&m>0&&(x=h[_++],v=x),this.pushServiceBlock(v,_,m),m>0&&(_+=m-1)},Ke.prototype.pushServiceBlock=function(C,h,v){var m,_=h,x=this.current708Packet.data,S=this.services[C];for(S||(S=this.initService(C,_));_<h+v&&_<x.length;_++)m=x[_],Qu(m)?_=this.handleText(_,S):m===24?_=this.multiByteCharacter(_,S):m===16?_=this.extendedCommands(_,S):128<=m&&m<=135?_=this.setCurrentWindow(_,S):152<=m&&m<=159?_=this.defineWindow(_,S):m===136?_=this.clearWindows(_,S):m===140?_=this.deleteWindows(_,S):m===137?_=this.displayWindows(_,S):m===138?_=this.hideWindows(_,S):m===139?_=this.toggleWindows(_,S):m===151?_=this.setWindowAttributes(_,S):m===144?_=this.setPenAttributes(_,S):m===145?_=this.setPenColor(_,S):m===146?_=this.setPenLocation(_,S):m===143?S=this.reset(_,S):m===8?S.currentWindow.backspace():m===12?S.currentWindow.clearText():m===13?S.currentWindow.pendingNewLine=!0:m===14?S.currentWindow.clearText():m===141&&_++},Ke.prototype.extendedCommands=function(C,h){var v=this.current708Packet.data,m=v[++C];return Qu(m)&&(C=this.handleText(C,h,{isExtended:!0})),C},Ke.prototype.getPts=function(C){return this.current708Packet.ptsVals[Math.floor(C/2)]},Ke.prototype.initService=function(C,h){var m="SERVICE"+C,v=this,m,_;return m in this.serviceEncodings&&(_=this.serviceEncodings[m]),this.services[C]=new Yu(C,_,v),this.services[C].init(this.getPts(h),function(x){v.flushDisplayed(x,v.services[C])}),this.services[C]},Ke.prototype.handleText=function(C,h,v){var m=v&&v.isExtended,_=v&&v.isMultiByte,x=this.current708Packet.data,S=m?4096:0,I=x[C],D=x[C+1],B=h.currentWindow,N,j;return h.textDecoder_&&!m?(_?(j=[I,D],C++):j=[I],N=h.textDecoder_.decode(new Uint8Array(j))):N=tA(S|I),B.pendingNewLine&&!B.isEmpty()&&B.newLine(this.getPts(C)),B.pendingNewLine=!1,B.addText(N),C},Ke.prototype.multiByteCharacter=function(C,h){var v=this.current708Packet.data,m=v[C+1],_=v[C+2];return Qu(m)&&Qu(_)&&(C=this.handleText(++C,h,{isMultiByte:!0})),C},Ke.prototype.setCurrentWindow=function(C,h){var v=this.current708Packet.data,m=v[C],_=m&7;return h.setCurrentWindow(_),C},Ke.prototype.defineWindow=function(C,h){var v=this.current708Packet.data,m=v[C],_=m&7;h.setCurrentWindow(_);var x=h.currentWindow;return m=v[++C],x.visible=(m&32)>>5,x.rowLock=(m&16)>>4,x.columnLock=(m&8)>>3,x.priority=m&7,m=v[++C],x.relativePositioning=(m&128)>>7,x.anchorVertical=m&127,m=v[++C],x.anchorHorizontal=m,m=v[++C],x.anchorPoint=(m&240)>>4,x.rowCount=m&15,m=v[++C],x.columnCount=m&63,m=v[++C],x.windowStyle=(m&56)>>3,x.penStyle=m&7,x.virtualRowCount=x.rowCount+1,C},Ke.prototype.setWindowAttributes=function(C,h){var v=this.current708Packet.data,m=v[C],_=h.currentWindow.winAttr;return m=v[++C],_.fillOpacity=(m&192)>>6,_.fillRed=(m&48)>>4,_.fillGreen=(m&12)>>2,_.fillBlue=m&3,m=v[++C],_.borderType=(m&192)>>6,_.borderRed=(m&48)>>4,_.borderGreen=(m&12)>>2,_.borderBlue=m&3,m=v[++C],_.borderType+=(m&128)>>5,_.wordWrap=(m&64)>>6,_.printDirection=(m&48)>>4,_.scrollDirection=(m&12)>>2,_.justify=m&3,m=v[++C],_.effectSpeed=(m&240)>>4,_.effectDirection=(m&12)>>2,_.displayEffect=m&3,C},Ke.prototype.flushDisplayed=function(C,h){for(var v=[],m=0;m<8;m++)h.windows[m].visible&&!h.windows[m].isEmpty()&&v.push(h.windows[m].getText());h.endPts=C,h.text=v.join(`

`),this.pushCaption(h),h.startPts=C},Ke.prototype.pushCaption=function(C){C.text!==""&&(this.trigger("data",{startPts:C.startPts,endPts:C.endPts,text:C.text,stream:"cc708_"+C.serviceNum}),C.text="",C.startPts=C.endPts)},Ke.prototype.displayWindows=function(C,h){var v=this.current708Packet.data,m=v[++C],_=this.getPts(C);this.flushDisplayed(_,h);for(var x=0;x<8;x++)m&1<<x&&(h.windows[x].visible=1);return C},Ke.prototype.hideWindows=function(C,h){var v=this.current708Packet.data,m=v[++C],_=this.getPts(C);this.flushDisplayed(_,h);for(var x=0;x<8;x++)m&1<<x&&(h.windows[x].visible=0);return C},Ke.prototype.toggleWindows=function(C,h){var v=this.current708Packet.data,m=v[++C],_=this.getPts(C);this.flushDisplayed(_,h);for(var x=0;x<8;x++)m&1<<x&&(h.windows[x].visible^=1);return C},Ke.prototype.clearWindows=function(C,h){var v=this.current708Packet.data,m=v[++C],_=this.getPts(C);this.flushDisplayed(_,h);for(var x=0;x<8;x++)m&1<<x&&h.windows[x].clearText();return C},Ke.prototype.deleteWindows=function(C,h){var v=this.current708Packet.data,m=v[++C],_=this.getPts(C);this.flushDisplayed(_,h);for(var x=0;x<8;x++)m&1<<x&&h.windows[x].reset();return C},Ke.prototype.setPenAttributes=function(C,h){var v=this.current708Packet.data,m=v[C],_=h.currentWindow.penAttr;return m=v[++C],_.textTag=(m&240)>>4,_.offset=(m&12)>>2,_.penSize=m&3,m=v[++C],_.italics=(m&128)>>7,_.underline=(m&64)>>6,_.edgeType=(m&56)>>3,_.fontStyle=m&7,C},Ke.prototype.setPenColor=function(C,h){var v=this.current708Packet.data,m=v[C],_=h.currentWindow.penColor;return m=v[++C],_.fgOpacity=(m&192)>>6,_.fgRed=(m&48)>>4,_.fgGreen=(m&12)>>2,_.fgBlue=m&3,m=v[++C],_.bgOpacity=(m&192)>>6,_.bgRed=(m&48)>>4,_.bgGreen=(m&12)>>2,_.bgBlue=m&3,m=v[++C],_.edgeRed=(m&48)>>4,_.edgeGreen=(m&12)>>2,_.edgeBlue=m&3,C},Ke.prototype.setPenLocation=function(C,h){var v=this.current708Packet.data,m=v[C],_=h.currentWindow.penLoc;return h.currentWindow.pendingNewLine=!0,m=v[++C],_.row=m&15,m=v[++C],_.column=m&63,C},Ke.prototype.reset=function(C,h){var v=this.getPts(C);return this.flushDisplayed(v,h),this.initService(h.serviceNum,C)};var iA={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ju=function(h){return h===null?"":(h=iA[h]||h,String.fromCharCode(h))},Zu=14,nA=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ns=function(){for(var h=[],v=Zu+1;v--;)h.push("");return h},rt=function C(h,v){C.prototype.init.call(this),this.field_=h||0,this.dataChannel_=v||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(m){var _,x,S,I,D;if(_=m.ccData&32639,_===this.lastControlCode_){this.lastControlCode_=null;return}if((_&61440)===4096?this.lastControlCode_=_:_!==this.PADDING_&&(this.lastControlCode_=null),S=_>>>8,I=_&255,_!==this.PADDING_)if(_===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(_===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(m.pts),this.flushDisplayed(m.pts),x=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=x,this.startPts_=m.pts;else if(_===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(m.pts);else if(_===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(m.pts);else if(_===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(m.pts);else if(_===this.CARRIAGE_RETURN_)this.clearFormatting(m.pts),this.flushDisplayed(m.pts),this.shiftRowsUp_(),this.startPts_=m.pts;else if(_===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(_===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(m.pts),this.displayed_=ns();else if(_===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ns();else if(_===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(m.pts),this.displayed_=ns()),this.mode_="paintOn",this.startPts_=m.pts;else if(this.isSpecialCharacter(S,I))S=(S&3)<<8,D=Ju(S|I),this[this.mode_](m.pts,D),this.column_++;else if(this.isExtCharacter(S,I))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),S=(S&3)<<8,D=Ju(S|I),this[this.mode_](m.pts,D),this.column_++;else if(this.isMidRowCode(S,I))this.clearFormatting(m.pts),this[this.mode_](m.pts," "),this.column_++,(I&14)===14&&this.addFormatting(m.pts,["i"]),(I&1)===1&&this.addFormatting(m.pts,["u"]);else if(this.isOffsetControlCode(S,I))this.column_+=I&3;else if(this.isPAC(S,I)){var B=nA.indexOf(_&7968);this.mode_==="rollUp"&&(B-this.rollUpRows_+1<0&&(B=this.rollUpRows_-1),this.setRollUp(m.pts,B)),B!==this.row_&&(this.clearFormatting(m.pts),this.row_=B),I&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(m.pts,["u"]),(_&16)===16&&(this.column_=((_&14)>>1)*4),this.isColorPAC(I)&&(I&14)===14&&this.addFormatting(m.pts,["i"])}else this.isNormalChar(S)&&(I===0&&(I=null),D=Ju(S),D+=Ju(I),this[this.mode_](m.pts,D),this.column_+=D.length)}};rt.prototype=new e,rt.prototype.flushDisplayed=function(C){var h=this.displayed_.map(function(v,m){try{return v.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+m+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");h.length&&this.trigger("data",{startPts:this.startPts_,endPts:C,text:h,stream:this.name_})},rt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ns(),this.nonDisplayed_=ns(),this.lastControlCode_=null,this.column_=0,this.row_=Zu,this.rollUpRows_=2,this.formatting_=[]},rt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},rt.prototype.isSpecialCharacter=function(C,h){return C===this.EXT_&&h>=48&&h<=63},rt.prototype.isExtCharacter=function(C,h){return(C===this.EXT_+1||C===this.EXT_+2)&&h>=32&&h<=63},rt.prototype.isMidRowCode=function(C,h){return C===this.EXT_&&h>=32&&h<=47},rt.prototype.isOffsetControlCode=function(C,h){return C===this.OFFSET_&&h>=33&&h<=35},rt.prototype.isPAC=function(C,h){return C>=this.BASE_&&C<this.BASE_+8&&h>=64&&h<=127},rt.prototype.isColorPAC=function(C){return C>=64&&C<=79||C>=96&&C<=127},rt.prototype.isNormalChar=function(C){return C>=32&&C<=127},rt.prototype.setRollUp=function(C,h){if(this.mode_!=="rollUp"&&(this.row_=Zu,this.mode_="rollUp",this.flushDisplayed(C),this.nonDisplayed_=ns(),this.displayed_=ns()),h!==void 0&&h!==this.row_)for(var v=0;v<this.rollUpRows_;v++)this.displayed_[h-v]=this.displayed_[this.row_-v],this.displayed_[this.row_-v]="";h===void 0&&(h=this.row_),this.topRow_=h-this.rollUpRows_+1},rt.prototype.addFormatting=function(C,h){this.formatting_=this.formatting_.concat(h);var v=h.reduce(function(m,_){return m+"<"+_+">"},"");this[this.mode_](C,v)},rt.prototype.clearFormatting=function(C){if(!!this.formatting_.length){var h=this.formatting_.reverse().reduce(function(v,m){return v+"</"+m+">"},"");this.formatting_=[],this[this.mode_](C,h)}},rt.prototype.popOn=function(C,h){var v=this.nonDisplayed_[this.row_];v+=h,this.nonDisplayed_[this.row_]=v},rt.prototype.rollUp=function(C,h){var v=this.displayed_[this.row_];v+=h,this.displayed_[this.row_]=v},rt.prototype.shiftRowsUp_=function(){var C;for(C=0;C<this.topRow_;C++)this.displayed_[C]="";for(C=this.row_+1;C<Zu+1;C++)this.displayed_[C]="";for(C=this.topRow_;C<this.row_;C++)this.displayed_[C]=this.displayed_[C+1];this.displayed_[this.row_]=""},rt.prototype.paintOn=function(C,h){var v=this.displayed_[this.row_];v+=h,this.displayed_[this.row_]=v};var ec={CaptionStream:Mi,Cea608Stream:rt,Cea708Stream:Ke},Ot={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},rA=8589934592,sA=4294967296,Gy="shared",Ih=function(h,v){var m=1;for(h>v&&(m=-1);Math.abs(v-h)>sA;)h+=m*rA;return h},Xy=function C(h){var v,m;C.prototype.init.call(this),this.type_=h||Gy,this.push=function(_){this.type_!==Gy&&_.type!==this.type_||(m===void 0&&(m=_.dts),_.dts=Ih(_.dts,m),_.pts=Ih(_.pts,m),v=_.dts,this.trigger("data",_))},this.flush=function(){m=v,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){m=void 0,v=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Xy.prototype=new e;var Ky={TimestampRolloverStream:Xy,handleRollover:Ih},Qy=function(h,v,m){var _,x="";for(_=v;_<m;_++)x+="%"+("00"+h[_].toString(16)).slice(-2);return x},tc=function(h,v,m){return decodeURIComponent(Qy(h,v,m))},aA=function(h,v,m){return unescape(Qy(h,v,m))},ic=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},Yy={TXXX:function(h){var v;if(h.data[0]===3){for(v=1;v<h.data.length;v++)if(h.data[v]===0){h.description=tc(h.data,1,v),h.value=tc(h.data,v+1,h.data.length).replace(/\0*$/,"");break}h.data=h.value}},WXXX:function(h){var v;if(h.data[0]===3){for(v=1;v<h.data.length;v++)if(h.data[v]===0){h.description=tc(h.data,1,v),h.url=tc(h.data,v+1,h.data.length);break}}},PRIV:function(h){var v;for(v=0;v<h.data.length;v++)if(h.data[v]===0){h.owner=aA(h.data,0,v);break}h.privateData=h.data.subarray(v+1),h.data=h.privateData}},nc;nc=function(h){var v={descriptor:h&&h.descriptor},m=0,_=[],x=0,S;if(nc.prototype.init.call(this),this.dispatchType=Ot.METADATA_STREAM_TYPE.toString(16),v.descriptor)for(S=0;S<v.descriptor.length;S++)this.dispatchType+=("00"+v.descriptor[S].toString(16)).slice(-2);this.push=function(I){var D,B,N,j,K,ue;if(I.type==="timed-metadata"){if(I.dataAlignmentIndicator&&(x=0,_.length=0),_.length===0&&(I.data.length<10||I.data[0]!=="I".charCodeAt(0)||I.data[1]!=="D".charCodeAt(0)||I.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(_.push(I),x+=I.data.byteLength,_.length===1&&(m=ic(I.data.subarray(6,10)),m+=10),!(x<m)){for(D={data:new Uint8Array(m),frames:[],pts:_[0].pts,dts:_[0].dts},K=0;K<m;)D.data.set(_[0].data.subarray(0,m-K),K),K+=_[0].data.byteLength,x-=_[0].data.byteLength,_.shift();B=10,D.data[5]&64&&(B+=4,B+=ic(D.data.subarray(10,14)),m-=ic(D.data.subarray(16,20)));do{if(N=ic(D.data.subarray(B+4,B+8)),N<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(ue=String.fromCharCode(D.data[B],D.data[B+1],D.data[B+2],D.data[B+3]),j={id:ue,data:D.data.subarray(B+10,B+N+10)},j.key=j.id,Yy[j.id]&&(Yy[j.id](j),j.owner==="com.apple.streaming.transportStreamTimestamp")){var me=j.data,ne=(me[3]&1)<<30|me[4]<<22|me[5]<<14|me[6]<<6|me[7]>>>2;ne*=4,ne+=me[7]&3,j.timeStamp=ne,D.pts===void 0&&D.dts===void 0&&(D.pts=j.timeStamp,D.dts=j.timeStamp),this.trigger("timestamp",j)}D.frames.push(j),B+=10,B+=N}while(B<m);this.trigger("data",D)}}}},nc.prototype=new e;var oA=nc,lA=Ky.TimestampRolloverStream,rc,Eo,sc,Gs=188,Dh=71;rc=function(){var h=new Uint8Array(Gs),v=0;rc.prototype.init.call(this),this.push=function(m){var _=0,x=Gs,S;for(v?(S=new Uint8Array(m.byteLength+v),S.set(h.subarray(0,v)),S.set(m,v),v=0):S=m;x<S.byteLength;){if(S[_]===Dh&&S[x]===Dh){this.trigger("data",S.subarray(_,x)),_+=Gs,x+=Gs;continue}_++,x++}_<S.byteLength&&(h.set(S.subarray(_),0),v=S.byteLength-_)},this.flush=function(){v===Gs&&h[0]===Dh&&(this.trigger("data",h),v=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){v=0,this.trigger("reset")}},rc.prototype=new e,Eo=function(){var h,v,m,_;Eo.prototype.init.call(this),_=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,h=function(S,I){var D=0;I.payloadUnitStartIndicator&&(D+=S[D]+1),I.type==="pat"?v(S.subarray(D),I):m(S.subarray(D),I)},v=function(S,I){I.section_number=S[7],I.last_section_number=S[8],_.pmtPid=(S[10]&31)<<8|S[11],I.pmtPid=_.pmtPid},m=function(S,I){var D,B,N,j;if(!!(S[5]&1)){for(_.programMapTable={video:null,audio:null,"timed-metadata":{}},D=(S[1]&15)<<8|S[2],B=3+D-4,N=(S[10]&15)<<8|S[11],j=12+N;j<B;){var K=S[j],ue=(S[j+1]&31)<<8|S[j+2];K===Ot.H264_STREAM_TYPE&&_.programMapTable.video===null?_.programMapTable.video=ue:K===Ot.ADTS_STREAM_TYPE&&_.programMapTable.audio===null?_.programMapTable.audio=ue:K===Ot.METADATA_STREAM_TYPE&&(_.programMapTable["timed-metadata"][ue]=K),j+=((S[j+3]&15)<<8|S[j+4])+5}I.programMapTable=_.programMapTable}},this.push=function(x){var S={},I=4;if(S.payloadUnitStartIndicator=!!(x[1]&64),S.pid=x[1]&31,S.pid<<=8,S.pid|=x[2],(x[3]&48)>>>4>1&&(I+=x[I]+1),S.pid===0)S.type="pat",h(x.subarray(I),S),this.trigger("data",S);else if(S.pid===this.pmtPid)for(S.type="pmt",h(x.subarray(I),S),this.trigger("data",S);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([x,I,S]):this.processPes_(x,I,S)},this.processPes_=function(x,S,I){I.pid===this.programMapTable.video?I.streamType=Ot.H264_STREAM_TYPE:I.pid===this.programMapTable.audio?I.streamType=Ot.ADTS_STREAM_TYPE:I.streamType=this.programMapTable["timed-metadata"][I.pid],I.type="pes",I.data=x.subarray(S),this.trigger("data",I)}},Eo.prototype=new e,Eo.STREAM_TYPES={h264:27,adts:15},sc=function(){var h=this,v=!1,m={data:[],size:0},_={data:[],size:0},x={data:[],size:0},S,I=function(N,j){var K,ue=N[0]<<16|N[1]<<8|N[2];j.data=new Uint8Array,ue===1&&(j.packetLength=6+(N[4]<<8|N[5]),j.dataAlignmentIndicator=(N[6]&4)!==0,K=N[7],K&192&&(j.pts=(N[9]&14)<<27|(N[10]&255)<<20|(N[11]&254)<<12|(N[12]&255)<<5|(N[13]&254)>>>3,j.pts*=4,j.pts+=(N[13]&6)>>>1,j.dts=j.pts,K&64&&(j.dts=(N[14]&14)<<27|(N[15]&255)<<20|(N[16]&254)<<12|(N[17]&255)<<5|(N[18]&254)>>>3,j.dts*=4,j.dts+=(N[18]&6)>>>1)),j.data=N.subarray(9+N[8]))},D=function(N,j,K){var ue=new Uint8Array(N.size),me={type:j},ne=0,Ce=0,bt=!1,ei;if(!(!N.data.length||N.size<9)){for(me.trackId=N.data[0].pid,ne=0;ne<N.data.length;ne++)ei=N.data[ne],ue.set(ei.data,Ce),Ce+=ei.data.byteLength;I(ue,me),bt=j==="video"||me.packetLength<=N.size,(K||bt)&&(N.size=0,N.data.length=0),bt&&h.trigger("data",me)}};sc.prototype.init.call(this),this.push=function(B){({pat:function(){},pes:function(){var j,K;switch(B.streamType){case Ot.H264_STREAM_TYPE:j=m,K="video";break;case Ot.ADTS_STREAM_TYPE:j=_,K="audio";break;case Ot.METADATA_STREAM_TYPE:j=x,K="timed-metadata";break;default:return}B.payloadUnitStartIndicator&&D(j,K,!0),j.data.push(B),j.size+=B.data.byteLength},pmt:function(){var j={type:"metadata",tracks:[]};S=B.programMapTable,S.video!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.video,codec:"avc",type:"video"}),S.audio!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.audio,codec:"adts",type:"audio"}),v=!0,h.trigger("data",j)}})[B.type]()},this.reset=function(){m.size=0,m.data.length=0,_.size=0,_.data.length=0,this.trigger("reset")},this.flushStreams_=function(){D(m,"video"),D(_,"audio"),D(x,"timed-metadata")},this.flush=function(){if(!v&&S){var B={type:"metadata",tracks:[]};S.video!==null&&B.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.video,codec:"avc",type:"video"}),S.audio!==null&&B.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.audio,codec:"adts",type:"audio"}),h.trigger("data",B)}v=!1,this.flushStreams_(),this.trigger("done")}},sc.prototype=new e;var Jy={PAT_PID:0,MP2T_PACKET_LENGTH:Gs,TransportPacketStream:rc,TransportParseStream:Eo,ElementaryStream:sc,TimestampRolloverStream:lA,CaptionStream:ec.CaptionStream,Cea608Stream:ec.Cea608Stream,Cea708Stream:ec.Cea708Stream,MetadataStream:oA};for(var Mh in Ot)Ot.hasOwnProperty(Mh)&&(Jy[Mh]=Ot[Mh]);var Hn=Jy,uA=Fe.ONE_SECOND_IN_TS,ac,Zy=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ac=function(h){var v,m=0;ac.prototype.init.call(this),this.skipWarn_=function(_,x){this.trigger("log",{level:"warn",message:"adts skiping bytes "+_+" to "+x+" in frame "+m+" outside syncword"})},this.push=function(_){var x=0,S,I,D,B,N;if(h||(m=0),_.type==="audio"){v&&v.length?(D=v,v=new Uint8Array(D.byteLength+_.data.byteLength),v.set(D),v.set(_.data,D.byteLength)):v=_.data;for(var j;x+7<v.length;){if(v[x]!==255||(v[x+1]&246)!==240){typeof j!="number"&&(j=x),x++;continue}if(typeof j=="number"&&(this.skipWarn_(j,x),j=null),I=(~v[x+1]&1)*2,S=(v[x+3]&3)<<11|v[x+4]<<3|(v[x+5]&224)>>5,B=((v[x+6]&3)+1)*1024,N=B*uA/Zy[(v[x+2]&60)>>>2],v.byteLength-x<S)break;this.trigger("data",{pts:_.pts+m*N,dts:_.dts+m*N,sampleCount:B,audioobjecttype:(v[x+2]>>>6&3)+1,channelcount:(v[x+2]&1)<<2|(v[x+3]&192)>>>6,samplerate:Zy[(v[x+2]&60)>>>2],samplingfrequencyindex:(v[x+2]&60)>>>2,samplesize:16,data:v.subarray(x+7+I,x+S)}),m++,x+=S}typeof j=="number"&&(this.skipWarn_(j,x),j=null),v=v.subarray(x)}},this.flush=function(){m=0,this.trigger("done")},this.reset=function(){v=void 0,this.trigger("reset")},this.endTimeline=function(){v=void 0,this.trigger("endedtimeline")}},ac.prototype=new e;var e_=ac,t_;t_=function(h){var v=h.byteLength,m=0,_=0;this.length=function(){return 8*v},this.bitsAvailable=function(){return 8*v+_},this.loadWord=function(){var x=h.byteLength-v,S=new Uint8Array(4),I=Math.min(4,v);if(I===0)throw new Error("no bytes available");S.set(h.subarray(x,x+I)),m=new DataView(S.buffer).getUint32(0),_=I*8,v-=I},this.skipBits=function(x){var S;_>x?(m<<=x,_-=x):(x-=_,S=Math.floor(x/8),x-=S*8,v-=S,this.loadWord(),m<<=x,_-=x)},this.readBits=function(x){var S=Math.min(_,x),I=m>>>32-S;return _-=S,_>0?m<<=S:v>0&&this.loadWord(),S=x-S,S>0?I<<S|this.readBits(S):I},this.skipLeadingZeros=function(){var x;for(x=0;x<_;++x)if((m&2147483648>>>x)!==0)return m<<=x,_-=x,x;return this.loadWord(),x+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var x=this.skipLeadingZeros();return this.readBits(x+1)-1},this.readExpGolomb=function(){var x=this.readUnsignedExpGolomb();return 1&x?1+x>>>1:-1*(x>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var cA=t_,oc,Co,i_;Co=function(){var h=0,v,m;Co.prototype.init.call(this),this.push=function(_){var x;m?(x=new Uint8Array(m.byteLength+_.data.byteLength),x.set(m),x.set(_.data,m.byteLength),m=x):m=_.data;for(var S=m.byteLength;h<S-3;h++)if(m[h+2]===1){v=h+5;break}for(;v<S;)switch(m[v]){case 0:if(m[v-1]!==0){v+=2;break}else if(m[v-2]!==0){v++;break}h+3!==v-2&&this.trigger("data",m.subarray(h+3,v-2));do v++;while(m[v]!==1&&v<S);h=v-2,v+=3;break;case 1:if(m[v-1]!==0||m[v-2]!==0){v+=3;break}this.trigger("data",m.subarray(h+3,v-2)),h=v-2,v+=3;break;default:v+=3;break}m=m.subarray(h),v-=h,h=0},this.reset=function(){m=null,h=0,this.trigger("reset")},this.flush=function(){m&&m.byteLength>3&&this.trigger("data",m.subarray(h+3)),m=null,h=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Co.prototype=new e,i_={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},oc=function(){var h=new Co,v,m,_,x,S,I,D;oc.prototype.init.call(this),v=this,this.push=function(B){B.type==="video"&&(m=B.trackId,_=B.pts,x=B.dts,h.push(B))},h.on("data",function(B){var N={trackId:m,pts:_,dts:x,data:B,nalUnitTypeCode:B[0]&31};switch(N.nalUnitTypeCode){case 5:N.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:N.nalUnitType="sei_rbsp",N.escapedRBSP=S(B.subarray(1));break;case 7:N.nalUnitType="seq_parameter_set_rbsp",N.escapedRBSP=S(B.subarray(1)),N.config=I(N.escapedRBSP);break;case 8:N.nalUnitType="pic_parameter_set_rbsp";break;case 9:N.nalUnitType="access_unit_delimiter_rbsp";break}v.trigger("data",N)}),h.on("done",function(){v.trigger("done")}),h.on("partialdone",function(){v.trigger("partialdone")}),h.on("reset",function(){v.trigger("reset")}),h.on("endedtimeline",function(){v.trigger("endedtimeline")}),this.flush=function(){h.flush()},this.partialFlush=function(){h.partialFlush()},this.reset=function(){h.reset()},this.endTimeline=function(){h.endTimeline()},D=function(N,j){var K=8,ue=8,me,ne;for(me=0;me<N;me++)ue!==0&&(ne=j.readExpGolomb(),ue=(K+ne+256)%256),K=ue===0?K:ue},S=function(N){for(var j=N.byteLength,K=[],ue=1,me,ne;ue<j-2;)N[ue]===0&&N[ue+1]===0&&N[ue+2]===3?(K.push(ue+2),ue+=2):ue++;if(K.length===0)return N;me=j-K.length,ne=new Uint8Array(me);var Ce=0;for(ue=0;ue<me;Ce++,ue++)Ce===K[0]&&(Ce++,K.shift()),ne[ue]=N[Ce];return ne},I=function(N){var j=0,K=0,ue=0,me=0,ne,Ce,bt,ei,os,Bh,T_,x_,S_,zh,w_,ct=[1,1],E_,ls;if(ne=new cA(N),Ce=ne.readUnsignedByte(),ei=ne.readUnsignedByte(),bt=ne.readUnsignedByte(),ne.skipUnsignedExpGolomb(),i_[Ce]&&(os=ne.readUnsignedExpGolomb(),os===3&&ne.skipBits(1),ne.skipUnsignedExpGolomb(),ne.skipUnsignedExpGolomb(),ne.skipBits(1),ne.readBoolean()))for(w_=os!==3?8:12,ls=0;ls<w_;ls++)ne.readBoolean()&&(ls<6?D(16,ne):D(64,ne));if(ne.skipUnsignedExpGolomb(),Bh=ne.readUnsignedExpGolomb(),Bh===0)ne.readUnsignedExpGolomb();else if(Bh===1)for(ne.skipBits(1),ne.skipExpGolomb(),ne.skipExpGolomb(),T_=ne.readUnsignedExpGolomb(),ls=0;ls<T_;ls++)ne.skipExpGolomb();if(ne.skipUnsignedExpGolomb(),ne.skipBits(1),x_=ne.readUnsignedExpGolomb(),S_=ne.readUnsignedExpGolomb(),zh=ne.readBits(1),zh===0&&ne.skipBits(1),ne.skipBits(1),ne.readBoolean()&&(j=ne.readUnsignedExpGolomb(),K=ne.readUnsignedExpGolomb(),ue=ne.readUnsignedExpGolomb(),me=ne.readUnsignedExpGolomb()),ne.readBoolean()&&ne.readBoolean()){switch(E_=ne.readUnsignedByte(),E_){case 1:ct=[1,1];break;case 2:ct=[12,11];break;case 3:ct=[10,11];break;case 4:ct=[16,11];break;case 5:ct=[40,33];break;case 6:ct=[24,11];break;case 7:ct=[20,11];break;case 8:ct=[32,11];break;case 9:ct=[80,33];break;case 10:ct=[18,11];break;case 11:ct=[15,11];break;case 12:ct=[64,33];break;case 13:ct=[160,99];break;case 14:ct=[4,3];break;case 15:ct=[3,2];break;case 16:ct=[2,1];break;case 255:{ct=[ne.readUnsignedByte()<<8|ne.readUnsignedByte(),ne.readUnsignedByte()<<8|ne.readUnsignedByte()];break}}ct&&ct[0]/ct[1]}return{profileIdc:Ce,levelIdc:bt,profileCompatibility:ei,width:(x_+1)*16-j*2-K*2,height:(2-zh)*(S_+1)*16-ue*2-me*2,sarRatio:ct}}},oc.prototype=new e;var dA={H264Stream:oc,NalByteStream:Co},fA=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],n_=function(h,v){var m=h[v+6]<<21|h[v+7]<<14|h[v+8]<<7|h[v+9],_=h[v+5],x=(_&16)>>4;return m=m>=0?m:0,x?m+20:m+10},hA=function C(h,v){return h.length-v<10||h[v]!=="I".charCodeAt(0)||h[v+1]!=="D".charCodeAt(0)||h[v+2]!=="3".charCodeAt(0)?v:(v+=n_(h,v),C(h,v))},pA=function(h){var v=hA(h,0);return h.length>=v+2&&(h[v]&255)===255&&(h[v+1]&240)===240&&(h[v+1]&22)===16},r_=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},mA=function(h,v,m){var _,x="";for(_=v;_<m;_++)x+="%"+("00"+h[_].toString(16)).slice(-2);return x},vA=function(h,v,m){return unescape(mA(h,v,m))},gA=function(h,v){var m=(h[v+5]&224)>>5,_=h[v+4]<<3,x=h[v+3]&3<<11;return x|_|m},yA=function(h,v){return h[v]==="I".charCodeAt(0)&&h[v+1]==="D".charCodeAt(0)&&h[v+2]==="3".charCodeAt(0)?"timed-metadata":h[v]&!0&&(h[v+1]&240)===240?"audio":null},_A=function(h){for(var v=0;v+5<h.length;){if(h[v]!==255||(h[v+1]&246)!==240){v++;continue}return fA[(h[v+2]&60)>>>2]}return null},bA=function(h){var v,m,_,x;v=10,h[5]&64&&(v+=4,v+=r_(h.subarray(10,14)));do{if(m=r_(h.subarray(v+4,v+8)),m<1)return null;if(x=String.fromCharCode(h[v],h[v+1],h[v+2],h[v+3]),x==="PRIV"){_=h.subarray(v+10,v+m+10);for(var S=0;S<_.byteLength;S++)if(_[S]===0){var I=vA(_,0,S);if(I==="com.apple.streaming.transportStreamTimestamp"){var D=_.subarray(S+1),B=(D[3]&1)<<30|D[4]<<22|D[5]<<14|D[6]<<6|D[7]>>>2;return B*=4,B+=D[7]&3,B}break}}v+=10,v+=m}while(v<h.byteLength);return null},lc={isLikelyAacData:pA,parseId3TagSize:n_,parseAdtsSize:gA,parseType:yA,parseSampleRate:_A,parseAacTimestamp:bA},uc;uc=function(){var h=new Uint8Array,v=0;uc.prototype.init.call(this),this.setTimestamp=function(m){v=m},this.push=function(m){var _=0,x=0,S,I,D,B;for(h.length?(B=h.length,h=new Uint8Array(m.byteLength+B),h.set(h.subarray(0,B)),h.set(m,B)):h=m;h.length-x>=3;){if(h[x]==="I".charCodeAt(0)&&h[x+1]==="D".charCodeAt(0)&&h[x+2]==="3".charCodeAt(0)){if(h.length-x<10||(_=lc.parseId3TagSize(h,x),x+_>h.length))break;I={type:"timed-metadata",data:h.subarray(x,x+_)},this.trigger("data",I),x+=_;continue}else if((h[x]&255)===255&&(h[x+1]&240)===240){if(h.length-x<7||(_=lc.parseAdtsSize(h,x),x+_>h.length))break;D={type:"audio",data:h.subarray(x,x+_),pts:v,dts:v},this.trigger("data",D),x+=_;continue}x++}S=h.length-x,S>0?h=h.subarray(x):h=new Uint8Array},this.reset=function(){h=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){h=new Uint8Array,this.trigger("endedtimeline")}},uc.prototype=new e;var TA=uc,xA=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Lh=xA,SA=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Rh=SA,wA=dA.H264Stream,EA=lc.isLikelyAacData,CA=Fe.ONE_SECOND_IN_TS,ko,Xs,cc,rs,kA=function(h,v){v.stream=h,this.trigger("log",v)},s_=function(h,v){for(var m=Object.keys(v),_=0;_<m.length;_++){var x=m[_];x==="headOfPipeline"||!v[x].on||v[x].on("log",kA.bind(h,x))}},a_=function(h,v){var m;if(h.length!==v.length)return!1;for(m=0;m<h.length;m++)if(h[m]!==v[m])return!1;return!0},Fh=function(h,v,m,_,x,S){var I=m-v,D=_-v,B=x-m;return{start:{dts:h,pts:h+I},end:{dts:h+D,pts:h+B},prependedContentDuration:S,baseMediaDecodeTime:h}};Xs=function(h,v){var m=[],_,x=0,S=0,I=1/0;v=v||{},_=v.firstSequenceNumber||0,Xs.prototype.init.call(this),this.push=function(D){an.collectDtsInfo(h,D),h&&Lh.forEach(function(B){h[B]=D[B]}),m.push(D)},this.setEarliestDts=function(D){x=D},this.setVideoBaseMediaDecodeTime=function(D){I=D},this.setAudioAppendStart=function(D){S=D},this.flush=function(){var D,B,N,j,K,ue,me;if(m.length===0){this.trigger("done","AudioSegmentStream");return}D=Ku.trimAdtsFramesByEarliestDts(m,h,x),h.baseMediaDecodeTime=an.calculateTrackBaseMediaDecodeTime(h,v.keepOriginalTimestamps),me=Ku.prefixWithSilence(h,D,S,I),h.samples=Ku.generateSampleTable(D),N=ae.mdat(Ku.concatenateFrameData(D)),m=[],B=ae.moof(_,[h]),j=new Uint8Array(B.byteLength+N.byteLength),_++,j.set(B),j.set(N,B.byteLength),an.clearDtsInfo(h),K=Math.ceil(CA*1024/h.samplerate),D.length&&(ue=D.length*K,this.trigger("segmentTimingInfo",Fh(Fe.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),D[0].dts,D[0].pts,D[0].dts+ue,D[0].pts+ue,me||0)),this.trigger("timingInfo",{start:D[0].pts,end:D[0].pts+ue})),this.trigger("data",{track:h,boxes:j}),this.trigger("done","AudioSegmentStream")},this.reset=function(){an.clearDtsInfo(h),m=[],this.trigger("reset")}},Xs.prototype=new e,ko=function(h,v){var m,_=[],x=[],S,I;v=v||{},m=v.firstSequenceNumber||0,ko.prototype.init.call(this),delete h.minPTS,this.gopCache_=[],this.push=function(D){an.collectDtsInfo(h,D),D.nalUnitType==="seq_parameter_set_rbsp"&&!S&&(S=D.config,h.sps=[D.data],Rh.forEach(function(B){h[B]=S[B]},this)),D.nalUnitType==="pic_parameter_set_rbsp"&&!I&&(I=D.data,h.pps=[D.data]),_.push(D)},this.flush=function(){for(var D,B,N,j,K,ue,me=0,ne,Ce;_.length&&_[0].nalUnitType!=="access_unit_delimiter_rbsp";)_.shift();if(_.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(D=we.groupNalsIntoFrames(_),N=we.groupFramesIntoGops(D),N[0][0].keyFrame||(B=this.getGopForFusion_(_[0],h),B?(me=B.duration,N.unshift(B),N.byteLength+=B.byteLength,N.nalCount+=B.nalCount,N.pts=B.pts,N.dts=B.dts,N.duration+=B.duration):N=we.extendFirstKeyFrame(N)),x.length){var bt;if(v.alignGopsAtEnd?bt=this.alignGopsAtEnd_(N):bt=this.alignGopsAtStart_(N),!bt){this.gopCache_.unshift({gop:N.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),_=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}an.clearDtsInfo(h),N=bt}an.collectDtsInfo(h,N),h.samples=we.generateSampleTable(N),K=ae.mdat(we.concatenateNalData(N)),h.baseMediaDecodeTime=an.calculateTrackBaseMediaDecodeTime(h,v.keepOriginalTimestamps),this.trigger("processedGopsInfo",N.map(function(ei){return{pts:ei.pts,dts:ei.dts,byteLength:ei.byteLength}})),ne=N[0],Ce=N[N.length-1],this.trigger("segmentTimingInfo",Fh(h.baseMediaDecodeTime,ne.dts,ne.pts,Ce.dts+Ce.duration,Ce.pts+Ce.duration,me)),this.trigger("timingInfo",{start:N[0].pts,end:N[N.length-1].pts+N[N.length-1].duration}),this.gopCache_.unshift({gop:N.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),_=[],this.trigger("baseMediaDecodeTime",h.baseMediaDecodeTime),this.trigger("timelineStartInfo",h.timelineStartInfo),j=ae.moof(m,[h]),ue=new Uint8Array(j.byteLength+K.byteLength),m++,ue.set(j),ue.set(K,j.byteLength),this.trigger("data",{track:h,boxes:ue}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),_=[],this.gopCache_.length=0,x.length=0,this.trigger("reset")},this.resetStream_=function(){an.clearDtsInfo(h),S=void 0,I=void 0},this.getGopForFusion_=function(D){var B=45e3,N=1e4,j=1/0,K,ue,me,ne,Ce;for(Ce=0;Ce<this.gopCache_.length;Ce++)ne=this.gopCache_[Ce],me=ne.gop,!(!(h.pps&&a_(h.pps[0],ne.pps[0]))||!(h.sps&&a_(h.sps[0],ne.sps[0])))&&(me.dts<h.timelineStartInfo.dts||(K=D.dts-me.dts-me.duration,K>=-N&&K<=B&&(!ue||j>K)&&(ue=ne,j=K)));return ue?ue.gop:null},this.alignGopsAtStart_=function(D){var B,N,j,K,ue,me,ne,Ce;for(ue=D.byteLength,me=D.nalCount,ne=D.duration,B=N=0;B<x.length&&N<D.length&&(j=x[B],K=D[N],j.pts!==K.pts);){if(K.pts>j.pts){B++;continue}N++,ue-=K.byteLength,me-=K.nalCount,ne-=K.duration}return N===0?D:N===D.length?null:(Ce=D.slice(N),Ce.byteLength=ue,Ce.duration=ne,Ce.nalCount=me,Ce.pts=Ce[0].pts,Ce.dts=Ce[0].dts,Ce)},this.alignGopsAtEnd_=function(D){var B,N,j,K,ue,me;for(B=x.length-1,N=D.length-1,ue=null,me=!1;B>=0&&N>=0;){if(j=x[B],K=D[N],j.pts===K.pts){me=!0;break}if(j.pts>K.pts){B--;continue}B===x.length-1&&(ue=N),N--}if(!me&&ue===null)return null;var ne;if(me?ne=N:ne=ue,ne===0)return D;var Ce=D.slice(ne),bt=Ce.reduce(function(ei,os){return ei.byteLength+=os.byteLength,ei.duration+=os.duration,ei.nalCount+=os.nalCount,ei},{byteLength:0,duration:0,nalCount:0});return Ce.byteLength=bt.byteLength,Ce.duration=bt.duration,Ce.nalCount=bt.nalCount,Ce.pts=Ce[0].pts,Ce.dts=Ce[0].dts,Ce},this.alignGopsWith=function(D){x=D}},ko.prototype=new e,rs=function(h,v){this.numberOfTracks=0,this.metadataStream=v,h=h||{},typeof h.remux<"u"?this.remuxTracks=!!h.remux:this.remuxTracks=!0,typeof h.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=h.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,rs.prototype.init.call(this),this.push=function(m){if(m.text)return this.pendingCaptions.push(m);if(m.frames)return this.pendingMetadata.push(m);this.pendingTracks.push(m.track),this.pendingBytes+=m.boxes.byteLength,m.track.type==="video"&&(this.videoTrack=m.track,this.pendingBoxes.push(m.boxes)),m.track.type==="audio"&&(this.audioTrack=m.track,this.pendingBoxes.unshift(m.boxes))}},rs.prototype=new e,rs.prototype.flush=function(C){var h=0,v={captions:[],captionStreams:{},metadata:[],info:{}},m,_,x,S=0,I;if(this.pendingTracks.length<this.numberOfTracks){if(C!=="VideoSegmentStream"&&C!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(S=this.videoTrack.timelineStartInfo.pts,Rh.forEach(function(D){v.info[D]=this.videoTrack[D]},this)):this.audioTrack&&(S=this.audioTrack.timelineStartInfo.pts,Lh.forEach(function(D){v.info[D]=this.audioTrack[D]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?v.type=this.pendingTracks[0].type:v.type="combined",this.emittedTracks+=this.pendingTracks.length,x=ae.initSegment(this.pendingTracks),v.initSegment=new Uint8Array(x.byteLength),v.initSegment.set(x),v.data=new Uint8Array(this.pendingBytes),I=0;I<this.pendingBoxes.length;I++)v.data.set(this.pendingBoxes[I],h),h+=this.pendingBoxes[I].byteLength;for(I=0;I<this.pendingCaptions.length;I++)m=this.pendingCaptions[I],m.startTime=Fe.metadataTsToSeconds(m.startPts,S,this.keepOriginalTimestamps),m.endTime=Fe.metadataTsToSeconds(m.endPts,S,this.keepOriginalTimestamps),v.captionStreams[m.stream]=!0,v.captions.push(m);for(I=0;I<this.pendingMetadata.length;I++)_=this.pendingMetadata[I],_.cueTime=Fe.metadataTsToSeconds(_.pts,S,this.keepOriginalTimestamps),v.metadata.push(_);for(v.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",v),I=0;I<v.captions.length;I++)m=v.captions[I],this.trigger("caption",m);for(I=0;I<v.metadata.length;I++)_=v.metadata[I],this.trigger("id3Frame",_)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},rs.prototype.setRemux=function(C){this.remuxTracks=C},cc=function(h){var v=this,m=!0,_,x;cc.prototype.init.call(this),h=h||{},this.baseMediaDecodeTime=h.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="aac",S.metadataStream=new Hn.MetadataStream,S.aacStream=new TA,S.audioTimestampRolloverStream=new Hn.TimestampRolloverStream("audio"),S.timedMetadataTimestampRolloverStream=new Hn.TimestampRolloverStream("timed-metadata"),S.adtsStream=new e_,S.coalesceStream=new rs(h,S.metadataStream),S.headOfPipeline=S.aacStream,S.aacStream.pipe(S.audioTimestampRolloverStream).pipe(S.adtsStream),S.aacStream.pipe(S.timedMetadataTimestampRolloverStream).pipe(S.metadataStream).pipe(S.coalesceStream),S.metadataStream.on("timestamp",function(I){S.aacStream.setTimestamp(I.timeStamp)}),S.aacStream.on("data",function(I){I.type!=="timed-metadata"&&I.type!=="audio"||S.audioSegmentStream||(x=x||{timelineStartInfo:{baseMediaDecodeTime:v.baseMediaDecodeTime},codec:"adts",type:"audio"},S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new Xs(x,h),S.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),S.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream),v.trigger("trackinfo",{hasAudio:!!x,hasVideo:!!_}))}),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("done",this.trigger.bind(this,"done")),s_(this,S)},this.setupTsPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="ts",S.metadataStream=new Hn.MetadataStream,S.packetStream=new Hn.TransportPacketStream,S.parseStream=new Hn.TransportParseStream,S.elementaryStream=new Hn.ElementaryStream,S.timestampRolloverStream=new Hn.TimestampRolloverStream,S.adtsStream=new e_,S.h264Stream=new wA,S.captionStream=new Hn.CaptionStream(h),S.coalesceStream=new rs(h,S.metadataStream),S.headOfPipeline=S.packetStream,S.packetStream.pipe(S.parseStream).pipe(S.elementaryStream).pipe(S.timestampRolloverStream),S.timestampRolloverStream.pipe(S.h264Stream),S.timestampRolloverStream.pipe(S.adtsStream),S.timestampRolloverStream.pipe(S.metadataStream).pipe(S.coalesceStream),S.h264Stream.pipe(S.captionStream).pipe(S.coalesceStream),S.elementaryStream.on("data",function(I){var D;if(I.type==="metadata"){for(D=I.tracks.length;D--;)!_&&I.tracks[D].type==="video"?(_=I.tracks[D],_.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime):!x&&I.tracks[D].type==="audio"&&(x=I.tracks[D],x.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime);_&&!S.videoSegmentStream&&(S.coalesceStream.numberOfTracks++,S.videoSegmentStream=new ko(_,h),S.videoSegmentStream.on("log",v.getLogTrigger_("videoSegmentStream")),S.videoSegmentStream.on("timelineStartInfo",function(B){x&&!h.keepOriginalTimestamps&&(x.timelineStartInfo=B,S.audioSegmentStream.setEarliestDts(B.dts-v.baseMediaDecodeTime))}),S.videoSegmentStream.on("processedGopsInfo",v.trigger.bind(v,"gopInfo")),S.videoSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"videoSegmentTimingInfo")),S.videoSegmentStream.on("baseMediaDecodeTime",function(B){x&&S.audioSegmentStream.setVideoBaseMediaDecodeTime(B)}),S.videoSegmentStream.on("timingInfo",v.trigger.bind(v,"videoTimingInfo")),S.h264Stream.pipe(S.videoSegmentStream).pipe(S.coalesceStream)),x&&!S.audioSegmentStream&&(S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new Xs(x,h),S.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),S.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),S.audioSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"audioSegmentTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream)),v.trigger("trackinfo",{hasAudio:!!x,hasVideo:!!_})}}),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("id3Frame",function(I){I.dispatchType=S.metadataStream.dispatchType,v.trigger("id3Frame",I)}),S.coalesceStream.on("caption",this.trigger.bind(this,"caption")),S.coalesceStream.on("done",this.trigger.bind(this,"done")),s_(this,S)},this.setBaseMediaDecodeTime=function(S){var I=this.transmuxPipeline_;h.keepOriginalTimestamps||(this.baseMediaDecodeTime=S),x&&(x.timelineStartInfo.dts=void 0,x.timelineStartInfo.pts=void 0,an.clearDtsInfo(x),I.audioTimestampRolloverStream&&I.audioTimestampRolloverStream.discontinuity()),_&&(I.videoSegmentStream&&(I.videoSegmentStream.gopCache_=[]),_.timelineStartInfo.dts=void 0,_.timelineStartInfo.pts=void 0,an.clearDtsInfo(_),I.captionStream.reset()),I.timestampRolloverStream&&I.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(S){x&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(S)},this.setRemux=function(S){var I=this.transmuxPipeline_;h.remux=S,I&&I.coalesceStream&&I.coalesceStream.setRemux(S)},this.alignGopsWith=function(S){_&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(S)},this.getLogTrigger_=function(S){var I=this;return function(D){D.stream=S,I.trigger("log",D)}},this.push=function(S){if(m){var I=EA(S);I&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!I&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),m=!1}this.transmuxPipeline_.headOfPipeline.push(S)},this.flush=function(){m=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},cc.prototype=new e;var PA={Transmuxer:cc,VideoSegmentStream:ko,AudioSegmentStream:Xs,AUDIO_PROPERTIES:Lh,VIDEO_PROPERTIES:Rh,generateSegmentTimingInfo:Fh},OA=function(h){return h>>>0},AA=function(h){return("00"+h.toString(16)).slice(-2)},dc={toUnsigned:OA,toHexString:AA},IA=function(h){var v="";return v+=String.fromCharCode(h[0]),v+=String.fromCharCode(h[1]),v+=String.fromCharCode(h[2]),v+=String.fromCharCode(h[3]),v},ss=IA,DA=dc.toUnsigned,MA=function C(h,v){var m=[],_,x,S,I,D;if(!v.length)return null;for(_=0;_<h.byteLength;)x=DA(h[_]<<24|h[_+1]<<16|h[_+2]<<8|h[_+3]),S=ss(h.subarray(_+4,_+8)),I=x>1?_+x:h.byteLength,S===v[0]&&(v.length===1?m.push(h.subarray(_+8,I)):(D=C(h.subarray(_+8,I),v.slice(1)),D.length&&(m=m.concat(D)))),_=I;return m},Ye=MA,LA=dc.toUnsigned,RA=n.getUint64,FA=function(h){var v={version:h[0],flags:new Uint8Array(h.subarray(1,4))};return v.version===1?v.baseMediaDecodeTime=RA(h.subarray(4)):v.baseMediaDecodeTime=LA(h[4]<<24|h[5]<<16|h[6]<<8|h[7]),v},o_=FA,NA=function(h){return{isLeading:(h[0]&12)>>>2,dependsOn:h[0]&3,isDependedOn:(h[1]&192)>>>6,hasRedundancy:(h[1]&48)>>>4,paddingValue:(h[1]&14)>>>1,isNonSyncSample:h[1]&1,degradationPriority:h[2]<<8|h[3]}},l_=NA,UA=function(h){var v={version:h[0],flags:new Uint8Array(h.subarray(1,4)),samples:[]},m=new DataView(h.buffer,h.byteOffset,h.byteLength),_=v.flags[2]&1,x=v.flags[2]&4,S=v.flags[1]&1,I=v.flags[1]&2,D=v.flags[1]&4,B=v.flags[1]&8,N=m.getUint32(4),j=8,K;for(_&&(v.dataOffset=m.getInt32(j),j+=4),x&&N&&(K={flags:l_(h.subarray(j,j+4))},j+=4,S&&(K.duration=m.getUint32(j),j+=4),I&&(K.size=m.getUint32(j),j+=4),B&&(v.version===1?K.compositionTimeOffset=m.getInt32(j):K.compositionTimeOffset=m.getUint32(j),j+=4),v.samples.push(K),N--);N--;)K={},S&&(K.duration=m.getUint32(j),j+=4),I&&(K.size=m.getUint32(j),j+=4),D&&(K.flags=l_(h.subarray(j,j+4)),j+=4),B&&(v.version===1?K.compositionTimeOffset=m.getInt32(j):K.compositionTimeOffset=m.getUint32(j),j+=4),v.samples.push(K);return v},u_=UA,BA=function(h){var v=new DataView(h.buffer,h.byteOffset,h.byteLength),m={version:h[0],flags:new Uint8Array(h.subarray(1,4)),trackId:v.getUint32(4)},_=m.flags[2]&1,x=m.flags[2]&2,S=m.flags[2]&8,I=m.flags[2]&16,D=m.flags[2]&32,B=m.flags[0]&65536,N=m.flags[0]&131072,j;return j=8,_&&(j+=4,m.baseDataOffset=v.getUint32(12),j+=4),x&&(m.sampleDescriptionIndex=v.getUint32(j),j+=4),S&&(m.defaultSampleDuration=v.getUint32(j),j+=4),I&&(m.defaultSampleSize=v.getUint32(j),j+=4),D&&(m.defaultSampleFlags=v.getUint32(j)),B&&(m.durationIsEmpty=!0),!_&&N&&(m.baseDataOffsetIsMoof=!0),m},c_=BA,d_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Po;typeof window<"u"?Po=window:typeof d_<"u"?Po=d_:typeof self<"u"?Po=self:Po={};var Oo=Po,zA=wo.discardEmulationPreventionBytes,jA=ec.CaptionStream,VA=function(h,v){for(var m=h,_=0;_<v.length;_++){var x=v[_];if(m<x.size)return x;m-=x.size}return null},HA=function(h,v,m){var _=new DataView(h.buffer,h.byteOffset,h.byteLength),x={logs:[],seiNals:[]},S,I,D,B;for(I=0;I+4<h.length;I+=D)if(D=_.getUint32(I),I+=4,!(D<=0))switch(h[I]&31){case 6:var N=h.subarray(I+1,I+1+D),j=VA(I,v);if(S={nalUnitType:"sei_rbsp",size:D,data:N,escapedRBSP:zA(N),trackId:m},j)S.pts=j.pts,S.dts=j.dts,B=j;else if(B)S.pts=B.pts,S.dts=B.dts;else{x.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+I+" for trackId "+m+". See mux.js#223."});break}x.seiNals.push(S);break}return x},WA=function(h,v,m){var _=v,x=m.defaultSampleDuration||0,S=m.defaultSampleSize||0,I=m.trackId,D=[];return h.forEach(function(B){var N=u_(B),j=N.samples;j.forEach(function(K){K.duration===void 0&&(K.duration=x),K.size===void 0&&(K.size=S),K.trackId=I,K.dts=_,K.compositionTimeOffset===void 0&&(K.compositionTimeOffset=0),typeof _=="bigint"?(K.pts=_+Oo.BigInt(K.compositionTimeOffset),_+=Oo.BigInt(K.duration)):(K.pts=_+K.compositionTimeOffset,_+=K.duration)}),D=D.concat(j)}),D},qA=function(h,v){var m=Ye(h,["moof","traf"]),_=Ye(h,["mdat"]),x={},S=[];return _.forEach(function(I,D){var B=m[D];S.push({mdat:I,traf:B})}),S.forEach(function(I){var D=I.mdat,B=I.traf,N=Ye(B,["tfhd"]),j=c_(N[0]),K=j.trackId,ue=Ye(B,["tfdt"]),me=ue.length>0?o_(ue[0]).baseMediaDecodeTime:0,ne=Ye(B,["trun"]),Ce,bt;v===K&&ne.length>0&&(Ce=WA(ne,me,j),bt=HA(D,Ce,K),x[K]||(x[K]={seiNals:[],logs:[]}),x[K].seiNals=x[K].seiNals.concat(bt.seiNals),x[K].logs=x[K].logs.concat(bt.logs))}),x},$A=function(h,v,m){var _;if(v===null)return null;_=qA(h,v);var x=_[v]||{};return{seiNals:x.seiNals,logs:x.logs,timescale:m}},GA=function(){var h=!1,v,m,_,x,S,I;this.isInitialized=function(){return h},this.init=function(D){v=new jA,h=!0,I=D?D.isPartial:!1,v.on("data",function(B){B.startTime=B.startPts/x,B.endTime=B.endPts/x,S.captions.push(B),S.captionStreams[B.stream]=!0}),v.on("log",function(B){S.logs.push(B)})},this.isNewInit=function(D,B){return D&&D.length===0||B&&typeof B=="object"&&Object.keys(B).length===0?!1:_!==D[0]||x!==B[_]},this.parse=function(D,B,N){var j;if(this.isInitialized()){if(!B||!N)return null;if(this.isNewInit(B,N))_=B[0],x=N[_];else if(_===null||!x)return m.push(D),null}else return null;for(;m.length>0;){var K=m.shift();this.parse(K,B,N)}return j=$A(D,_,x),j&&j.logs&&(S.logs=S.logs.concat(j.logs)),j===null||!j.seiNals?S.logs.length?{logs:S.logs,captions:[],captionStreams:[]}:null:(this.pushNals(j.seiNals),this.flushStream(),S)},this.pushNals=function(D){if(!this.isInitialized()||!D||D.length===0)return null;D.forEach(function(B){v.push(B)})},this.flushStream=function(){if(!this.isInitialized())return null;I?v.partialFlush():v.flush()},this.clearParsedCaptions=function(){S.captions=[],S.captionStreams={},S.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;v.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){m=[],_=null,x=null,S?this.clearParsedCaptions():S={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},XA=GA,fc=dc.toUnsigned,Ao=dc.toHexString,KA=n.getUint64,f_,h_,p_,m_,v_,Nh;f_=function(h){var v={},m=Ye(h,["moov","trak"]);return m.reduce(function(_,x){var S,I,D,B,N;return S=Ye(x,["tkhd"])[0],!S||(I=S[0],D=I===0?12:20,B=fc(S[D]<<24|S[D+1]<<16|S[D+2]<<8|S[D+3]),N=Ye(x,["mdia","mdhd"])[0],!N)?null:(I=N[0],D=I===0?12:20,_[B]=fc(N[D]<<24|N[D+1]<<16|N[D+2]<<8|N[D+3]),_)},v)},h_=function(h,v){var m;m=Ye(v,["moof","traf"]);var _=m.reduce(function(x,S){var I=Ye(S,["tfhd"])[0],D=fc(I[4]<<24|I[5]<<16|I[6]<<8|I[7]),B=h[D]||9e4,N=Ye(S,["tfdt"])[0],j=new DataView(N.buffer,N.byteOffset,N.byteLength),K;N[0]===1?K=KA(N.subarray(4,12)):K=j.getUint32(4);var ue;return typeof K=="bigint"?ue=K/Oo.BigInt(B):typeof K=="number"&&!isNaN(K)&&(ue=K/B),ue<Number.MAX_SAFE_INTEGER&&(ue=Number(ue)),ue<x&&(x=ue),x},1/0);return typeof _=="bigint"||isFinite(_)?_:0},p_=function(h,v){var m=Ye(v,["moof","traf"]),_=0,x=0,S;if(m&&m.length){var I=Ye(m[0],["tfhd"])[0],D=Ye(m[0],["trun"])[0],B=Ye(m[0],["tfdt"])[0];if(I){var N=c_(I);S=N.trackId}if(B){var j=o_(B);_=j.baseMediaDecodeTime}if(D){var K=u_(D);K.samples&&K.samples.length&&(x=K.samples[0].compositionTimeOffset||0)}}var ue=h[S]||9e4;typeof _=="bigint"&&(x=Oo.BigInt(x),ue=Oo.BigInt(ue));var me=(_+x)/ue;return typeof me=="bigint"&&me<Number.MAX_SAFE_INTEGER&&(me=Number(me)),me},m_=function(h){var v=Ye(h,["moov","trak"]),m=[];return v.forEach(function(_){var x=Ye(_,["mdia","hdlr"]),S=Ye(_,["tkhd"]);x.forEach(function(I,D){var B=ss(I.subarray(8,12)),N=S[D],j,K,ue;B==="vide"&&(j=new DataView(N.buffer,N.byteOffset,N.byteLength),K=j.getUint8(0),ue=K===0?j.getUint32(12):j.getUint32(20),m.push(ue))})}),m},Nh=function(h){var v=h[0],m=v===0?12:20;return fc(h[m]<<24|h[m+1]<<16|h[m+2]<<8|h[m+3])},v_=function(h){var v=Ye(h,["moov","trak"]),m=[];return v.forEach(function(_){var x={},S=Ye(_,["tkhd"])[0],I,D;S&&(I=new DataView(S.buffer,S.byteOffset,S.byteLength),D=I.getUint8(0),x.id=D===0?I.getUint32(12):I.getUint32(20));var B=Ye(_,["mdia","hdlr"])[0];if(B){var N=ss(B.subarray(8,12));N==="vide"?x.type="video":N==="soun"?x.type="audio":x.type=N}var j=Ye(_,["mdia","minf","stbl","stsd"])[0];if(j){var K=j.subarray(8);x.codec=ss(K.subarray(4,8));var ue=Ye(K,[x.codec])[0],me,ne;ue&&(/^[asm]vc[1-9]$/i.test(x.codec)?(me=ue.subarray(78),ne=ss(me.subarray(4,8)),ne==="avcC"&&me.length>11?(x.codec+=".",x.codec+=Ao(me[9]),x.codec+=Ao(me[10]),x.codec+=Ao(me[11])):x.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(x.codec)?(me=ue.subarray(28),ne=ss(me.subarray(4,8)),ne==="esds"&&me.length>20&&me[19]!==0?(x.codec+="."+Ao(me[19]),x.codec+="."+Ao(me[20]>>>2&63).replace(/^0/,"")):x.codec="mp4a.40.2"):x.codec=x.codec.toLowerCase())}var Ce=Ye(_,["mdia","mdhd"])[0];Ce&&(x.timescale=Nh(Ce)),m.push(x)}),m};var g_={findBox:Ye,parseType:ss,timescale:f_,startTime:h_,compositionStartTime:p_,videoTrackIds:m_,tracks:v_,getTimescaleFromMediaHeader:Nh},y_=function(h){var v=h[1]&31;return v<<=8,v|=h[2],v},hc=function(h){return!!(h[1]&64)},pc=function(h){var v=0;return(h[3]&48)>>>4>1&&(v+=h[4]+1),v},QA=function(h,v){var m=y_(h);return m===0?"pat":m===v?"pmt":v?"pes":null},YA=function(h){var v=hc(h),m=4+pc(h);return v&&(m+=h[m]+1),(h[m+10]&31)<<8|h[m+11]},JA=function(h){var v={},m=hc(h),_=4+pc(h);if(m&&(_+=h[_]+1),!!(h[_+5]&1)){var x,S,I;x=(h[_+1]&15)<<8|h[_+2],S=3+x-4,I=(h[_+10]&15)<<8|h[_+11];for(var D=12+I;D<S;){var B=_+D;v[(h[B+1]&31)<<8|h[B+2]]=h[B],D+=((h[B+3]&15)<<8|h[B+4])+5}return v}},ZA=function(h,v){var m=y_(h),_=v[m];switch(_){case Ot.H264_STREAM_TYPE:return"video";case Ot.ADTS_STREAM_TYPE:return"audio";case Ot.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},eI=function(h){var v=hc(h);if(!v)return null;var m=4+pc(h);if(m>=h.byteLength)return null;var _=null,x;return x=h[m+7],x&192&&(_={},_.pts=(h[m+9]&14)<<27|(h[m+10]&255)<<20|(h[m+11]&254)<<12|(h[m+12]&255)<<5|(h[m+13]&254)>>>3,_.pts*=4,_.pts+=(h[m+13]&6)>>>1,_.dts=_.pts,x&64&&(_.dts=(h[m+14]&14)<<27|(h[m+15]&255)<<20|(h[m+16]&254)<<12|(h[m+17]&255)<<5|(h[m+18]&254)>>>3,_.dts*=4,_.dts+=(h[m+18]&6)>>>1)),_},Uh=function(h){switch(h){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},tI=function(h){for(var v=4+pc(h),m=h.subarray(v),_=0,x=0,S=!1,I;x<m.byteLength-3;x++)if(m[x+2]===1){_=x+5;break}for(;_<m.byteLength;)switch(m[_]){case 0:if(m[_-1]!==0){_+=2;break}else if(m[_-2]!==0){_++;break}x+3!==_-2&&(I=Uh(m[x+3]&31),I==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0));do _++;while(m[_]!==1&&_<m.length);x=_-2,_+=3;break;case 1:if(m[_-1]!==0||m[_-2]!==0){_+=3;break}I=Uh(m[x+3]&31),I==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0),x=_-2,_+=3;break;default:_+=3;break}return m=m.subarray(x),_-=x,x=0,m&&m.byteLength>3&&(I=Uh(m[x+3]&31),I==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0)),S},iI={parseType:QA,parsePat:YA,parsePmt:JA,parsePayloadUnitStartIndicator:hc,parsePesType:ZA,parsePesTime:eI,videoPacketContainsKeyFrame:tI},Ks=Ky.handleRollover,He={};He.ts=iI,He.aac=lc;var as=Fe.ONE_SECOND_IN_TS,Zt=188,Sn=71,nI=function(h,v){for(var m=0,_=Zt,x,S;_<h.byteLength;){if(h[m]===Sn&&h[_]===Sn){switch(x=h.subarray(m,_),S=He.ts.parseType(x,v.pid),S){case"pat":v.pid=He.ts.parsePat(x);break;case"pmt":var I=He.ts.parsePmt(x);v.table=v.table||{},Object.keys(I).forEach(function(D){v.table[D]=I[D]});break}m+=Zt,_+=Zt;continue}m++,_++}},__=function(h,v,m){for(var _=0,x=Zt,S,I,D,B,N,j=!1;x<=h.byteLength;){if(h[_]===Sn&&(h[x]===Sn||x===h.byteLength)){switch(S=h.subarray(_,x),I=He.ts.parseType(S,v.pid),I){case"pes":D=He.ts.parsePesType(S,v.table),B=He.ts.parsePayloadUnitStartIndicator(S),D==="audio"&&B&&(N=He.ts.parsePesTime(S),N&&(N.type="audio",m.audio.push(N),j=!0));break}if(j)break;_+=Zt,x+=Zt;continue}_++,x++}for(x=h.byteLength,_=x-Zt,j=!1;_>=0;){if(h[_]===Sn&&(h[x]===Sn||x===h.byteLength)){switch(S=h.subarray(_,x),I=He.ts.parseType(S,v.pid),I){case"pes":D=He.ts.parsePesType(S,v.table),B=He.ts.parsePayloadUnitStartIndicator(S),D==="audio"&&B&&(N=He.ts.parsePesTime(S),N&&(N.type="audio",m.audio.push(N),j=!0));break}if(j)break;_-=Zt,x-=Zt;continue}_--,x--}},rI=function(h,v,m){for(var _=0,x=Zt,S,I,D,B,N,j,K,ue,me=!1,ne={data:[],size:0};x<h.byteLength;){if(h[_]===Sn&&h[x]===Sn){switch(S=h.subarray(_,x),I=He.ts.parseType(S,v.pid),I){case"pes":if(D=He.ts.parsePesType(S,v.table),B=He.ts.parsePayloadUnitStartIndicator(S),D==="video"&&(B&&!me&&(N=He.ts.parsePesTime(S),N&&(N.type="video",m.video.push(N),me=!0)),!m.firstKeyFrame)){if(B&&ne.size!==0){for(j=new Uint8Array(ne.size),K=0;ne.data.length;)ue=ne.data.shift(),j.set(ue,K),K+=ue.byteLength;if(He.ts.videoPacketContainsKeyFrame(j)){var Ce=He.ts.parsePesTime(j);Ce?(m.firstKeyFrame=Ce,m.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}ne.size=0}ne.data.push(S),ne.size+=S.byteLength}break}if(me&&m.firstKeyFrame)break;_+=Zt,x+=Zt;continue}_++,x++}for(x=h.byteLength,_=x-Zt,me=!1;_>=0;){if(h[_]===Sn&&h[x]===Sn){switch(S=h.subarray(_,x),I=He.ts.parseType(S,v.pid),I){case"pes":D=He.ts.parsePesType(S,v.table),B=He.ts.parsePayloadUnitStartIndicator(S),D==="video"&&B&&(N=He.ts.parsePesTime(S),N&&(N.type="video",m.video.push(N),me=!0));break}if(me)break;_-=Zt,x-=Zt;continue}_--,x--}},sI=function(h,v){if(h.audio&&h.audio.length){var m=v;(typeof m>"u"||isNaN(m))&&(m=h.audio[0].dts),h.audio.forEach(function(S){S.dts=Ks(S.dts,m),S.pts=Ks(S.pts,m),S.dtsTime=S.dts/as,S.ptsTime=S.pts/as})}if(h.video&&h.video.length){var _=v;if((typeof _>"u"||isNaN(_))&&(_=h.video[0].dts),h.video.forEach(function(S){S.dts=Ks(S.dts,_),S.pts=Ks(S.pts,_),S.dtsTime=S.dts/as,S.ptsTime=S.pts/as}),h.firstKeyFrame){var x=h.firstKeyFrame;x.dts=Ks(x.dts,_),x.pts=Ks(x.pts,_),x.dtsTime=x.dts/as,x.ptsTime=x.pts/as}}},aI=function(h){for(var v=!1,m=0,_=null,x=null,S=0,I=0,D;h.length-I>=3;){var B=He.aac.parseType(h,I);switch(B){case"timed-metadata":if(h.length-I<10){v=!0;break}if(S=He.aac.parseId3TagSize(h,I),S>h.length){v=!0;break}x===null&&(D=h.subarray(I,I+S),x=He.aac.parseAacTimestamp(D)),I+=S;break;case"audio":if(h.length-I<7){v=!0;break}if(S=He.aac.parseAdtsSize(h,I),S>h.length){v=!0;break}_===null&&(D=h.subarray(I,I+S),_=He.aac.parseSampleRate(D)),m++,I+=S;break;default:I++;break}if(v)return null}if(_===null||x===null)return null;var N=as/_,j={audio:[{type:"audio",dts:x,pts:x},{type:"audio",dts:x+m*1024*N,pts:x+m*1024*N}]};return j},oI=function(h){var v={pid:null,table:null},m={};nI(h,v);for(var _ in v.table)if(v.table.hasOwnProperty(_)){var x=v.table[_];switch(x){case Ot.H264_STREAM_TYPE:m.video=[],rI(h,v,m),m.video.length===0&&delete m.video;break;case Ot.ADTS_STREAM_TYPE:m.audio=[],__(h,v,m),m.audio.length===0&&delete m.audio;break}}return m},lI=function(h,v){var m=He.aac.isLikelyAacData(h),_;return m?_=aI(h):_=oI(h),!_||!_.audio&&!_.video?null:(sI(_,v),_)},uI={inspect:lI,parseAudioPes_:__},cI=function(h,v){v.on("data",function(m){var _=m.initSegment;m.initSegment={data:_.buffer,byteOffset:_.byteOffset,byteLength:_.byteLength};var x=m.data;m.data=x.buffer,h.postMessage({action:"data",segment:m,byteOffset:x.byteOffset,byteLength:x.byteLength},[m.data])}),v.on("done",function(m){h.postMessage({action:"done"})}),v.on("gopInfo",function(m){h.postMessage({action:"gopInfo",gopInfo:m})}),v.on("videoSegmentTimingInfo",function(m){var _={start:{decode:Fe.videoTsToSeconds(m.start.dts),presentation:Fe.videoTsToSeconds(m.start.pts)},end:{decode:Fe.videoTsToSeconds(m.end.dts),presentation:Fe.videoTsToSeconds(m.end.pts)},baseMediaDecodeTime:Fe.videoTsToSeconds(m.baseMediaDecodeTime)};m.prependedContentDuration&&(_.prependedContentDuration=Fe.videoTsToSeconds(m.prependedContentDuration)),h.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:_})}),v.on("audioSegmentTimingInfo",function(m){var _={start:{decode:Fe.videoTsToSeconds(m.start.dts),presentation:Fe.videoTsToSeconds(m.start.pts)},end:{decode:Fe.videoTsToSeconds(m.end.dts),presentation:Fe.videoTsToSeconds(m.end.pts)},baseMediaDecodeTime:Fe.videoTsToSeconds(m.baseMediaDecodeTime)};m.prependedContentDuration&&(_.prependedContentDuration=Fe.videoTsToSeconds(m.prependedContentDuration)),h.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:_})}),v.on("id3Frame",function(m){h.postMessage({action:"id3Frame",id3Frame:m})}),v.on("caption",function(m){h.postMessage({action:"caption",caption:m})}),v.on("trackinfo",function(m){h.postMessage({action:"trackinfo",trackInfo:m})}),v.on("audioTimingInfo",function(m){h.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Fe.videoTsToSeconds(m.start),end:Fe.videoTsToSeconds(m.end)}})}),v.on("videoTimingInfo",function(m){h.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Fe.videoTsToSeconds(m.start),end:Fe.videoTsToSeconds(m.end)}})}),v.on("log",function(m){h.postMessage({action:"log",log:m})})},b_=function(){function C(v,m){this.options=m||{},this.self=v,this.init()}var h=C.prototype;return h.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new PA.Transmuxer(this.options),cI(this.self,this.transmuxer)},h.pushMp4Captions=function(m){this.captionParser||(this.captionParser=new XA,this.captionParser.init());var _=new Uint8Array(m.data,m.byteOffset,m.byteLength),x=this.captionParser.parse(_,m.trackIds,m.timescales);this.self.postMessage({action:"mp4Captions",captions:x&&x.captions||[],logs:x&&x.logs||[],data:_.buffer},[_.buffer])},h.probeMp4StartTime=function(m){var _=m.timescales,x=m.data,S=g_.startTime(_,x);this.self.postMessage({action:"probeMp4StartTime",startTime:S,data:x},[x.buffer])},h.probeMp4Tracks=function(m){var _=m.data,x=g_.tracks(_);this.self.postMessage({action:"probeMp4Tracks",tracks:x,data:_},[_.buffer])},h.probeTs=function(m){var _=m.data,x=m.baseStartTime,S=typeof x=="number"&&!isNaN(x)?x*Fe.ONE_SECOND_IN_TS:void 0,I=uI.inspect(_,S),D=null;I&&(D={hasVideo:I.video&&I.video.length===2||!1,hasAudio:I.audio&&I.audio.length===2||!1},D.hasVideo&&(D.videoStart=I.video[0].ptsTime),D.hasAudio&&(D.audioStart=I.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:D,data:_},[_.buffer])},h.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},h.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},h.push=function(m){var _=new Uint8Array(m.data,m.byteOffset,m.byteLength);this.transmuxer.push(_)},h.reset=function(){this.transmuxer.reset()},h.setTimestampOffset=function(m){var _=m.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Fe.secondsToVideoTs(_)))},h.setAudioAppendStart=function(m){this.transmuxer.setAudioAppendStart(Math.ceil(Fe.secondsToVideoTs(m.appendStart)))},h.setRemux=function(m){this.transmuxer.setRemux(m.remux)},h.flush=function(m){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},h.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},h.alignGopsWith=function(m){this.transmuxer.alignGopsWith(m.gopsToAlignWith.slice())},C}();self.onmessage=function(C){if(C.data.action==="init"&&C.data.options){this.messageHandlers=new b_(self,C.data.options);return}this.messageHandlers||(this.messageHandlers=new b_(self)),C.data&&C.data.action&&C.data.action!=="init"&&this.messageHandlers[C.data.action]&&this.messageHandlers[C.data.action](C.data)}})),d5=pO(c5),f5=function(e,i,r){var n=e.data.segment,s=n.type,a=n.initSegment,o=n.captions,l=n.captionStreams,u=n.metadata,c=n.videoFrameDtsTime,d=n.videoFramePtsTime;i.buffer.push({captions:o,captionStreams:l,metadata:u});var f=e.data.segment.boxes||{data:e.data.segment.data},p={type:s,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};typeof c<"u"&&(p.videoFrameDtsTime=c),typeof d<"u"&&(p.videoFramePtsTime=d),r(p)},h5=function(e){var i=e.transmuxedData,r=e.callback;i.buffer=[],r(i)},p5=function(e,i){i.gopInfo=e.data.gopInfo},gO=function(e){var i=e.transmuxer,r=e.bytes,n=e.audioAppendStart,s=e.gopsToAlignWith,a=e.remux,o=e.onData,l=e.onTrackInfo,u=e.onAudioTimingInfo,c=e.onVideoTimingInfo,d=e.onVideoSegmentTimingInfo,f=e.onAudioSegmentTimingInfo,p=e.onId3,g=e.onCaptions,b=e.onDone,y=e.onEndedTimeline,T=e.onTransmuxerLog,w=e.isEndOfTimeline,O={buffer:[]},P=w,F=function(k){i.currentTransmux===e&&(k.data.action==="data"&&f5(k,O,o),k.data.action==="trackinfo"&&l(k.data.trackInfo),k.data.action==="gopInfo"&&p5(k,O),k.data.action==="audioTimingInfo"&&u(k.data.audioTimingInfo),k.data.action==="videoTimingInfo"&&c(k.data.videoTimingInfo),k.data.action==="videoSegmentTimingInfo"&&d(k.data.videoSegmentTimingInfo),k.data.action==="audioSegmentTimingInfo"&&f(k.data.audioSegmentTimingInfo),k.data.action==="id3Frame"&&p([k.data.id3Frame],k.data.id3Frame.dispatchType),k.data.action==="caption"&&g(k.data.caption),k.data.action==="endedtimeline"&&(P=!1,y()),k.data.action==="log"&&T(k.data.log),k.data.type==="transmuxed"&&(P||(i.onmessage=null,h5({transmuxedData:O,callback:b}),yO(i))))};if(i.onmessage=F,n&&i.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(s)&&i.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),typeof a<"u"&&i.postMessage({action:"setRemux",remux:a}),r.byteLength){var L=r instanceof ArrayBuffer?r:r.buffer,R=r instanceof ArrayBuffer?0:r.byteOffset;i.postMessage({action:"push",data:L,byteOffset:R,byteLength:r.byteLength},[L])}w&&i.postMessage({action:"endTimeline"}),i.postMessage({action:"flush"})},yO=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():gO(e.currentTransmux))},eS=function(e,i){e.postMessage({action:i}),yO(e)},_O=function(e,i){if(!i.currentTransmux){i.currentTransmux=e,eS(i,e);return}i.transmuxQueue.push(eS.bind(null,i,e))},m5=function(e){_O("reset",e)},v5=function(e){_O("endTimeline",e)},bO=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,gO(e);return}e.transmuxer.transmuxQueue.push(e)},g5=function(e){var i=new d5;i.currentTransmux=null,i.transmuxQueue=[];var r=i.terminate;return i.terminate=function(){return i.currentTransmux=null,i.transmuxQueue.length=0,r.call(i)},i.postMessage({action:"init",options:e}),i},Yp={reset:m5,endTimeline:v5,transmux:bO,createTransmuxer:g5},bf=function(e){var i=e.transmuxer,r=e.endAction||e.action,n=e.callback,s=nn({},e,{endAction:null,transmuxer:null,callback:null}),a=function u(c){c.data.action===r&&(i.removeEventListener("message",u),c.data.data&&(c.data.data=new Uint8Array(c.data.data,e.byteOffset||0,e.byteLength||c.data.data.byteLength),e.data&&(e.data=c.data.data)),n(c.data))};if(i.addEventListener("message",a),e.data){var o=e.data instanceof ArrayBuffer;s.byteOffset=o?0:e.data.byteOffset,s.byteLength=e.data.byteLength;var l=[o?e.data:e.data.buffer];i.postMessage(s,l)}else i.postMessage(s)},Mn={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Wv=function(e){e.forEach(function(i){i.abort()})},y5=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},_5=function(e){var i=e.target,r=Date.now()-i.requestTime,n={bandwidth:1/0,bytesReceived:0,roundTripTime:r||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},Vy=function(e,i){return i.timedout?{status:i.status,message:"HLS request timed-out at URL: "+i.uri,code:Mn.TIMEOUT,xhr:i}:i.aborted?{status:i.status,message:"HLS request aborted at URL: "+i.uri,code:Mn.ABORTED,xhr:i}:e?{status:i.status,message:"HLS request errored at URL: "+i.uri,code:Mn.FAILURE,xhr:i}:i.responseType==="arraybuffer"&&i.response.byteLength===0?{status:i.status,message:"Empty HLS response at URL: "+i.uri,code:Mn.FAILURE,xhr:i}:null},tS=function(e,i,r){return function(n,s){var a=s.response,o=Vy(n,s);if(o)return r(o,e);if(a.byteLength!==16)return r({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:Mn.FAILURE,xhr:s},e);for(var l=new DataView(a),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]),c=0;c<i.length;c++)i[c].bytes=u;return r(null,e)}},TO=function(e,i){var r=ny(e.map.bytes);if(r!=="mp4"){var n=e.map.resolvedUri||e.map.uri;return i({internal:!0,message:"Found unsupported "+(r||"unknown")+" container for initialization segment at URL: "+n,code:Mn.FAILURE})}bf({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(a){var o=a.tracks,l=a.data;return e.map.bytes=l,o.forEach(function(u){e.map.tracks=e.map.tracks||{},!e.map.tracks[u.type]&&(e.map.tracks[u.type]=u,typeof u.id=="number"&&u.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[u.id]=u.timescale))}),i(null)}})},b5=function(e){var i=e.segment,r=e.finishProcessingFn;return function(n,s){var a=Vy(n,s);if(a)return r(a,i);var o=new Uint8Array(s.response);if(i.map.key)return i.map.encryptedBytes=o,r(null,i);i.map.bytes=o,TO(i,function(l){if(l)return l.xhr=s,l.status=s.status,r(l,i);r(null,i)})}},T5=function(e){var i=e.segment,r=e.finishProcessingFn,n=e.responseType;return function(s,a){var o=Vy(s,a);if(o)return r(o,i);var l=n==="arraybuffer"||!a.responseText?a.response:l5(a.responseText.substring(i.lastReachedChar||0));return i.stats=y5(a),i.key?i.encryptedBytes=new Uint8Array(l):i.bytes=new Uint8Array(l),r(null,i)}},x5=function(e){var i=e.segment,r=e.bytes,n=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,f=e.dataFn,p=e.doneFn,g=e.onTransmuxerLog,b=i.map&&i.map.tracks||{},y=Boolean(b.audio&&b.video),T=s.bind(null,i,"audio","start"),w=s.bind(null,i,"audio","end"),O=s.bind(null,i,"video","start"),P=s.bind(null,i,"video","end"),F=function(){return bO({bytes:r,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,remux:y,onData:function(E){E.type=E.type==="combined"?"video":E.type,f(i,E)},onTrackInfo:function(E){n&&(y&&(E.isMuxed=!0),n(i,E))},onAudioTimingInfo:function(E){T&&typeof E.start<"u"&&(T(E.start),T=null),w&&typeof E.end<"u"&&w(E.end)},onVideoTimingInfo:function(E){O&&typeof E.start<"u"&&(O(E.start),O=null),P&&typeof E.end<"u"&&P(E.end)},onVideoSegmentTimingInfo:function(E){a(E)},onAudioSegmentTimingInfo:function(E){o(E)},onId3:function(E,k){l(i,E,k)},onCaptions:function(E){u(i,[E])},isEndOfTimeline:c,onEndedTimeline:function(){d()},onTransmuxerLog:g,onDone:function(E){!p||(E.type=E.type==="combined"?"video":E.type,p(null,i,E))}})};bf({action:"probeTs",transmuxer:i.transmuxer,data:r,baseStartTime:i.baseStartTime,callback:function(R){i.bytes=r=R.data;var E=R.result;E&&(n(i,{hasAudio:E.hasAudio,hasVideo:E.hasVideo,isMuxed:y}),n=null,E.hasAudio&&!y&&T(E.audioStart),E.hasVideo&&O(E.videoStart),T=null,O=null),F()}})},xO=function(e){var i=e.segment,r=e.bytes,n=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,f=e.dataFn,p=e.doneFn,g=e.onTransmuxerLog,b=new Uint8Array(r);if(q8(b)){i.isFmp4=!0;var y=i.map.tracks,T={isFmp4:!0,hasVideo:!!y.video,hasAudio:!!y.audio};y.audio&&y.audio.codec&&y.audio.codec!=="enca"&&(T.audioCodec=y.audio.codec),y.video&&y.video.codec&&y.video.codec!=="encv"&&(T.videoCodec=y.video.codec),y.video&&y.audio&&(T.isMuxed=!0),n(i,T);var w=function(P){f(i,{data:b,type:T.hasAudio&&!T.isMuxed?"audio":"video"}),P&&P.length&&u(i,P),p(null,i,{})};bf({action:"probeMp4StartTime",timescales:i.map.timescales,data:b,transmuxer:i.transmuxer,callback:function(P){var F=P.data,L=P.startTime;if(r=F.buffer,i.bytes=b=F,T.hasAudio&&!T.isMuxed&&s(i,"audio","start",L),T.hasVideo&&s(i,"video","start",L),!y.video||!F.byteLength||!i.transmuxer){w();return}bf({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:i.transmuxer,data:b,timescales:i.map.timescales,trackIds:[y.video.id],callback:function(E){r=E.data.buffer,i.bytes=b=E.data,E.logs.forEach(function(k){g(V.mergeOptions(k,{stream:"mp4CaptionParser"}))}),w(E.captions)}})}});return}if(!i.transmuxer){p(null,i,{});return}if(typeof i.container>"u"&&(i.container=ny(b)),i.container!=="ts"&&i.container!=="aac"){n(i,{hasAudio:!1,hasVideo:!1}),p(null,i,{});return}x5({segment:i,bytes:r,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:d,dataFn:f,doneFn:p,onTransmuxerLog:g})},SO=function(e,i){var r=e.id,n=e.key,s=e.encryptedBytes,a=e.decryptionWorker,o=function u(c){if(c.data.source===r){a.removeEventListener("message",u);var d=c.data.decrypted;i(new Uint8Array(d.bytes,d.byteOffset,d.byteLength))}};a.addEventListener("message",o);var l;n.bytes.slice?l=n.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(n.bytes)),a.postMessage(lO({source:r,encrypted:s,key:l,iv:n.iv}),[s.buffer,l.buffer])},S5=function(e){var i=e.decryptionWorker,r=e.segment,n=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,f=e.dataFn,p=e.doneFn,g=e.onTransmuxerLog;SO({id:r.requestId,key:r.key,encryptedBytes:r.encryptedBytes,decryptionWorker:i},function(b){r.bytes=b,xO({segment:r,bytes:r.bytes,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:d,dataFn:f,doneFn:p,onTransmuxerLog:g})})},w5=function(e){var i=e.activeXhrs,r=e.decryptionWorker,n=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,f=e.dataFn,p=e.doneFn,g=e.onTransmuxerLog,b=0,y=!1;return function(T,w){if(!y){if(T)return y=!0,Wv(i),p(T,w);if(b+=1,b===i.length){var O=function(){if(w.encryptedBytes)return S5({decryptionWorker:r,segment:w,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:d,dataFn:f,doneFn:p,onTransmuxerLog:g});xO({segment:w,bytes:w.bytes,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:d,dataFn:f,doneFn:p,onTransmuxerLog:g})};if(w.endOfAllRequests=Date.now(),w.map&&w.map.encryptedBytes&&!w.map.bytes)return SO({decryptionWorker:r,id:w.requestId+"-init",encryptedBytes:w.map.encryptedBytes,key:w.map.key},function(P){w.map.bytes=P,TO(w,function(F){if(F)return Wv(i),p(F,w);O()})});O()}}}},E5=function(e){var i=e.loadendState,r=e.abortFn;return function(n){var s=n.target;s.aborted&&r&&!i.calledAbortFn&&(r(),i.calledAbortFn=!0)}},C5=function(e){var i=e.segment,r=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(n){var s=n.target;if(!s.aborted)return i.stats=V.mergeOptions(i.stats,_5(n)),!i.stats.firstBytesReceivedAt&&i.stats.bytesReceived&&(i.stats.firstBytesReceivedAt=Date.now()),r(n,i)}},k5=function(e){var i=e.xhr,r=e.xhrOptions,n=e.decryptionWorker,s=e.segment,a=e.abortFn,o=e.progressFn,l=e.trackInfoFn,u=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,d=e.audioSegmentTimingInfoFn,f=e.id3Fn,p=e.captionsFn,g=e.isEndOfTimeline,b=e.endedTimelineFn,y=e.dataFn,T=e.doneFn,w=e.onTransmuxerLog,O=[],P=w5({activeXhrs:O,decryptionWorker:n,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:p,isEndOfTimeline:g,endedTimelineFn:b,dataFn:y,doneFn:T,onTransmuxerLog:w});if(s.key&&!s.key.bytes){var F=[s.key];s.map&&!s.map.bytes&&s.map.key&&s.map.key.resolvedUri===s.key.resolvedUri&&F.push(s.map.key);var L=V.mergeOptions(r,{uri:s.key.resolvedUri,responseType:"arraybuffer"}),R=tS(s,F,P),E=i(L,R);O.push(E)}if(s.map&&!s.map.bytes){var k=s.map.key&&(!s.key||s.key.resolvedUri!==s.map.key.resolvedUri);if(k){var A=V.mergeOptions(r,{uri:s.map.key.resolvedUri,responseType:"arraybuffer"}),U=tS(s,[s.map.key],P),z=i(A,U);O.push(z)}var H=V.mergeOptions(r,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:Vv(s.map)}),G=b5({segment:s,finishProcessingFn:P}),Q=i(H,G);O.push(Q)}var ee=V.mergeOptions(r,{uri:s.part&&s.part.resolvedUri||s.resolvedUri,responseType:"arraybuffer",headers:Vv(s)}),q=T5({segment:s,finishProcessingFn:P,responseType:ee.responseType}),Y=i(ee,q);Y.addEventListener("progress",C5({segment:s,progressFn:o,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:p,isEndOfTimeline:g,endedTimelineFn:b,dataFn:y})),O.push(Y);var te={};return O.forEach(function(pe){pe.addEventListener("loadend",E5({loadendState:te,abortFn:a}))}),function(){return Wv(O)}},P5=Tn("CodecUtils"),O5=function(e){var i=e.attributes||{};if(i.CODECS)return En(i.CODECS)},wO=function(e,i){var r=i.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&r.AUDIO&&e.mediaGroups.AUDIO[r.AUDIO]},A5=function(e,i){if(!wO(e,i))return!0;var r=i.attributes||{},n=e.mediaGroups.AUDIO[r.AUDIO];for(var s in n)if(!n[s].uri&&!n[s].playlists)return!0;return!1},Tf=function(e){var i={};return e.forEach(function(r){var n=r.mediaType,s=r.type,a=r.details;i[n]=i[n]||[],i[n].push(GC(""+s+a))}),Object.keys(i).forEach(function(r){if(i[r].length>1){P5("multiple "+r+" codecs found as attributes: "+i[r].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),i[r]=null;return}i[r]=i[r][0]}),i},iS=function(e){var i=0;return e.audio&&i++,e.video&&i++,i},zl=function(e,i){var r=i.attributes||{},n=Tf(O5(i)||[]);if(wO(e,i)&&!n.audio&&!A5(e,i)){var s=Tf(t4(e,r.AUDIO)||[]);s.audio&&(n.audio=s.audio)}return n},Vc=Tn("PlaylistSelector"),nS=function(e){if(!(!e||!e.playlist)){var i=e.playlist;return JSON.stringify({id:i.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:i.attributes&&i.attributes.CODECS||""})}},xf=function(e,i){if(!e)return"";var r=M.getComputedStyle(e);return r?r[i]:""},Fa=function(e,i){var r=e.slice();e.sort(function(n,s){var a=i(n,s);return a===0?r.indexOf(n)-r.indexOf(s):a})},Hy=function(e,i){var r,n;return e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||M.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(n=i.attributes.BANDWIDTH),n=n||M.Number.MAX_VALUE,r-n},I5=function(e,i){var r,n;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||M.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(n=i.attributes.RESOLUTION.width),n=n||M.Number.MAX_VALUE,r===n&&e.attributes.BANDWIDTH&&i.attributes.BANDWIDTH?e.attributes.BANDWIDTH-i.attributes.BANDWIDTH:r-n},EO=function(e,i,r,n,s,a){if(!!e){var o={bandwidth:i,width:r,height:n,limitRenditionByPlayerDimensions:s},l=e.playlists;xi.isAudioOnly(e)&&(l=a.getAudioTrackPlaylists_(),o.audioOnly=!0);var u=l.map(function(A){var U,z=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.width,H=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.height;return U=A.attributes&&A.attributes.BANDWIDTH,U=U||M.Number.MAX_VALUE,{bandwidth:U,width:z,height:H,playlist:A}});Fa(u,function(A,U){return A.bandwidth-U.bandwidth}),u=u.filter(function(A){return!xi.isIncompatible(A.playlist)});var c=u.filter(function(A){return xi.isEnabled(A.playlist)});c.length||(c=u.filter(function(A){return!xi.isDisabled(A.playlist)}));var d=c.filter(function(A){return A.bandwidth*St.BANDWIDTH_VARIANCE<i}),f=d[d.length-1],p=d.filter(function(A){return A.bandwidth===f.bandwidth})[0];if(s===!1){var g=p||c[0]||u[0];if(g&&g.playlist){var b="sortedPlaylistReps";return p&&(b="bandwidthBestRep"),c[0]&&(b="enabledPlaylistReps"),Vc("choosing "+nS(g)+" using "+b+" with options",o),g.playlist}return Vc("could not choose a playlist with options",o),null}var y=d.filter(function(A){return A.width&&A.height});Fa(y,function(A,U){return A.width-U.width});var T=y.filter(function(A){return A.width===r&&A.height===n});f=T[T.length-1];var w=T.filter(function(A){return A.bandwidth===f.bandwidth})[0],O,P,F;w||(O=y.filter(function(A){return A.width>r||A.height>n}),P=O.filter(function(A){return A.width===O[0].width&&A.height===O[0].height}),f=P[P.length-1],F=P.filter(function(A){return A.bandwidth===f.bandwidth})[0]);var L;if(a.experimentalLeastPixelDiffSelector){var R=y.map(function(A){return A.pixelDiff=Math.abs(A.width-r)+Math.abs(A.height-n),A});Fa(R,function(A,U){return A.pixelDiff===U.pixelDiff?U.bandwidth-A.bandwidth:A.pixelDiff-U.pixelDiff}),L=R[0]}var E=L||F||w||p||c[0]||u[0];if(E&&E.playlist){var k="sortedPlaylistReps";return L?k="leastPixelDiffRep":F?k="resolutionPlusOneRep":w?k="resolutionBestRep":p?k="bandwidthBestRep":c[0]&&(k="enabledPlaylistReps"),Vc("choosing "+nS(E)+" using "+k+" with options",o),E.playlist}return Vc("could not choose a playlist with options",o),null}},rS=function(){var e=this.useDevicePixelRatio&&M.devicePixelRatio||1;return EO(this.playlists.master,this.systemBandwidth,parseInt(xf(this.tech_.el(),"width"),10)*e,parseInt(xf(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},D5=function(e){var i=-1,r=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var n=this.useDevicePixelRatio&&M.devicePixelRatio||1;return i<0&&(i=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(i=e*this.systemBandwidth+(1-e)*i,r=this.systemBandwidth),EO(this.playlists.master,i,parseInt(xf(this.tech_.el(),"width"),10)*n,parseInt(xf(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},M5=function(e){var i=e.master,r=e.currentTime,n=e.bandwidth,s=e.duration,a=e.segmentDuration,o=e.timeUntilRebuffer,l=e.currentTimeline,u=e.syncController,c=i.playlists.filter(function(b){return!xi.isIncompatible(b)}),d=c.filter(xi.isEnabled);d.length||(d=c.filter(function(b){return!xi.isDisabled(b)}));var f=d.filter(xi.hasAttribute.bind(null,"BANDWIDTH")),p=f.map(function(b){var y=u.getSyncPoint(b,s,l,r),T=y?1:2,w=xi.estimateSegmentRequestTime(a,n,b),O=w*T-o;return{playlist:b,rebufferingImpact:O}}),g=p.filter(function(b){return b.rebufferingImpact<=0});return Fa(g,function(b,y){return Hy(y.playlist,b.playlist)}),g.length?g[0]:(Fa(p,function(b,y){return b.rebufferingImpact-y.rebufferingImpact}),p[0]||null)},L5=function(){var e=this,i=this.playlists.master.playlists.filter(xi.isEnabled);Fa(i,function(n,s){return Hy(n,s)});var r=i.filter(function(n){return!!zl(e.playlists.master,n).video});return r[0]||null},R5=function(e){var i=0,r;return e.bytes&&(r=new Uint8Array(e.bytes),e.segments.forEach(function(n){r.set(n,i),i+=n.byteLength})),r},F5=function(e,i,r){if(!e[r]){i.trigger({type:"usage",name:"vhs-608"}),i.trigger({type:"usage",name:"hls-608"});var n=r;/^cc708_/.test(r)&&(n="SERVICE"+r.split("_")[1]);var s=i.textTracks().getTrackById(n);if(s)e[r]=s;else{var a=i.options_.vhs&&i.options_.vhs.captionServices||{},o=r,l=r,u=!1,c=a[n];c&&(o=c.label,l=c.language,u=c.default),e[r]=i.addRemoteTextTrack({kind:"captions",id:n,default:u,label:o,language:l},!1).track}}},N5=function(e){var i=e.inbandTextTracks,r=e.captionArray,n=e.timestampOffset;if(!!r){var s=M.WebKitDataCue||M.VTTCue;r.forEach(function(a){var o=a.stream;i[o].addCue(new s(a.startTime+n,a.endTime+n,a.text))})}},U5=function(e){Object.defineProperties(e.frame,{id:{get:function(){return V.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return V.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return V.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},B5=function(e){var i=e.inbandTextTracks,r=e.metadataArray,n=e.timestampOffset,s=e.videoDuration;if(!!r){var a=M.WebKitDataCue||M.VTTCue,o=i.metadataTrack_;if(!!o&&(r.forEach(function(p){var g=p.cueTime+n;typeof g!="number"||M.isNaN(g)||g<0||!(g<1/0)||p.frames.forEach(function(b){var y=new a(g,g,b.value||b.url||b.data||"");y.frame=b,y.value=b,U5(y),o.addCue(y)})}),!(!o.cues||!o.cues.length))){for(var l=o.cues,u=[],c=0;c<l.length;c++)l[c]&&u.push(l[c]);var d=u.reduce(function(p,g){var b=p[g.startTime]||[];return b.push(g),p[g.startTime]=b,p},{}),f=Object.keys(d).sort(function(p,g){return Number(p)-Number(g)});f.forEach(function(p,g){var b=d[p],y=Number(f[g+1])||s;b.forEach(function(T){T.endTime=y})})}}},z5=function(e,i,r){e.metadataTrack_||(e.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=i)},yl=function(e,i,r){var n,s;if(!!r&&!!r.cues)for(n=r.cues.length;n--;)s=r.cues[n],s.startTime>=e&&s.endTime<=i&&r.removeCue(s)},j5=function(e){var i=e.cues;if(!!i)for(var r=0;r<i.length;r++){for(var n=[],s=0,a=0;a<i.length;a++)i[r].startTime===i[a].startTime&&i[r].endTime===i[a].endTime&&i[r].text===i[a].text&&(s++,s>1&&n.push(i[a]));n.length&&n.forEach(function(o){return e.removeCue(o)})}},V5=function(e,i,r){if(typeof i>"u"||i===null||!e.length)return[];var n=Math.ceil((i-r+3)*of.ONE_SECOND_IN_TS),s;for(s=0;s<e.length&&!(e[s].pts>n);s++);return e.slice(s)},H5=function(e,i,r){if(!i.length)return e;if(r)return i.slice();var n=i[0].pts,s=0;for(s;s<e.length&&!(e[s].pts>=n);s++);return e.slice(0,s).concat(i)},W5=function(e,i,r,n){for(var s=Math.ceil((i-n)*of.ONE_SECOND_IN_TS),a=Math.ceil((r-n)*of.ONE_SECOND_IN_TS),o=e.slice(),l=e.length;l--&&!(e[l].pts<=a););if(l===-1)return o;for(var u=l+1;u--&&!(e[u].pts<=s););return u=Math.max(u,0),o.splice(u,l-u+1),o},q5=function(e,i){if(!e&&!i||!e&&i||e&&!i)return!1;if(e===i)return!0;var r=Object.keys(e).sort(),n=Object.keys(i).sort();if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++){var a=r[s];if(a!==n[s]||e[a]!==i[a])return!1}return!0},CO=22,$5=function(e,i,r){i=i||[];for(var n=[],s=0,a=0;a<i.length;a++){var o=i[a];if(e===o.timeline&&(n.push(a),s+=o.duration,s>r))return a}return n.length===0?0:n[n.length-1]},tl=1,G5=500,sS=function(e){return typeof e=="number"&&isFinite(e)},Hc=1/60,X5=function(e,i,r){return e!=="main"||!i||!r?null:!r.hasAudio&&!r.hasVideo?"Neither audio nor video found in segment.":i.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!i.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},K5=function(e,i,r){var n=i-St.BACK_BUFFER_LENGTH;e.length&&(n=Math.max(n,e.start(0)));var s=i-r;return Math.min(s,n)},sa=function(e){var i=e.startOfSegment,r=e.duration,n=e.segment,s=e.part,a=e.playlist,o=a.mediaSequence,l=a.id,u=a.segments,c=u===void 0?[]:u,d=e.mediaIndex,f=e.partIndex,p=e.timeline,g=c.length-1,b="mediaIndex/partIndex increment";e.getMediaInfoForTime?b="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(b="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(b+=" with independent "+e.independent);var y=typeof f=="number",T=e.segment.uri?"segment":"pre-segment",w=y?XP({preloadSegment:n})-1:0;return T+" ["+(o+d)+"/"+(o+g)+"]"+(y?" part ["+f+"/"+w+"]":"")+(" segment start/end ["+n.start+" => "+n.end+"]")+(y?" part start/end ["+s.start+" => "+s.end+"]":"")+(" startOfSegment ["+i+"]")+(" duration ["+r+"]")+(" timeline ["+p+"]")+(" selected by ["+b+"]")+(" playlist ["+l+"]")},aS=function(e){return e+"TimingInfo"},Q5=function(e){var i=e.segmentTimeline,r=e.currentTimeline,n=e.startOfSegment,s=e.buffered,a=e.overrideCheck;return!a&&i===r?null:i<r?n:s.length?s.end(s.length-1):n},oS=function(e){var i=e.timelineChangeController,r=e.currentTimeline,n=e.segmentTimeline,s=e.loaderType,a=e.audioDisabled;if(r===n)return!1;if(s==="audio"){var o=i.lastTimelineChange({type:"main"});return!o||o.to!==n}if(s==="main"&&a){var l=i.pendingTimelineChange({type:"audio"});return!(l&&l.to===n)}return!1},Y5=function(e){var i=0;return["video","audio"].forEach(function(r){var n=e[r+"TimingInfo"];if(!!n){var s=n.start,a=n.end,o;typeof s=="bigint"||typeof a=="bigint"?o=M.BigInt(a)-M.BigInt(s):typeof s=="number"&&typeof a=="number"&&(o=a-s),typeof o<"u"&&o>i&&(i=o)}}),typeof i=="bigint"&&i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),i},lS=function(e){var i=e.segmentDuration,r=e.maxDuration;return i?Math.round(i)>r+Qr:!1},J5=function(e,i){if(i!=="hls")return null;var r=Y5({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!r)return null;var n=e.playlist.targetDuration,s=lS({segmentDuration:r,maxDuration:n*2}),a=lS({segmentDuration:r,maxDuration:n}),o="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+r+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+n+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return s||a?{severity:s?"warn":"info",message:o}:null},qv=function(t){ce(e,t);function e(r,n){var s;if(s=t.call(this)||this,!r)throw new TypeError("Initialization settings are required");if(typeof r.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!r.mediaSource)throw new TypeError("No MediaSource specified");return s.bandwidth=r.bandwidth,s.throughput={rate:0,count:0},s.roundTrip=NaN,s.resetStats_(),s.mediaIndex=null,s.partIndex=null,s.hasPlayed_=r.hasPlayed,s.currentTime_=r.currentTime,s.seekable_=r.seekable,s.seeking_=r.seeking,s.duration_=r.duration,s.mediaSource_=r.mediaSource,s.vhs_=r.vhs,s.loaderType_=r.loaderType,s.currentMediaInfo_=void 0,s.startingMediaInfo_=void 0,s.segmentMetadataTrack_=r.segmentMetadataTrack,s.goalBufferLength_=r.goalBufferLength,s.sourceType_=r.sourceType,s.sourceUpdater_=r.sourceUpdater,s.inbandTextTracks_=r.inbandTextTracks,s.state_="INIT",s.timelineChangeController_=r.timelineChangeController,s.shouldSaveSegmentTimingInfo_=!0,s.parse708captions_=r.parse708captions,s.useDtsForTimestampOffset_=r.useDtsForTimestampOffset,s.captionServices_=r.captionServices,s.experimentalExactManifestTimings=r.experimentalExactManifestTimings,s.checkBufferTimeout_=null,s.error_=void 0,s.currentTimeline_=-1,s.pendingSegment_=null,s.xhrOptions_=null,s.pendingSegments_=[],s.audioDisabled_=!1,s.isPendingTimestampOffset_=!1,s.gopBuffer_=[],s.timeMapping_=0,s.safeAppend_=V.browser.IE_VERSION>=11,s.appendInitSegment_={audio:!0,video:!0},s.playlistOfLastInitSegment_={audio:null,video:null},s.callQueue_=[],s.loadQueue_=[],s.metadataQueue_={id3:[],caption:[]},s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=null,s.activeInitSegmentId_=null,s.initSegments_={},s.cacheEncryptionKeys_=r.cacheEncryptionKeys,s.keyCache_={},s.decrypter_=r.decrypter,s.syncController_=r.syncController,s.syncPoint_={segmentIndex:0,time:0},s.transmuxer_=s.createTransmuxer_(),s.triggerSyncInfoUpdate_=function(){return s.trigger("syncinfoupdate")},s.syncController_.on("syncinfoupdate",s.triggerSyncInfoUpdate_),s.mediaSource_.addEventListener("sourceopen",function(){s.isEndOfStream_()||(s.ended_=!1)}),s.fetchAtBuffer_=!1,s.logger_=Tn("SegmentLoader["+s.loaderType_+"]"),Object.defineProperty(Ae(s),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),s.sourceUpdater_.on("ready",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s.loaderType_==="main"&&s.timelineChangeController_.on("pendingtimelinechange",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s.loaderType_==="audio"&&s.timelineChangeController_.on("timelinechange",function(){s.hasEnoughInfoToLoad_()&&s.processLoadQueue_(),s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s}var i=e.prototype;return i.createTransmuxer_=function(){return Yp.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&M.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(n){this.audioDisabled_=!n,n?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,M.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},i.checkForAbort_=function(n){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==n},i.error=function(n){return typeof n<"u"&&(this.logger_("error occurred:",n),this.error_=n),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Yp.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){var n=this.getMediaInfo_();if(!this.sourceUpdater_||!n)return V.createTimeRanges();if(this.loaderType_==="main"){var s=n.hasAudio,a=n.hasVideo,o=n.isMuxed;if(a&&s&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(a)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(n,s){if(s===void 0&&(s=!1),!n)return null;var a=_f(n),o=this.initSegments_[a];return s&&!o&&n.bytes&&(this.initSegments_[a]=o={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:n.bytes,tracks:n.tracks,timescales:n.timescales}),o||n},i.segmentKey=function(n,s){if(s===void 0&&(s=!1),!n)return null;var a=uO(n),o=this.keyCache_[a];this.cacheEncryptionKeys_&&s&&!o&&n.bytes&&(this.keyCache_[a]=o={resolvedUri:n.resolvedUri,bytes:n.bytes});var l={resolvedUri:(o||n).resolvedUri};return o&&(l.bytes=o.bytes),l},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(n,s){if(s===void 0&&(s={}),!!n){var a=this.playlist_,o=this.pendingSegment_;this.playlist_=n,this.xhrOptions_=s,this.state==="INIT"&&(n.syncInfo={mediaSequence:n.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(n));var l=null;if(a&&(a.id?l=a.id:a.uri&&(l=a.uri)),this.logger_("playlist update ["+l+" => "+(n.id||n.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!a||a.uri!==n.uri){this.mediaIndex!==null&&(n.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var u=n.mediaSequence-a.mediaSequence;if(this.logger_("live window shift ["+u+"]"),this.mediaIndex!==null)if(this.mediaIndex-=u,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var c=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!c.parts||!c.parts.length||!c.parts[this.partIndex])){var d=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=d}}o&&(o.mediaIndex-=u,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=n.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(a,n)}},i.pause=function(){this.checkBufferTimeout_&&(M.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return this.checkBufferTimeout_===null},i.resetEverything=function(n){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,n),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&Yp.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(n,s,a,o){if(a===void 0&&(a=function(){}),o===void 0&&(o=!1),s===1/0&&(s=this.duration_()),s<=n){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var l=1,u=function(){l--,l===0&&a()};(o||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(n,s,u)),(o||this.loaderType_==="main")&&(this.gopBuffer_=W5(this.gopBuffer_,n,s,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(n,s,u));for(var c in this.inbandTextTracks_)yl(n,s,this.inbandTextTracks_[c]);yl(n,s,this.segmentMetadataTrack_),u()},i.monitorBuffer_=function(){this.checkBufferTimeout_&&M.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=M.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&M.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=M.setTimeout(this.monitorBufferTick_.bind(this),G5)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var n=this.chooseNextRequest_();!n||(typeof n.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline})),this.loadSegment_(n))}},i.isEndOfStream_=function(n,s,a){if(n===void 0&&(n=this.mediaIndex),s===void 0&&(s=this.playlist_),a===void 0&&(a=this.partIndex),!s||!this.mediaSource_)return!1;var o=typeof n=="number"&&s.segments[n],l=n+1===s.segments.length,u=!o||!o.parts||a+1===o.parts.length;return s.endList&&this.mediaSource_.readyState==="open"&&l&&u},i.chooseNextRequest_=function(){var n=this.buffered_(),s=Kx(n)||0,a=Ny(n,this.currentTime_()),o=!this.hasPlayed_()&&a>=1,l=a>=this.goalBufferLength_(),u=this.playlist_.segments;if(!u.length||o||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var c={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(c.isSyncRequest)c.mediaIndex=$5(this.currentTimeline_,u,s);else if(this.mediaIndex!==null){var d=u[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;c.startOfSegment=d.end?d.end:s,d.parts&&d.parts[f+1]?(c.mediaIndex=this.mediaIndex,c.partIndex=f+1):c.mediaIndex=this.mediaIndex+1}else{var p=xi.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?s:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),g=p.segmentIndex,b=p.startTime,y=p.partIndex;c.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+s:"currentTime "+this.currentTime_(),c.mediaIndex=g,c.startOfSegment=b,c.partIndex=y}var T=u[c.mediaIndex],w=T&&typeof c.partIndex=="number"&&T.parts&&T.parts[c.partIndex];if(!T||typeof c.partIndex=="number"&&!w)return null;if(typeof c.partIndex!="number"&&T.parts&&(c.partIndex=0,w=T.parts[0]),!a&&w&&!w.independent)if(c.partIndex===0){var O=u[c.mediaIndex-1],P=O.parts&&O.parts.length&&O.parts[O.parts.length-1];P&&P.independent&&(c.mediaIndex-=1,c.partIndex=O.parts.length-1,c.independent="previous segment")}else T.parts[c.partIndex-1].independent&&(c.partIndex-=1,c.independent="previous part");var F=this.mediaSource_&&this.mediaSource_.readyState==="ended";return c.mediaIndex>=u.length-1&&F&&!this.seeking_()?null:this.generateSegmentInfo_(c)},i.generateSegmentInfo_=function(n){var s=n.independent,a=n.playlist,o=n.mediaIndex,l=n.startOfSegment,u=n.isSyncRequest,c=n.partIndex,d=n.forceTimestampOffset,f=n.getMediaInfoForTime,p=a.segments[o],g=typeof c=="number"&&p.parts[c],b={requestId:"segment-loader-"+Math.random(),uri:g&&g.resolvedUri||p.resolvedUri,mediaIndex:o,partIndex:g?c:null,isSyncRequest:u,startOfSegment:l,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:p.timeline,duration:g&&g.duration||p.duration,segment:p,part:g,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:f,independent:s},y=typeof d<"u"?d:this.isPendingTimestampOffset_;b.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:p.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:y});var T=Kx(this.sourceUpdater_.audioBuffered());return typeof T=="number"&&(b.audioAppendStart=T-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(b.gopsToAlignWith=V5(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),b},i.timestampOffsetForSegment_=function(n){return Q5(n)},i.earlyAbortWhenNeeded_=function(n){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(n.firstBytesReceivedAt||Date.now())<1e3)){var s=this.currentTime_(),a=n.bandwidth,o=this.pendingSegment_.duration,l=xi.estimateSegmentRequestTime(o,a,this.playlist_,n.bytesReceived),u=x6(this.buffered_(),s,this.vhs_.tech_.playbackRate())-1;if(!(l<=u)){var c=M5({master:this.vhs_.playlists.master,currentTime:s,bandwidth:a,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:u,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!c){var d=l-u,f=d-c.rebufferingImpact,p=.5;u<=Qr&&(p=1),!(!c.playlist||c.playlist.uri===this.playlist_.uri||f<p)&&(this.bandwidth=c.playlist.attributes.BANDWIDTH*St.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},i.handleAbort_=function(n){this.logger_("Aborting "+sa(n)),this.mediaRequestsAborted+=1},i.handleProgress_=function(n,s){this.earlyAbortWhenNeeded_(s.stats),!this.checkForAbort_(s.requestId)&&this.trigger("progress")},i.handleTrackInfo_=function(n,s){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&(this.checkForIllegalMediaSwitch(s)||(s=s||{},q5(this.currentMediaInfo_,s)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=s,this.currentMediaInfo_=s,this.logger_("trackinfo update",s),this.trigger("trackinfo")),!this.checkForAbort_(n.requestId)&&(this.pendingSegment_.trackInfo=s,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},i.handleTimingInfo_=function(n,s,a,o){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){var l=this.pendingSegment_,u=aS(s);l[u]=l[u]||{},l[u][a]=o,this.logger_("timinginfo: "+s+" - "+a+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(n,s){var a=this;if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(s.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,n,s));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),u={};s.forEach(function(c){u[c.stream]=u[c.stream]||{startTime:1/0,captions:[],endTime:0};var d=u[c.stream];d.startTime=Math.min(d.startTime,c.startTime+l),d.endTime=Math.max(d.endTime,c.endTime+l),d.captions.push(c)}),Object.keys(u).forEach(function(c){var d=u[c],f=d.startTime,p=d.endTime,g=d.captions,b=a.inbandTextTracks_;a.logger_("adding cues from "+f+" -> "+p+" for "+c),F5(b,a.vhs_.tech_,c),yl(f,p,b[c]),N5({captionArray:g,inbandTextTracks:b,timestampOffset:l})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},i.handleId3_=function(n,s,a){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,n,s,a));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();z5(this.inbandTextTracks_,a,this.vhs_.tech_),B5({inbandTextTracks:this.inbandTextTracks_,metadataArray:s,timestampOffset:l,videoDuration:this.duration_()})}},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(n){return n()}),this.metadataQueue_.caption.forEach(function(n){return n()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var n=this.callQueue_;this.callQueue_=[],n.forEach(function(s){return s()})},i.processLoadQueue_=function(){var n=this.loadQueue_;this.loadQueue_=[],n.forEach(function(s){return s()})},i.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var n=this.pendingSegment_;return n?this.getCurrentMediaInfo_()?!oS({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},i.getCurrentMediaInfo_=function(n){return n===void 0&&(n=this.pendingSegment_),n&&n.trackInfo||this.currentMediaInfo_},i.getMediaInfo_=function(n){return n===void 0&&(n=this.pendingSegment_),this.getCurrentMediaInfo_(n)||this.startingMediaInfo_},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var n=this.pendingSegment_,s=this.getCurrentMediaInfo_();if(!n||!s)return!1;var a=s.hasAudio,o=s.hasVideo,l=s.isMuxed;return!(o&&!n.videoTimingInfo||a&&!this.audioDisabled_&&!l&&!n.audioTimingInfo||oS({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.handleData_=function(n,s){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,n,s));return}var a=this.pendingSegment_;if(this.setTimeMapping_(a.timeline),this.updateMediaSecondsLoaded_(a.part||a.segment),this.mediaSource_.readyState!=="closed"){if(n.map&&(n.map=this.initSegmentForMap(n.map,!0),a.segment.map=n.map),n.key&&this.segmentKey(n.key,!0),a.isFmp4=n.isFmp4,a.timingInfo=a.timingInfo||{},a.isFmp4)this.trigger("fmp4"),a.timingInfo.start=a[aS(s.type)].start;else{var o=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&o&&o.hasVideo,u;l&&(u=a.videoTimingInfo.start),a.timingInfo.start=this.trueSegmentStart_({currentStart:a.timingInfo.start,playlist:a.playlist,mediaIndex:a.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:u,videoTimingInfo:a.videoTimingInfo,audioTimingInfo:a.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(a,s.type),this.updateSourceBufferTimestampOffset_(a),a.isSyncRequest){this.updateTimingInfoEnd_(a),this.syncController_.saveSegmentTimingInfo({segmentInfo:a,shouldSaveTimelineMapping:this.loaderType_==="main"});var c=this.chooseNextRequest_();if(c.mediaIndex!==a.mediaIndex||c.partIndex!==a.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}a.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(a,s)}}},i.updateAppendInitSegmentStatus=function(n,s){this.loaderType_==="main"&&typeof n.timestampOffset=="number"&&!n.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[s]!==n.playlist&&(this.appendInitSegment_[s]=!0)},i.getInitSegmentAndUpdateState_=function(n){var s=n.type,a=n.initSegment,o=n.map,l=n.playlist;if(o){var u=_f(o);if(this.activeInitSegmentId_===u)return null;a=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=u}return a&&this.appendInitSegment_[s]?(this.playlistOfLastInitSegment_[s]=l,this.appendInitSegment_[s]=!1,this.activeInitSegmentId_=null,a):null},i.handleQuotaExceededError_=function(n,s){var a=this,o=n.segmentInfo,l=n.type,u=n.bytes,c=this.sourceUpdater_.audioBuffered(),d=this.sourceUpdater_.videoBuffered();c.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+bs(c).join(", ")),d.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+bs(d).join(", "));var f=c.length?c.start(0):0,p=c.length?c.end(c.length-1):0,g=d.length?d.start(0):0,b=d.length?d.end(d.length-1):0;if(p-f<=tl&&b-g<=tl){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+u.byteLength+", ")+("audio buffer: "+bs(c).join(", ")+", ")+("video buffer: "+bs(d).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:l,bytes:u}));var y=this.currentTime_(),T=y-tl;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+T),this.remove(0,T,function(){a.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+tl+"s"),a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=M.setTimeout(function(){a.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),a.quotaExceededErrorRetryTimeout_=null,a.processCallQueue_()},tl*1e3)},!0)},i.handleAppendError_=function(n,s){var a=n.segmentInfo,o=n.type,l=n.bytes;if(!!s){if(s.code===CO){this.handleQuotaExceededError_({segmentInfo:a,type:o,bytes:l});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error(o+" append of "+l.length+"b failed for segment "+("#"+a.mediaIndex+" in playlist "+a.playlist.id)),this.trigger("appenderror")}},i.appendToSourceBuffer_=function(n){var s=n.segmentInfo,a=n.type,o=n.initSegment,l=n.data,u=n.bytes;if(!u){var c=[l],d=l.byteLength;o&&(c.unshift(o),d+=o.byteLength),u=R5({bytes:d,segments:c})}this.sourceUpdater_.appendBuffer({segmentInfo:s,type:a,bytes:u},this.handleAppendError_.bind(this,{segmentInfo:s,type:a,bytes:u}))},i.handleSegmentTimingInfo_=function(n,s,a){if(!(!this.pendingSegment_||s!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,l=n+"TimingInfo";o[l]||(o[l]={}),o[l].transmuxerPrependedSeconds=a.prependedContentDuration||0,o[l].transmuxedPresentationStart=a.start.presentation,o[l].transmuxedDecodeStart=a.start.decode,o[l].transmuxedPresentationEnd=a.end.presentation,o[l].transmuxedDecodeEnd=a.end.decode,o[l].baseMediaDecodeTime=a.baseMediaDecodeTime}},i.appendData_=function(n,s){var a=s.type,o=s.data;if(!(!o||!o.byteLength)&&!(a==="audio"&&this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:a,initSegment:s.initSegment,playlist:n.playlist,map:n.isFmp4?n.segment.map:null});this.appendToSourceBuffer_({segmentInfo:n,type:a,initSegment:l,data:o})}},i.loadSegment_=function(n){var s=this;if(this.state="WAITING",this.pendingSegment_=n,this.trimBackBuffer_(n),typeof n.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var a=nn({},n,{forceTimestampOffset:!0});nn(n,s.generateSegmentInfo_(a)),s.isPendingTimestampOffset_=!1,s.updateTransmuxerAndRequestSegment_(n)});return}this.updateTransmuxerAndRequestSegment_(n)},i.updateTransmuxerAndRequestSegment_=function(n){var s=this;this.shouldUpdateTransmuxerTimestampOffset_(n.timestampOffset)&&(this.gopBuffer_.length=0,n.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:n.timestampOffset}));var a=this.createSimplifiedSegmentObj_(n),o=this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex),l=this.mediaIndex!==null,u=n.timeline!==this.currentTimeline_&&n.timeline>0,c=o||l&&u;this.logger_("Requesting "+sa(n)),a.map&&!a.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),n.abortRequests=k5({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:a,abortFn:this.handleAbort_.bind(this,n),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",n.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",n.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:c,endedTimelineFn:function(){s.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(f){var p=f.message,g=f.level,b=f.stream;s.logger_(sa(n)+" logged from transmuxer stream "+b+" as a "+g+": "+p)}})},i.trimBackBuffer_=function(n){var s=K5(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);s>0&&this.remove(0,s)},i.createSimplifiedSegmentObj_=function(n){var s=n.segment,a=n.part,o={resolvedUri:a?a.resolvedUri:s.resolvedUri,byterange:a?a.byterange:s.byterange,requestId:n.requestId,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,part:n.part},l=n.playlist.segments[n.mediaIndex-1];if(l&&l.timeline===s.timeline&&(l.videoTimingInfo?o.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(o.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),s.key){var u=s.key.iv||new Uint32Array([0,0,0,n.mediaIndex+n.playlist.mediaSequence]);o.key=this.segmentKey(s.key),o.key.iv=u}return s.map&&(o.map=this.initSegmentForMap(s.map)),o},i.saveTransferStats_=function(n){this.mediaRequests+=1,n&&(this.mediaBytesTransferred+=n.bytesReceived,this.mediaTransferDuration+=n.roundTripTime)},i.saveBandwidthRelatedStats_=function(n,s){if(this.pendingSegment_.byteLength=s.bytesReceived,n<Hc){this.logger_("Ignoring segment's bandwidth because its duration of "+n+(" is less than the min to record "+Hc));return}this.bandwidth=s.bandwidth,this.roundTrip=s.roundTripTime},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},i.segmentRequestFinished_=function(n,s,a){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,n,s,a));return}if(this.saveTransferStats_(s.stats),!!this.pendingSegment_&&s.requestId===this.pendingSegment_.requestId){if(n){if(this.pendingSegment_=null,this.state="READY",n.code===Mn.ABORTED)return;if(this.pause(),n.code===Mn.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(n),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,s.stats),o.endOfAllRequests=s.endOfAllRequests,a.gopInfo&&(this.gopBuffer_=H5(this.gopBuffer_,a.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},i.setTimeMapping_=function(n){var s=this.syncController_.mappingForTimeline(n);s!==null&&(this.timeMapping_=s)},i.updateMediaSecondsLoaded_=function(n){typeof n.start=="number"&&typeof n.end=="number"?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(n){return n===null?!1:this.loaderType_==="main"&&n!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&n!==this.sourceUpdater_.audioTimestampOffset()},i.trueSegmentStart_=function(n){var s=n.currentStart,a=n.playlist,o=n.mediaIndex,l=n.firstVideoFrameTimeForData,u=n.currentVideoTimestampOffset,c=n.useVideoTimingInfo,d=n.videoTimingInfo,f=n.audioTimingInfo;if(typeof s<"u")return s;if(!c)return f.start;var p=a.segments[o-1];return o===0||!p||typeof p.start>"u"||p.end!==l+u?l:d.start},i.waitForAppendsToComplete_=function(n){var s=this.getCurrentMediaInfo_(n);if(!s){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var a=s.hasAudio,o=s.hasVideo,l=s.isMuxed,u=this.loaderType_==="main"&&o,c=!this.audioDisabled_&&a&&!l;if(n.waitingOnAppends=0,!n.hasAppendedData_){!n.timingInfo&&typeof n.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),n.timingInfo={start:0},n.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(n),this.processMetadataQueue_()),this.checkAppendsDone_(n);return}u&&n.waitingOnAppends++,c&&n.waitingOnAppends++,u&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,n)),c&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,n))},i.checkAppendsDone_=function(n){this.checkForAbort_(n.requestId)||(n.waitingOnAppends--,n.waitingOnAppends===0&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(n){var s=X5(this.loaderType_,this.getCurrentMediaInfo_(),n);return s?(this.error({message:s,blacklistDuration:1/0}),this.trigger("error"),!0):!1},i.updateSourceBufferTimestampOffset_=function(n){if(!(n.timestampOffset===null||typeof n.timingInfo.start!="number"||n.changedTimestampOffset||this.loaderType_!=="main")){var s=!1;n.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:n.segment.videoTimingInfo,audioTimingInfo:n.segment.audioTimingInfo,timingInfo:n.timingInfo}),n.changedTimestampOffset=!0,n.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(n.timestampOffset),s=!0),n.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(n.timestampOffset),s=!0),s&&this.trigger("timestampoffset")}},i.getSegmentStartTimeForTimestampOffsetCalculation_=function(n){var s=n.videoTimingInfo,a=n.audioTimingInfo,o=n.timingInfo;return this.useDtsForTimestampOffset_?s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:o.start:o.start},i.updateTimingInfoEnd_=function(n){n.timingInfo=n.timingInfo||{};var s=this.getMediaInfo_(),a=this.loaderType_==="main"&&s&&s.hasVideo,o=a&&n.videoTimingInfo?n.videoTimingInfo:n.audioTimingInfo;!o||(n.timingInfo.end=typeof o.end=="number"?o.end:o.start+n.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var n=this.pendingSegment_;this.updateTimingInfoEnd_(n),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});var s=J5(n,this.sourceType_);if(s&&(s.severity==="warn"?V.log.warn(s.message):this.logger_(s.message)),this.recordThroughput_(n),this.pendingSegment_=null,this.state="READY",n.isSyncRequest&&(this.trigger("syncinfoupdate"),!n.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+sa(n));return}this.logger_("Appended "+sa(n)),this.addSegmentMetadataCue_(n),this.fetchAtBuffer_=!0,this.currentTimeline_!==n.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:n.timeline})),this.currentTimeline_=n.timeline,this.trigger("syncinfoupdate");var a=n.segment,o=n.part,l=a.end&&this.currentTime_()-a.end>n.playlist.targetDuration*3,u=o&&o.end&&this.currentTime_()-o.end>n.playlist.partTargetDuration*3;if(l||u){this.logger_("bad "+(l?"segment":"part")+" "+sa(n)),this.resetEverything();return}var c=this.mediaIndex!==null;c&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=n.mediaIndex,this.partIndex=n.partIndex,this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex)&&this.endOfStream(),this.trigger("appended"),n.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},i.recordThroughput_=function(n){if(n.duration<Hc){this.logger_("Ignoring segment's throughput because its duration of "+n.duration+(" is less than the min to record "+Hc));return}var s=this.throughput.rate,a=Date.now()-n.endOfAllRequests+1,o=Math.floor(n.byteLength/a*8*1e3);this.throughput.rate+=(o-s)/++this.throughput.count},i.addSegmentMetadataCue_=function(n){if(!!this.segmentMetadataTrack_){var s=n.segment,a=s.start,o=s.end;if(!(!sS(a)||!sS(o))){yl(a,o,this.segmentMetadataTrack_);var l=M.WebKitDataCue||M.VTTCue,u={custom:s.custom,dateTimeObject:s.dateTimeObject,dateTimeString:s.dateTimeString,bandwidth:n.playlist.attributes.BANDWIDTH,resolution:n.playlist.attributes.RESOLUTION,codecs:n.playlist.attributes.CODECS,byteLength:n.byteLength,uri:n.uri,timeline:n.timeline,playlist:n.playlist.id,start:a,end:o},c=JSON.stringify(u),d=new l(a,o,c);d.value=u,this.segmentMetadataTrack_.addCue(d)}}},e}(V.EventTarget);function Yn(){}var kO=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toUpperCase()})},Z5=["video","audio"],$v=function(e,i){var r=i[e+"Buffer"];return r&&r.updating||i.queuePending[e]},ej=function(e,i){for(var r=0;r<i.length;r++){var n=i[r];if(n.type==="mediaSource")return null;if(n.type===e)return r}return null},Wy=function t(e,i){if(i.queue.length!==0){var r=0,n=i.queue[r];if(n.type==="mediaSource"){!i.updating()&&i.mediaSource.readyState!=="closed"&&(i.queue.shift(),n.action(i),n.doneFn&&n.doneFn(),t("audio",i),t("video",i));return}if(e!=="mediaSource"&&!(!i.ready()||i.mediaSource.readyState==="closed"||$v(e,i))){if(n.type!==e){if(r=ej(e,i.queue),r===null)return;n=i.queue[r]}if(i.queue.splice(r,1),i.queuePending[e]=n,n.action(e,i),!n.doneFn){i.queuePending[e]=null,t(e,i);return}}}},PO=function(e,i){var r=i[e+"Buffer"],n=kO(e);!r||(r.removeEventListener("updateend",i["on"+n+"UpdateEnd_"]),r.removeEventListener("error",i["on"+n+"Error_"]),i.codecs[e]=null,i[e+"Buffer"]=null)},Cn=function(e,i){return e&&i&&Array.prototype.indexOf.call(e.sourceBuffers,i)!==-1},Li={appendBuffer:function(e,i,r){return function(n,s){var a=s[n+"Buffer"];if(!!Cn(s.mediaSource,a)){s.logger_("Appending segment "+i.mediaIndex+"'s "+e.length+" bytes to "+n+"Buffer");try{a.appendBuffer(e)}catch(o){s.logger_("Error with code "+o.code+" "+(o.code===CO?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+i.mediaIndex+" to "+n+"Buffer")),s.queuePending[n]=null,r(o)}}}},remove:function(e,i){return function(r,n){var s=n[r+"Buffer"];if(!!Cn(n.mediaSource,s)){n.logger_("Removing "+e+" to "+i+" from "+r+"Buffer");try{s.remove(e,i)}catch{n.logger_("Remove "+e+" to "+i+" from "+r+"Buffer failed")}}}},timestampOffset:function(e){return function(i,r){var n=r[i+"Buffer"];!Cn(r.mediaSource,n)||(r.logger_("Setting "+i+"timestampOffset to "+e),n.timestampOffset=e)}},callback:function(e){return function(i,r){e()}},endOfStream:function(e){return function(i){if(i.mediaSource.readyState==="open"){i.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{i.mediaSource.endOfStream(e)}catch(r){V.log.warn("Failed to call media source endOfStream",r)}}}},duration:function(e){return function(i){i.logger_("Setting mediaSource duration to "+e);try{i.mediaSource.duration=e}catch(r){V.log.warn("Failed to set media source duration",r)}}},abort:function(){return function(e,i){if(i.mediaSource.readyState==="open"){var r=i[e+"Buffer"];if(!!Cn(i.mediaSource,r)){i.logger_("calling abort on "+e+"Buffer");try{r.abort()}catch(n){V.log.warn("Failed to abort on "+e+"Buffer",n)}}}}},addSourceBuffer:function(e,i){return function(r){var n=kO(e),s=fu(i);r.logger_("Adding "+e+"Buffer with codec "+i+" to mediaSource");var a=r.mediaSource.addSourceBuffer(s);a.addEventListener("updateend",r["on"+n+"UpdateEnd_"]),a.addEventListener("error",r["on"+n+"Error_"]),r.codecs[e]=i,r[e+"Buffer"]=a}},removeSourceBuffer:function(e){return function(i){var r=i[e+"Buffer"];if(PO(e,i),!!Cn(i.mediaSource,r)){i.logger_("Removing "+e+"Buffer with codec "+i.codecs[e]+" from mediaSource");try{i.mediaSource.removeSourceBuffer(r)}catch(n){V.log.warn("Failed to removeSourceBuffer "+e+"Buffer",n)}}}},changeType:function(e){return function(i,r){var n=r[i+"Buffer"],s=fu(e);!Cn(r.mediaSource,n)||r.codecs[i]!==e&&(r.logger_("changing "+i+"Buffer codec from "+r.codecs[i]+" to "+e),n.changeType(s),r.codecs[i]=e)}}},Ri=function(e){var i=e.type,r=e.sourceUpdater,n=e.action,s=e.doneFn,a=e.name;r.queue.push({type:i,action:n,doneFn:s,name:a}),Wy(i,r)},uS=function(e,i){return function(r){if(i.queuePending[e]){var n=i.queuePending[e].doneFn;i.queuePending[e]=null,n&&n(i[e+"Error_"])}Wy(e,i)}},OO=function(t){ce(e,t);function e(r){var n;return n=t.call(this)||this,n.mediaSource=r,n.sourceopenListener_=function(){return Wy("mediaSource",Ae(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=Tn("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=uS("video",Ae(n)),n.onAudioUpdateEnd_=uS("audio",Ae(n)),n.onVideoError_=function(s){n.videoError_=s},n.onAudioError_=function(s){n.audioError_=s},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}var i=e.prototype;return i.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},i.createSourceBuffers=function(n){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(n),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},i.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},i.addSourceBuffer=function(n,s){Ri({type:"mediaSource",sourceUpdater:this,action:Li.addSourceBuffer(n,s),name:"addSourceBuffer"})},i.abort=function(n){Ri({type:n,sourceUpdater:this,action:Li.abort(n),name:"abort"})},i.removeSourceBuffer=function(n){if(!this.canRemoveSourceBuffer()){V.log.error("removeSourceBuffer is not supported!");return}Ri({type:"mediaSource",sourceUpdater:this,action:Li.removeSourceBuffer(n),name:"removeSourceBuffer"})},i.canRemoveSourceBuffer=function(){return!V.browser.IE_VERSION&&!V.browser.IS_FIREFOX&&M.MediaSource&&M.MediaSource.prototype&&typeof M.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return M.SourceBuffer&&M.SourceBuffer.prototype&&typeof M.SourceBuffer.prototype.changeType=="function"},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(n,s){if(!this.canChangeType()){V.log.error("changeType is not supported!");return}Ri({type:n,sourceUpdater:this,action:Li.changeType(s),name:"changeType"})},i.addOrChangeSourceBuffers=function(n){var s=this;if(!n||typeof n!="object"||Object.keys(n).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(n).forEach(function(a){var o=n[a];if(!s.hasCreatedSourceBuffers())return s.addSourceBuffer(a,o);s.canChangeType()&&s.changeType(a,o)})},i.appendBuffer=function(n,s){var a=this,o=n.segmentInfo,l=n.type,u=n.bytes;if(this.processedAppend_=!0,l==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([n,s]),this.logger_("delayed audio append of "+u.length+" until video append");return}var c=s;if(Ri({type:l,sourceUpdater:this,action:Li.appendBuffer(u,o||{mediaIndex:-1},c),doneFn:s,name:"appendBuffer"}),l==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var d=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+d.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,d.forEach(function(f){a.appendBuffer.apply(a,f)})}},i.audioBuffered=function(){return Cn(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:V.createTimeRange()},i.videoBuffered=function(){return Cn(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:V.createTimeRange()},i.buffered=function(){var n=Cn(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,s=Cn(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return s&&!n?this.audioBuffered():n&&!s?this.videoBuffered():T6(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(n,s){s===void 0&&(s=Yn),Ri({type:"mediaSource",sourceUpdater:this,action:Li.duration(n),name:"duration",doneFn:s})},i.endOfStream=function(n,s){n===void 0&&(n=null),s===void 0&&(s=Yn),typeof n!="string"&&(n=void 0),Ri({type:"mediaSource",sourceUpdater:this,action:Li.endOfStream(n),name:"endOfStream",doneFn:s})},i.removeAudio=function(n,s,a){if(a===void 0&&(a=Yn),!this.audioBuffered().length||this.audioBuffered().end(0)===0){a();return}Ri({type:"audio",sourceUpdater:this,action:Li.remove(n,s),doneFn:a,name:"remove"})},i.removeVideo=function(n,s,a){if(a===void 0&&(a=Yn),!this.videoBuffered().length||this.videoBuffered().end(0)===0){a();return}Ri({type:"video",sourceUpdater:this,action:Li.remove(n,s),doneFn:a,name:"remove"})},i.updating=function(){return!!($v("audio",this)||$v("video",this))},i.audioTimestampOffset=function(n){return typeof n<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==n&&(Ri({type:"audio",sourceUpdater:this,action:Li.timestampOffset(n),name:"timestampOffset"}),this.audioTimestampOffset_=n),this.audioTimestampOffset_},i.videoTimestampOffset=function(n){return typeof n<"u"&&this.videoBuffer&&this.videoTimestampOffset!==n&&(Ri({type:"video",sourceUpdater:this,action:Li.timestampOffset(n),name:"timestampOffset"}),this.videoTimestampOffset_=n),this.videoTimestampOffset_},i.audioQueueCallback=function(n){!this.audioBuffer||Ri({type:"audio",sourceUpdater:this,action:Li.callback(n),name:"callback"})},i.videoQueueCallback=function(n){!this.videoBuffer||Ri({type:"video",sourceUpdater:this,action:Li.callback(n),name:"callback"})},i.dispose=function(){var n=this;this.trigger("dispose"),Z5.forEach(function(s){n.abort(s),n.canRemoveSourceBuffer()?n.removeSourceBuffer(s):n[s+"QueueCallback"](function(){return PO(s,n)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(V.EventTarget),cS=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},dS=new Uint8Array(`

`.split("").map(function(t){return t.charCodeAt(0)})),tj=function(t){ce(e,t);function e(r,n){var s;return n===void 0&&(n={}),s=t.call(this,r,n)||this,s.mediaSource_=null,s.subtitlesTrack_=null,s.loaderType_="subtitle",s.featuresNativeTextTracks_=r.featuresNativeTextTracks,s.shouldSaveSegmentTimingInfo_=!1,s}var i=e.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return V.createTimeRanges();var n=this.subtitlesTrack_.cues,s=n[0].startTime,a=n[n.length-1].startTime;return V.createTimeRanges([[s,a]])},i.initSegmentForMap=function(n,s){if(s===void 0&&(s=!1),!n)return null;var a=_f(n),o=this.initSegments_[a];if(s&&!o&&n.bytes){var l=dS.byteLength+n.bytes.byteLength,u=new Uint8Array(l);u.set(n.bytes),u.set(dS,n.bytes.byteLength),this.initSegments_[a]=o={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:u}}return o||n},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(n){return typeof n>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=n,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},i.remove=function(n,s){yl(n,s,this.subtitlesTrack_)},i.fillBuffer_=function(){var n=this,s=this.chooseNextRequest_();if(!!s){if(this.syncController_.timestampOffsetForTimeline(s.timeline)===null){var a=function(){n.state="READY",n.paused()||n.monitorBuffer_()};this.syncController_.one("timestampoffset",a),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(s)}},i.timestampOffsetForSegment_=function(){return null},i.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},i.skipEmptySegments_=function(n){for(;n&&n.segment.empty;){if(n.mediaIndex+1>=n.playlist.segments.length){n=null;break}n=this.generateSegmentInfo_({playlist:n.playlist,mediaIndex:n.mediaIndex+1,startOfSegment:n.startOfSegment+n.duration,isSyncRequest:n.isSyncRequest})}return n},i.stopForError=function(n){this.error(n),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(n,s,a){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(s.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(n){n.code===Mn.TIMEOUT&&this.handleTimeout_(),n.code===Mn.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(n);return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,s.stats),this.state="APPENDING",this.trigger("appending");var u=l.segment;if(u.map&&(u.map.bytes=s.map.bytes),l.bytes=s.bytes,typeof M.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var c,d=function(){o.subtitlesTrack_.tech_.off("vttjsloaded",c),o.stopForError({message:"Error loading vtt.js"})};c=function(){o.subtitlesTrack_.tech_.off("vttjserror",d),o.segmentRequestFinished_(n,s,a)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",c),this.subtitlesTrack_.tech_.one("vttjserror",d);return}u.requested=!0;try{this.parseVTTCues_(l)}catch(f){this.stopForError({message:f.message});return}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=u.duration,l.cues.forEach(function(f){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new M.VTTCue(f.startTime,f.endTime,f.text):f)}),j5(this.subtitlesTrack_),this.handleAppendsDone_()},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(n){var s,a=!1;typeof M.TextDecoder=="function"?s=new M.TextDecoder("utf8"):(s=M.WebVTT.StringDecoder(),a=!0);var o=new M.WebVTT.Parser(M,M.vttjs,s);if(n.cues=[],n.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=n.cues.push.bind(n.cues),o.ontimestampmap=function(c){n.timestampmap=c},o.onparsingerror=function(c){V.log.warn("Error encountered when parsing cues: "+c.message)},n.segment.map){var l=n.segment.map.bytes;a&&(l=cS(l)),o.parse(l)}var u=n.bytes;a&&(u=cS(u)),o.parse(u),o.flush()},i.updateTimeMapping_=function(n,s,a){var o=n.segment;if(!!s){if(!n.cues.length){o.empty=!0;return}var l=n.timestampmap,u=l.MPEGTS/of.ONE_SECOND_IN_TS-l.LOCAL+s.mapping;if(n.cues.forEach(function(f){f.startTime+=u,f.endTime+=u}),!a.syncInfo){var c=n.cues[0].startTime,d=n.cues[n.cues.length-1].startTime;a.syncInfo={mediaSequence:a.mediaSequence+n.mediaIndex,time:Math.min(c,d-o.duration)}}}},e}(qv),ij=function(e,i){for(var r=e.cues,n=0;n<r.length;n++){var s=r[n];if(i>=s.adStartTime&&i<=s.adEndTime)return s}return null},nj=function(e,i,r){if(r===void 0&&(r=0),!!e.segments)for(var n=r,s,a=0;a<e.segments.length;a++){var o=e.segments[a];if(s||(s=ij(i,n+o.duration/2)),s){if("cueIn"in o){s.endTime=n,s.adEndTime=n,n+=o.duration,s=null;continue}if(n<s.endTime){n+=o.duration;continue}s.endTime+=o.duration}else if("cueOut"in o&&(s=new M.VTTCue(n,n+o.duration,o.cueOut),s.adStartTime=n,s.adEndTime=n+parseFloat(o.cueOut),i.addCue(s)),"cueOutCont"in o){var l=o.cueOutCont.split("/").map(parseFloat),u=l[0],c=l[1];s=new M.VTTCue(n,n+o.duration,""),s.adStartTime=n-u,s.adEndTime=s.adStartTime+c,i.addCue(s)}n+=o.duration}},rj=86400,fS=[{name:"VOD",run:function(e,i,r,n,s){if(r!==1/0){var a={time:0,segmentIndex:0,partIndex:null};return a}return null}},{name:"ProgramDateTime",run:function(e,i,r,n,s){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,o=null,l=Nv(i);s=s||0;for(var u=0;u<l.length;u++){var c=i.endList||s===0?u:l.length-(u+1),d=l[c],f=d.segment,p=e.timelineToDatetimeMappings[f.timeline];if(!(!p||!f.dateTimeObject)){var g=f.dateTimeObject.getTime()/1e3,b=g+p;if(f.parts&&typeof d.partIndex=="number")for(var y=0;y<d.partIndex;y++)b+=f.parts[y].duration;var T=Math.abs(s-b);if(o!==null&&(T===0||o<T))break;o=T,a={time:b,segmentIndex:d.segmentIndex,partIndex:d.partIndex}}}return a}},{name:"Segment",run:function(e,i,r,n,s){var a=null,o=null;s=s||0;for(var l=Nv(i),u=0;u<l.length;u++){var c=i.endList||s===0?u:l.length-(u+1),d=l[c],f=d.segment,p=d.part&&d.part.start||f&&f.start;if(f.timeline===n&&typeof p<"u"){var g=Math.abs(s-p);if(o!==null&&o<g)break;(!a||o===null||o>=g)&&(o=g,a={time:p,segmentIndex:d.segmentIndex,partIndex:d.partIndex})}}return a}},{name:"Discontinuity",run:function(e,i,r,n,s){var a=null;if(s=s||0,i.discontinuityStarts&&i.discontinuityStarts.length)for(var o=null,l=0;l<i.discontinuityStarts.length;l++){var u=i.discontinuityStarts[l],c=i.discontinuitySequence+l+1,d=e.discontinuities[c];if(d){var f=Math.abs(s-d.time);if(o!==null&&o<f)break;(!a||o===null||o>=f)&&(o=f,a={time:d.time,segmentIndex:u,partIndex:null})}}return a}},{name:"Playlist",run:function(e,i,r,n,s){if(i.syncInfo){var a={time:i.syncInfo.time,segmentIndex:i.syncInfo.mediaSequence-i.mediaSequence,partIndex:null};return a}return null}}],sj=function(t){ce(e,t);function e(r){var n;return n=t.call(this)||this,n.timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=Tn("SyncController"),n}var i=e.prototype;return i.getSyncPoint=function(n,s,a,o){var l=this.runStrategies_(n,s,a,o);return l.length?this.selectSyncPoint_(l,{key:"time",value:o}):null},i.getExpiredTime=function(n,s){if(!n||!n.segments)return null;var a=this.runStrategies_(n,s,n.discontinuitySequence,0);if(!a.length)return null;var o=this.selectSyncPoint_(a,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+Bl({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:o.segmentIndex,endIndex:0}))},i.runStrategies_=function(n,s,a,o){for(var l=[],u=0;u<fS.length;u++){var c=fS[u],d=c.run(this,n,s,a,o);d&&(d.strategy=c.name,l.push({strategy:c.name,syncPoint:d}))}return l},i.selectSyncPoint_=function(n,s){for(var a=n[0].syncPoint,o=Math.abs(n[0].syncPoint[s.key]-s.value),l=n[0].strategy,u=1;u<n.length;u++){var c=Math.abs(n[u].syncPoint[s.key]-s.value);c<o&&(o=c,a=n[u].syncPoint,l=n[u].strategy)}return this.logger_("syncPoint for ["+s.key+": "+s.value+"] chosen with strategy"+(" ["+l+"]: [time:"+a.time+",")+(" segmentIndex:"+a.segmentIndex)+(typeof a.partIndex=="number"?",partIndex:"+a.partIndex:"")+"]"),a},i.saveExpiredSegmentInfo=function(n,s){var a=s.mediaSequence-n.mediaSequence;if(a>rj){V.log.warn("Not saving expired segment info. Media sequence gap "+a+" is too large.");return}for(var o=a-1;o>=0;o--){var l=n.segments[o];if(l&&typeof l.start<"u"){s.syncInfo={mediaSequence:n.mediaSequence+o,time:l.start},this.logger_("playlist refresh sync: [time:"+s.syncInfo.time+","+(" mediaSequence: "+s.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},i.setDateTimeMappingForStart=function(n){if(this.timelineToDatetimeMappings={},n.segments&&n.segments.length&&n.segments[0].dateTimeObject){var s=n.segments[0],a=s.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[s.timeline]=-a}},i.saveSegmentTimingInfo=function(n){var s=n.segmentInfo,a=n.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(s,s.timingInfo,a),l=s.segment;o&&(this.saveDiscontinuitySyncInfo_(s),s.playlist.syncInfo||(s.playlist.syncInfo={mediaSequence:s.playlist.mediaSequence+s.mediaIndex,time:l.start}));var u=l.dateTimeObject;l.discontinuity&&a&&u&&(this.timelineToDatetimeMappings[l.timeline]=-(u.getTime()/1e3))},i.timestampOffsetForTimeline=function(n){return typeof this.timelines[n]>"u"?null:this.timelines[n].time},i.mappingForTimeline=function(n){return typeof this.timelines[n]>"u"?null:this.timelines[n].mapping},i.calculateSegmentTimeMapping_=function(n,s,a){var o=n.segment,l=n.part,u=this.timelines[n.timeline],c,d;if(typeof n.timestampOffset=="number")u={time:n.startOfSegment,mapping:n.startOfSegment-s.start},a&&(this.timelines[n.timeline]=u,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+n.timeline+": "+("[time: "+u.time+"] [mapping: "+u.mapping+"]"))),c=n.startOfSegment,d=s.end+u.mapping;else if(u)c=s.start+u.mapping,d=s.end+u.mapping;else return!1;return l&&(l.start=c,l.end=d),(!o.start||c<o.start)&&(o.start=c),o.end=d,!0},i.saveDiscontinuitySyncInfo_=function(n){var s=n.playlist,a=n.segment;if(a.discontinuity)this.discontinuities[a.timeline]={time:a.start,accuracy:0};else if(s.discontinuityStarts&&s.discontinuityStarts.length)for(var o=0;o<s.discontinuityStarts.length;o++){var l=s.discontinuityStarts[o],u=s.discontinuitySequence+o+1,c=l-n.mediaIndex,d=Math.abs(c);if(!this.discontinuities[u]||this.discontinuities[u].accuracy>d){var f=void 0;c<0?f=a.start-Bl({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:n.mediaIndex,endIndex:l}):f=a.end+Bl({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:n.mediaIndex+1,endIndex:l}),this.discontinuities[u]={time:f,accuracy:d}}}},i.dispose=function(){this.trigger("dispose"),this.off()},e}(V.EventTarget),aj=function(t){ce(e,t);function e(){var r;return r=t.call(this)||this,r.pendingTimelineChanges_={},r.lastTimelineChanges_={},r}var i=e.prototype;return i.clearPendingTimelineChange=function(n){this.pendingTimelineChanges_[n]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(n){var s=n.type,a=n.from,o=n.to;return typeof a=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[s]={type:s,from:a,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[s]},i.lastTimelineChange=function(n){var s=n.type,a=n.from,o=n.to;return typeof a=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[s]={type:s,from:a,to:o},delete this.pendingTimelineChanges_[s],this.trigger("timelinechange")),this.lastTimelineChanges_[s]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(V.EventTarget),oj=mO(vO(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(P,F,L){return L={path:F,exports:{},require:function(E,k){return i(E,k??L.path)}},P(L,L.exports),L.exports}function i(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var r=e(function(P){function F(R,E){for(var k=0;k<E.length;k++){var A=E[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(R,A.key,A)}}function L(R,E,k){return E&&F(R.prototype,E),k&&F(R,k),R}P.exports=L,P.exports.default=P.exports,P.exports.__esModule=!0}),n=e(function(P){function F(L,R){return P.exports=F=Object.setPrototypeOf||function(k,A){return k.__proto__=A,k},P.exports.default=P.exports,P.exports.__esModule=!0,F(L,R)}P.exports=F,P.exports.default=P.exports,P.exports.__esModule=!0}),s=e(function(P){function F(L,R){L.prototype=Object.create(R.prototype),L.prototype.constructor=L,n(L,R)}P.exports=F,P.exports.default=P.exports,P.exports.__esModule=!0}),a=function(){function P(){this.listeners={}}var F=P.prototype;return F.on=function(R,E){this.listeners[R]||(this.listeners[R]=[]),this.listeners[R].push(E)},F.off=function(R,E){if(!this.listeners[R])return!1;var k=this.listeners[R].indexOf(E);return this.listeners[R]=this.listeners[R].slice(0),this.listeners[R].splice(k,1),k>-1},F.trigger=function(R){var E=this.listeners[R];if(!!E)if(arguments.length===2)for(var k=E.length,A=0;A<k;++A)E[A].call(this,arguments[1]);else for(var U=Array.prototype.slice.call(arguments,1),z=E.length,H=0;H<z;++H)E[H].apply(this,U)},F.dispose=function(){this.listeners={}},F.pipe=function(R){this.on("data",function(E){R.push(E)})},P}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function o(P){return P.subarray(0,P.byteLength-P[P.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var l=function(){var F=[[[],[],[],[],[]],[[],[],[],[],[]]],L=F[0],R=F[1],E=L[4],k=R[4],A,U,z,H=[],G=[],Q,ee,q,Y,te,pe;for(A=0;A<256;A++)G[(H[A]=A<<1^(A>>7)*283)^A]=A;for(U=z=0;!E[U];U^=Q||1,z=G[z]||1)for(Y=z^z<<1^z<<2^z<<3^z<<4,Y=Y>>8^Y&255^99,E[U]=Y,k[Y]=U,q=H[ee=H[Q=H[U]]],pe=q*16843009^ee*65537^Q*257^U*16843008,te=H[Y]*257^Y*16843008,A=0;A<4;A++)L[A][U]=te=te<<24^te>>>8,R[A][Y]=pe=pe<<24^pe>>>8;for(A=0;A<5;A++)L[A]=L[A].slice(0),R[A]=R[A].slice(0);return F},u=null,c=function(){function P(L){u||(u=l()),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var R,E,k,A=this._tables[0][4],U=this._tables[1],z=L.length,H=1;if(z!==4&&z!==6&&z!==8)throw new Error("Invalid aes key size");var G=L.slice(0),Q=[];for(this._key=[G,Q],R=z;R<4*z+28;R++)k=G[R-1],(R%z===0||z===8&&R%z===4)&&(k=A[k>>>24]<<24^A[k>>16&255]<<16^A[k>>8&255]<<8^A[k&255],R%z===0&&(k=k<<8^k>>>24^H<<24,H=H<<1^(H>>7)*283)),G[R]=G[R-z]^k;for(E=0;R;E++,R--)k=G[E&3?R:R-4],R<=4||E<4?Q[E]=k:Q[E]=U[0][A[k>>>24]]^U[1][A[k>>16&255]]^U[2][A[k>>8&255]]^U[3][A[k&255]]}var F=P.prototype;return F.decrypt=function(R,E,k,A,U,z){var H=this._key[1],G=R^H[0],Q=A^H[1],ee=k^H[2],q=E^H[3],Y,te,pe,J=H.length/4-2,$,de=4,X=this._tables[1],W=X[0],ae=X[1],fe=X[2],le=X[3],re=X[4];for($=0;$<J;$++)Y=W[G>>>24]^ae[Q>>16&255]^fe[ee>>8&255]^le[q&255]^H[de],te=W[Q>>>24]^ae[ee>>16&255]^fe[q>>8&255]^le[G&255]^H[de+1],pe=W[ee>>>24]^ae[q>>16&255]^fe[G>>8&255]^le[Q&255]^H[de+2],q=W[q>>>24]^ae[G>>16&255]^fe[Q>>8&255]^le[ee&255]^H[de+3],de+=4,G=Y,Q=te,ee=pe;for($=0;$<4;$++)U[(3&-$)+z]=re[G>>>24]<<24^re[Q>>16&255]<<16^re[ee>>8&255]<<8^re[q&255]^H[de++],Y=G,G=Q,Q=ee,ee=q,q=Y},P}(),d=function(P){s(F,P);function F(){var R;return R=P.call(this,a)||this,R.jobs=[],R.delay=1,R.timeout_=null,R}var L=F.prototype;return L.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},L.push=function(E){this.jobs.push(E),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},F}(a),f=function(F){return F<<24|(F&65280)<<8|(F&16711680)>>8|F>>>24},p=function(F,L,R){var E=new Int32Array(F.buffer,F.byteOffset,F.byteLength>>2),k=new c(Array.prototype.slice.call(L)),A=new Uint8Array(F.byteLength),U=new Int32Array(A.buffer),z,H,G,Q,ee,q,Y,te,pe;for(z=R[0],H=R[1],G=R[2],Q=R[3],pe=0;pe<E.length;pe+=4)ee=f(E[pe]),q=f(E[pe+1]),Y=f(E[pe+2]),te=f(E[pe+3]),k.decrypt(ee,q,Y,te,U,pe),U[pe]=f(U[pe]^z),U[pe+1]=f(U[pe+1]^H),U[pe+2]=f(U[pe+2]^G),U[pe+3]=f(U[pe+3]^Q),z=ee,H=q,G=Y,Q=te;return A},g=function(){function P(L,R,E,k){var A=P.STEP,U=new Int32Array(L.buffer),z=new Uint8Array(L.byteLength),H=0;for(this.asyncStream_=new d,this.asyncStream_.push(this.decryptChunk_(U.subarray(H,H+A),R,E,z)),H=A;H<U.length;H+=A)E=new Uint32Array([f(U[H-4]),f(U[H-3]),f(U[H-2]),f(U[H-1])]),this.asyncStream_.push(this.decryptChunk_(U.subarray(H,H+A),R,E,z));this.asyncStream_.push(function(){k(null,o(z))})}var F=P.prototype;return F.decryptChunk_=function(R,E,k,A){return function(){var U=p(R,E,k);A.set(U,R.byteOffset)}},r(P,null,[{key:"STEP",get:function(){return 32e3}}]),P}(),b;typeof window<"u"?b=window:typeof t<"u"?b=t:typeof self<"u"?b=self:b={};var y=b,T=function(F){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(F):F&&F.buffer instanceof ArrayBuffer},w=y.BigInt||Number;w("0x1"),w("0x100"),w("0x10000"),w("0x1000000"),w("0x100000000"),w("0x10000000000"),w("0x1000000000000"),w("0x100000000000000"),w("0x10000000000000000");var O=function(F){var L={};return Object.keys(F).forEach(function(R){var E=F[R];T(E)?L[R]={bytes:E.buffer,byteOffset:E.byteOffset,byteLength:E.byteLength}:L[R]=E}),L};self.onmessage=function(P){var F=P.data,L=new Uint8Array(F.encrypted.bytes,F.encrypted.byteOffset,F.encrypted.byteLength),R=new Uint32Array(F.key.bytes,F.key.byteOffset,F.key.byteLength/4),E=new Uint32Array(F.iv.bytes,F.iv.byteOffset,F.iv.byteLength/4);new g(L,R,E,function(k,A){self.postMessage(O({source:F.source,decrypted:A}),[A.buffer])})}})),lj=pO(oj),uj=function(e){var i=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(i="main-desc"),i},Sf=function(e,i){e.abort(),e.pause(),i&&i.activePlaylistLoader&&(i.activePlaylistLoader.pause(),i.activePlaylistLoader=null)},Gv=function(e,i){i.activePlaylistLoader=e,e.load()},cj=function(e,i){return function(){var r=i.segmentLoaders,n=r[e],s=r.main,a=i.mediaTypes[e],o=a.activeTrack(),l=a.getActiveGroup(),u=a.activePlaylistLoader,c=a.lastGroup_;if(!(l&&c&&l.id===c.id)&&(a.lastGroup_=l,a.lastTrack_=o,Sf(n,a),!(!l||l.isMasterPlaylist))){if(!l.playlistLoader){u&&s.resetEverything();return}n.resyncLoader(),Gv(l.playlistLoader,a)}}},dj=function(e,i){return function(){var r=i.segmentLoaders[e],n=i.mediaTypes[e];n.lastGroup_=null,r.abort(),r.pause()}},fj=function(e,i){return function(){var r=i.masterPlaylistLoader,n=i.segmentLoaders,s=n[e],a=n.main,o=i.mediaTypes[e],l=o.activeTrack(),u=o.getActiveGroup(),c=o.activePlaylistLoader,d=o.lastTrack_;if(!(d&&l&&d.id===l.id)&&(o.lastGroup_=u,o.lastTrack_=l,Sf(s,o),!!u)){if(u.isMasterPlaylist){if(!l||!d||l.id===d.id)return;var f=i.vhs.masterPlaylistController_,p=f.selectPlaylist();if(f.media()===p)return;o.logger_("track change. Switching master audio from "+d.id+" to "+l.id),r.pause(),a.resetEverything(),f.fastQualityChange_(p);return}if(e==="AUDIO"){if(!u.playlistLoader){a.setAudio(!0),a.resetEverything();return}s.setAudio(!0),a.setAudio(!1)}if(c===u.playlistLoader){Gv(u.playlistLoader,o);return}s.track&&s.track(l),s.resetEverything(),Gv(u.playlistLoader,o)}}},wf={AUDIO:function(e,i){return function(){var r=i.segmentLoaders[e],n=i.mediaTypes[e],s=i.blacklistCurrentPlaylist;Sf(r,n);var a=n.activeTrack(),o=n.activeGroup(),l=(o.filter(function(d){return d.default})[0]||o[0]).id,u=n.tracks[l];if(a===u){s({message:"Problem encountered loading the default audio track."});return}V.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var c in n.tracks)n.tracks[c].enabled=n.tracks[c]===u;n.onTrackChanged()}},SUBTITLES:function(e,i){return function(){var r=i.segmentLoaders[e],n=i.mediaTypes[e];V.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Sf(r,n);var s=n.activeTrack();s&&(s.mode="disabled"),n.onTrackChanged()}}},hS={AUDIO:function(e,i,r){if(!!i){var n=r.tech,s=r.requestOptions,a=r.segmentLoaders[e];i.on("loadedmetadata",function(){var o=i.media();a.playlist(o,s),(!n.paused()||o.endList&&n.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),s),n.paused()||a.load()}),i.on("error",wf[e](e,r))}},SUBTITLES:function(e,i,r){var n=r.tech,s=r.requestOptions,a=r.segmentLoaders[e],o=r.mediaTypes[e];i.on("loadedmetadata",function(){var l=i.media();a.playlist(l,s),a.track(o.activeTrack()),(!n.paused()||l.endList&&n.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),s),n.paused()||a.load()}),i.on("error",wf[e](e,r))}},hj={AUDIO:function(e,i){var r=i.vhs,n=i.sourceType,s=i.segmentLoaders[e],a=i.requestOptions,o=i.master.mediaGroups,l=i.mediaTypes[e],u=l.groups,c=l.tracks,d=l.logger_,f=i.masterPlaylistLoader,p=Gu(f.master);(!o[e]||Object.keys(o[e]).length===0)&&(o[e]={main:{default:{default:!0}}},p&&(o[e].main.default.playlists=f.master.playlists));for(var g in o[e]){u[g]||(u[g]=[]);for(var b in o[e][g]){var y=o[e][g][b],T=void 0;if(p?(d("AUDIO group '"+g+"' label '"+b+"' is a master playlist"),y.isMasterPlaylist=!0,T=null):n==="vhs-json"&&y.playlists?T=new ba(y.playlists[0],r,a):y.resolvedUri?T=new ba(y.resolvedUri,r,a):y.playlists&&n==="dash"?T=new Hv(y.playlists[0],r,a,f):T=null,y=V.mergeOptions({id:b,playlistLoader:T},y),hS[e](e,y.playlistLoader,i),u[g].push(y),typeof c[b]>"u"){var w=new V.AudioTrack({id:b,kind:uj(y),enabled:!1,language:y.language,default:y.default,label:b});c[b]=w}}}s.on("error",wf[e](e,i))},SUBTITLES:function(e,i){var r=i.tech,n=i.vhs,s=i.sourceType,a=i.segmentLoaders[e],o=i.requestOptions,l=i.master.mediaGroups,u=i.mediaTypes[e],c=u.groups,d=u.tracks,f=i.masterPlaylistLoader;for(var p in l[e]){c[p]||(c[p]=[]);for(var g in l[e][p])if(!l[e][p][g].forced){var b=l[e][p][g],y=void 0;if(s==="hls")y=new ba(b.resolvedUri,n,o);else if(s==="dash"){var T=b.playlists.filter(function(O){return O.excludeUntil!==1/0});if(!T.length)return;y=new Hv(b.playlists[0],n,o,f)}else s==="vhs-json"&&(y=new ba(b.playlists?b.playlists[0]:b.resolvedUri,n,o));if(b=V.mergeOptions({id:g,playlistLoader:y},b),hS[e](e,b.playlistLoader,i),c[p].push(b),typeof d[g]>"u"){var w=r.addRemoteTextTrack({id:g,kind:"subtitles",default:b.default&&b.autoselect,language:b.language,label:g},!1).track;d[g]=w}}}a.on("error",wf[e](e,i))},"CLOSED-CAPTIONS":function(e,i){var r=i.tech,n=i.master.mediaGroups,s=i.mediaTypes[e],a=s.groups,o=s.tracks;for(var l in n[e]){a[l]||(a[l]=[]);for(var u in n[e][l]){var c=n[e][l][u];if(!!/^(?:CC|SERVICE)/.test(c.instreamId)){var d=r.options_.vhs&&r.options_.vhs.captionServices||{},f={label:u,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(d[f.instreamId]&&(f=V.mergeOptions(f,d[f.instreamId])),f.default===void 0&&delete f.default,a[l].push(V.mergeOptions({id:u},c)),typeof o[u]>"u"){var p=r.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;o[u]=p}}}}}},pj=function t(e,i){for(var r=0;r<e.length;r++)if(zy(i,e[r])||e[r].playlists&&t(e[r].playlists,i))return!0;return!1},mj=function(e,i){return function(r){var n=i.masterPlaylistLoader,s=i.mediaTypes[e].groups,a=n.media();if(!a)return null;var o=null;a.attributes[e]&&(o=s[a.attributes[e]]);var l=Object.keys(s);if(!o)if(e==="AUDIO"&&l.length>1&&Gu(i.master))for(var u=0;u<l.length;u++){var c=s[l[u]];if(pj(c,a)){o=c;break}}else s.main?o=s.main:l.length===1&&(o=s[l[0]]);return typeof r>"u"?o:r===null||!o?null:o.filter(function(d){return d.id===r.id})[0]||null}},vj={AUDIO:function(e,i){return function(){var r=i.mediaTypes[e].tracks;for(var n in r)if(r[n].enabled)return r[n];return null}},SUBTITLES:function(e,i){return function(){var r=i.mediaTypes[e].tracks;for(var n in r)if(r[n].mode==="showing"||r[n].mode==="hidden")return r[n];return null}}},gj=function(e,i){var r=i.mediaTypes;return function(){var n=r[e].activeTrack();return n?r[e].activeGroup(n):null}},yj=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(g){hj[g](g,e)});var i=e.mediaTypes,r=e.masterPlaylistLoader,n=e.tech,s=e.vhs,a=e.segmentLoaders,o=a.AUDIO,l=a.main;["AUDIO","SUBTITLES"].forEach(function(g){i[g].activeGroup=mj(g,e),i[g].activeTrack=vj[g](g,e),i[g].onGroupChanged=cj(g,e),i[g].onGroupChanging=dj(g,e),i[g].onTrackChanged=fj(g,e),i[g].getActiveGroup=gj(g,e)});var u=i.AUDIO.activeGroup();if(u){var c=(u.filter(function(g){return g.default})[0]||u[0]).id;i.AUDIO.tracks[c].enabled=!0,i.AUDIO.onGroupChanged(),i.AUDIO.onTrackChanged();var d=i.AUDIO.getActiveGroup();d.playlistLoader?(l.setAudio(!1),o.setAudio(!0)):l.setAudio(!0)}r.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(g){return i[g].onGroupChanged()})}),r.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(g){return i[g].onGroupChanging()})});var f=function(){i.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"}),n.trigger({type:"usage",name:"hls-audio-change"})};n.audioTracks().addEventListener("change",f),n.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),s.on("dispose",function(){n.audioTracks().removeEventListener("change",f),n.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(var p in i.AUDIO.tracks)n.audioTracks().addTrack(i.AUDIO.tracks[p])},_j=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(i){e[i]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Yn,activeTrack:Yn,getActiveGroup:Yn,onGroupChanged:Yn,onTrackChanged:Yn,lastTrack_:null,logger_:Tn("MediaGroups["+i+"]")}}),e},bj=60*2,qn,Tj=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],xj=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Sj=function(e){var i=e.currentPlaylist,r=e.buffered,n=e.currentTime,s=e.nextPlaylist,a=e.bufferLowWaterLine,o=e.bufferHighWaterLine,l=e.duration,u=e.experimentalBufferBasedABR,c=e.log;if(!s)return V.log.warn("We received no playlist to switch to. Please check your stream."),!1;var d="allowing switch "+(i&&i.id||"null")+" -> "+s.id;if(!i)return c(d+" as current playlist is not set"),!0;if(s.id===i.id)return!1;var f=Boolean(_a(r,n).length);if(!i.endList)return!f&&typeof i.partTargetDuration=="number"?(c("not "+d+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(c(d+" as current playlist is live"),!0);var p=Ny(r,n),g=u?St.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:St.MAX_BUFFER_LOW_WATER_LINE;if(l<g)return c(d+" as duration < max low water line ("+l+" < "+g+")"),!0;var b=s.attributes.BANDWIDTH,y=i.attributes.BANDWIDTH;if(b<y&&(!u||p<o)){var T=d+" as next bandwidth < current bandwidth ("+b+" < "+y+")";return u&&(T+=" and forwardBuffer < bufferHighWaterLine ("+p+" < "+o+")"),c(T),!0}if((!u||b>y)&&p>=a){var w=d+" as forwardBuffer >= bufferLowWaterLine ("+p+" >= "+a+")";return u&&(w+=" and next bandwidth > current bandwidth ("+b+" > "+y+")"),c(w),!0}return c("not "+d+" as no switching criteria met"),!1},wj=function(t){ce(e,t);function e(r){var n;n=t.call(this)||this;var s=r.src,a=r.handleManifestRedirects,o=r.withCredentials,l=r.tech,u=r.bandwidth,c=r.externVhs,d=r.useCueTags,f=r.blacklistDuration,p=r.enableLowInitialPlaylist,g=r.sourceType,b=r.cacheEncryptionKeys,y=r.experimentalBufferBasedABR,T=r.experimentalLeastPixelDiffSelector,w=r.captionServices;if(!s)throw new Error("A non-empty playlist URL or JSON manifest string is required");var O=r.maxPlaylistRetries;(O===null||typeof O>"u")&&(O=1/0),qn=c,n.experimentalBufferBasedABR=Boolean(y),n.experimentalLeastPixelDiffSelector=Boolean(T),n.withCredentials=o,n.tech_=l,n.vhs_=l.vhs,n.sourceType_=g,n.useCueTags_=d,n.blacklistDuration=f,n.maxPlaylistRetries=O,n.enableLowInitialPlaylist=p,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:o,handleManifestRedirects:a,maxPlaylistRetries:O,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=_j(),n.mediaSource=new M.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind(Ae(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(Ae(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(Ae(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=V.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new sj(r),n.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new lj,n.sourceUpdater_=new OO(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new aj;var P={vhs:n.vhs_,parse708captions:r.parse708captions,useDtsForTimestampOffset:r.useDtsForTimestampOffset,captionServices:w,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:u,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:b,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:r.experimentalExactManifestTimings};n.masterPlaylistLoader_=n.sourceType_==="dash"?new Hv(s,n.vhs_,n.requestOptions_):new ba(s,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new qv(V.mergeOptions(P,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),r),n.audioSegmentLoader_=new qv(V.mergeOptions(P,{loaderType:"audio"}),r),n.subtitleSegmentLoader_=new tj(V.mergeOptions(P,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),r),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",function(){return n.startABRTimer_()}),n.tech_.on("pause",function(){return n.stopABRTimer_()}),n.tech_.on("play",function(){return n.startABRTimer_()})),Tj.forEach(function(L){n[L+"_"]=xj.bind(Ae(n),L)}),n.logger_=Tn("MPC"),n.triggeredFmp4Usage=!1,n.tech_.preload()==="none"?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var F=n.tech_.preload()==="none"?"play":"loadstart";return n.tech_.one(F,function(){var L=Date.now();n.tech_.one("loadeddata",function(){n.timeToLoadedData__=Date.now()-L,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends})}),n}var i=e.prototype;return i.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},i.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},i.appendsToLoadedData_=function(){var n=this.mainAppendsToLoadedData_(),s=this.audioAppendsToLoadedData_();return n===-1||s===-1?-1:n+s},i.timeToLoadedData_=function(){return this.timeToLoadedData__},i.checkABR_=function(){var n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,"abr")},i.switchMedia_=function(n,s,a){var o=this.media(),l=o&&(o.id||o.uri),u=n.id||n.uri;l&&l!==u&&(this.logger_("switch media "+l+" -> "+u+" from "+s),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+s})),this.masterPlaylistLoader_.media(n,a)},i.startABRTimer_=function(){var n=this;this.stopABRTimer_(),this.abrTimer_=M.setInterval(function(){return n.checkABR_()},250)},i.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(M.clearInterval(this.abrTimer_),this.abrTimer_=null)},i.getAudioTrackPlaylists_=function(){var n=this.master(),s=n&&n.playlists||[];if(!n||!n.mediaGroups||!n.mediaGroups.AUDIO)return s;var a=n.mediaGroups.AUDIO,o=Object.keys(a),l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{var u=a.main||o.length&&a[o[0]];for(var c in u)if(u[c].default){l={label:c};break}}if(!l)return s;var d=[];for(var f in a)if(a[f][l.label]){var p=a[f][l.label];if(p.playlists&&p.playlists.length)d.push.apply(d,p.playlists);else if(p.uri)d.push(p);else if(n.playlists.length)for(var g=0;g<n.playlists.length;g++){var b=n.playlists[g];b.attributes&&b.attributes.AUDIO&&b.attributes.AUDIO===f&&d.push(b)}}return d.length?d:s},i.setupMasterPlaylistLoaderListeners_=function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var s=n.masterPlaylistLoader_.media(),a=s.targetDuration*1.5*1e3;Uv(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=a,s.endList&&n.tech_.preload()!=="none"&&(n.mainSegmentLoader_.playlist(s,n.requestOptions_),n.mainSegmentLoader_.load()),yj({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,vhs:n.vhs_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),s),n.setupFirstPlay(),!n.mediaTypes_.AUDIO.activePlaylistLoader||n.mediaTypes_.AUDIO.activePlaylistLoader.media()?n.trigger("selectedinitialmedia"):n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){n.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){n.loadOnPlay_&&n.tech_.off("play",n.loadOnPlay_);var s=n.masterPlaylistLoader_.media();if(!s){n.excludeUnsupportedVariants_();var a;if(n.enableLowInitialPlaylist&&(a=n.selectInitialPlaylist()),a||(a=n.selectPlaylist()),!a||!n.shouldSwitchToMedia_(a))return;n.initialMedia_=a,n.switchMedia_(n.initialMedia_,"initial");var o=n.sourceType_==="vhs-json"&&n.initialMedia_.segments;if(!o)return;s=n.initialMedia_}n.handleUpdatedMediaPlaylist(s)}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var s=n.masterPlaylistLoader_.media(),a=s.targetDuration*1.5*1e3;Uv(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=a,n.mainSegmentLoader_.playlist(s,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var s=n.masterPlaylistLoader_.media();if(s.lastExcludeReason_!=="playlist-unchanged"){var a=n.stuckAtPlaylistEnd_(s);a&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),n.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},i.handleUpdatedMediaPlaylist=function(n){this.useCueTags_&&this.updateAdCues_(n),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.updateDuration(!n.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(n,s){var a=n.mediaGroups||{},o=!0,l=Object.keys(a.AUDIO);for(var u in a.AUDIO)for(var c in a.AUDIO[u]){var d=a.AUDIO[u][c];d.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(a.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),qn.Playlist.isAes(s)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(a.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.shouldSwitchToMedia_=function(n){var s=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,a=this.tech_.currentTime(),o=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),u=this.tech_.buffered();return Sj({buffered:u,currentTime:a,currentPlaylist:s,nextPlaylist:n,bufferLowWaterLine:o,bufferHighWaterLine:l,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},i.setupSegmentLoaderListeners_=function(){var n=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var a=n.selectPlaylist();n.shouldSwitchToMedia_(a)&&n.switchMedia_(a,"bandwidthupdate"),n.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){n.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){n.error=n.mainSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){n.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),n.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){n.error=n.audioSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){n.logger_("main segment loader ended"),n.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(a){n.experimentalBufferBasedABR||(n.delegateLoaders_("all",["abort"]),n.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},bj))});var s=function(){if(!n.sourceUpdater_.hasCreatedSourceBuffers())return n.tryToCreateSourceBuffers_();var o=n.getCodecsOrExclude_();!o||n.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",s),this.audioSegmentLoader_.on("trackinfo",s),this.mainSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){n.logger_("audioSegmentLoader ended"),n.onEndOfStream()})},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(n){n===void 0&&(n=this.selectPlaylist()),this.fastQualityChange_(n)},i.fastQualityChange_=function(n){var s=this;if(n===void 0&&(n=this.selectPlaylist()),n===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(n,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){V.browser.IE_VERSION||V.browser.IS_EDGE?s.tech_.setCurrentTime(s.tech_.currentTime()+.04):s.tech_.setCurrentTime(s.tech_.currentTime())})},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var n=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<n.start(0))return this.tech_.setCurrentTime(n.end(n.length-1))}},i.setupFirstPlay=function(){var n=this,s=this.masterPlaylistLoader_.media();if(!s||this.tech_.paused()||this.hasPlayed_)return!1;if(!s.endList){var a=this.seekable();if(!a.length)return!1;if(V.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){n.trigger("firstplay"),n.tech_.setCurrentTime(a.end(0)),n.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(a.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var n=this.tech_.play();typeof n<"u"&&typeof n.then=="function"&&n.then(null,function(s){})}this.trigger("sourceopen")},i.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var n=this.inbandTextTracks_.metadataTrack_.cues;if(!(!n||!n.length)){var s=this.duration();n[n.length-1].endTime=isNaN(s)||Math.abs(s)===1/0?Number.MAX_VALUE:s}}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var n=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var s=this.mainSegmentLoader_.getCurrentMediaInfo_();!s||s.hasVideo?n=n&&this.audioSegmentLoader_.ended_:n=this.audioSegmentLoader_.ended_}!n||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},i.stuckAtPlaylistEnd_=function(n){var s=this.seekable();if(!s.length)return!1;var a=this.syncController_.getExpiredTime(n,this.duration());if(a===null)return!1;var o=qn.Playlist.playlistEnd(n,a),l=this.tech_.currentTime(),u=this.tech_.buffered();if(!u.length)return o-l<=Dn;var c=u.end(u.length-1);return c-l<=Dn&&o-c<=Dn},i.blacklistCurrentPlaylist=function(n,s){n===void 0&&(n={});var a=n.playlist||this.masterPlaylistLoader_.media();if(s=s||n.blacklistDuration||this.blacklistDuration,!a){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}a.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,l=o.filter(wh),u=l.length===1&&l[0]===a;if(o.length===1&&s!==1/0)return V.log.warn("Problem encountered with playlist "+a.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(u);if(u){var c=!1;o.forEach(function(T){if(T!==a){var w=T.excludeUntil;typeof w<"u"&&w!==1/0&&(c=!0,delete T.excludeUntil)}}),c&&(V.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var d;a.playlistErrors_>this.maxPlaylistRetries?d=1/0:d=Date.now()+s*1e3,a.excludeUntil=d,n.reason&&(a.lastExcludeReason_=n.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var f=this.selectPlaylist();if(!f){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var p=n.internal?this.logger_:V.log.warn,g=n.message?" "+n.message:"";p((n.internal?"Internal problem":"Problem")+" encountered with playlist "+a.id+"."+(g+" Switching to playlist "+f.id+".")),f.attributes.AUDIO!==a.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),f.attributes.SUBTITLES!==a.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var b=f.targetDuration/2*1e3||5*1e3,y=typeof f.lastRequest=="number"&&Date.now()-f.lastRequest<=b;return this.switchMedia_(f,"exclude",u||y)},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},i.delegateLoaders_=function(n,s){var a=this,o=[],l=n==="all";(l||n==="main")&&o.push(this.masterPlaylistLoader_);var u=[];(l||n==="audio")&&u.push("AUDIO"),(l||n==="subtitle")&&(u.push("CLOSED-CAPTIONS"),u.push("SUBTITLES")),u.forEach(function(c){var d=a.mediaTypes_[c]&&a.mediaTypes_[c].activePlaylistLoader;d&&o.push(d)}),["main","audio","subtitle"].forEach(function(c){var d=a[c+"SegmentLoader_"];d&&(n===c||n==="all")&&o.push(d)}),o.forEach(function(c){return s.forEach(function(d){typeof c[d]=="function"&&c[d]()})})},i.setCurrentTime=function(n){var s=_a(this.tech_.buffered(),n);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(s&&s.length)return n;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var n=this.masterPlaylistLoader_.media();return n?n.endList?this.mediaSource?this.mediaSource.duration:qn.Playlist.duration(n):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var n;if(!!this.masterPlaylistLoader_){var s=this.masterPlaylistLoader_.media();if(!!s){var a=this.syncController_.getExpiredTime(s,this.duration());if(a!==null){var o=this.masterPlaylistLoader_.master,l=qn.Playlist.seekable(s,a,qn.Playlist.liveEdgeDelay(o,s));if(l.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(s=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),a=this.syncController_.getExpiredTime(s,this.duration()),a===null||(n=qn.Playlist.seekable(s,a,qn.Playlist.liveEdgeDelay(o,s)),n.length===0)))){var u,c;this.seekable_&&this.seekable_.length&&(u=this.seekable_.end(0),c=this.seekable_.start(0)),n?n.start(0)>l.end(0)||l.start(0)>n.end(0)?this.seekable_=l:this.seekable_=V.createTimeRanges([[n.start(0)>l.start(0)?n.start(0):l.start(0),n.end(0)<l.end(0)?n.end(0):l.end(0)]]):this.seekable_=l,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===u&&this.seekable_.start(0)===c)&&(this.logger_("seekable updated ["+$P(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(n){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,n),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(n){var s=this.seekable();if(!s.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<s.end(s.length-1))&&this.sourceUpdater_.setDuration(s.end(s.length-1));return}var a=this.tech_.buffered(),o=qn.Playlist.duration(this.masterPlaylistLoader_.media());a.length>0&&(o=Math.max(o,a.end(a.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},i.dispose=function(){var n=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(s){var a=n.mediaTypes_[s].groups;for(var o in a)a[o].forEach(function(l){l.playlistLoader&&l.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var n=!!this.mediaTypes_.AUDIO.activePlaylistLoader,s=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),a=n?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!s||!a)},i.getCodecsOrExclude_=function(){var n=this,s={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};s.video=s.main;var a=zl(this.master(),this.media()),o={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(s.main.hasVideo&&(o.video=a.video||s.main.videoCodec||n4),s.main.isMuxed&&(o.video+=","+(a.audio||s.main.audioCodec||ZT)),(s.main.hasAudio&&!s.main.isMuxed||s.audio.hasAudio||l)&&(o.audio=a.audio||s.main.audioCodec||s.audio.audioCodec||ZT,s.audio.isFmp4=s.main.hasAudio&&!s.main.isMuxed?s.main.isFmp4:s.audio.isFmp4),!o.audio&&!o.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var u=function(y,T){return y?md(T):Mp(T)},c={},d;if(["video","audio"].forEach(function(b){if(o.hasOwnProperty(b)&&!u(s[b].isFmp4,o[b])){var y=s[b].isFmp4?"browser":"muxer";c[y]=c[y]||[],c[y].push(o[b]),b==="audio"&&(d=y)}}),l&&d&&this.media().attributes.AUDIO){var f=this.media().attributes.AUDIO;this.master().playlists.forEach(function(b){var y=b.attributes&&b.attributes.AUDIO;y===f&&b!==n.media()&&(b.excludeUntil=1/0)}),this.logger_("excluding audio group "+f+" as "+d+' does not support codec(s): "'+o.audio+'"')}if(Object.keys(c).length){var p=Object.keys(c).reduce(function(b,y){return b&&(b+=", "),b+=y+' does not support codec(s): "'+c[y].join(",")+'"',b},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:p,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var g=[];if(["video","audio"].forEach(function(b){var y=(En(n.sourceUpdater_.codecs[b]||"")[0]||{}).type,T=(En(o[b]||"")[0]||{}).type;y&&T&&y.toLowerCase()!==T.toLowerCase()&&g.push('"'+n.sourceUpdater_.codecs[b]+'" -> "'+o[b]+'"')}),g.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+g.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return o},i.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var n=this.getCodecsOrExclude_();if(!!n){this.sourceUpdater_.createSourceBuffers(n);var s=[n.video,n.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(s)}}},i.excludeUnsupportedVariants_=function(){var n=this,s=this.master().playlists,a=[];Object.keys(s).forEach(function(o){var l=s[o];if(a.indexOf(l.id)===-1){a.push(l.id);var u=zl(n.master,l),c=[];u.audio&&!Mp(u.audio)&&!md(u.audio)&&c.push("audio codec "+u.audio),u.video&&!Mp(u.video)&&!md(u.video)&&c.push("video codec "+u.video),u.text&&u.text==="stpp.ttml.im1t"&&c.push("text codec "+u.text),c.length&&(l.excludeUntil=1/0,n.logger_("excluding "+l.id+" for unsupported: "+c.join(", ")))}})},i.excludeIncompatibleVariants_=function(n){var s=this,a=[],o=this.master().playlists,l=Tf(En(n)),u=iS(l),c=l.video&&En(l.video)[0]||null,d=l.audio&&En(l.audio)[0]||null;Object.keys(o).forEach(function(f){var p=o[f];if(!(a.indexOf(p.id)!==-1||p.excludeUntil===1/0)){a.push(p.id);var g=[],b=zl(s.masterPlaylistLoader_.master,p),y=iS(b);if(!(!b.audio&&!b.video)){if(y!==u&&g.push('codec count "'+y+'" !== "'+u+'"'),!s.sourceUpdater_.canChangeType()){var T=b.video&&En(b.video)[0]||null,w=b.audio&&En(b.audio)[0]||null;T&&c&&T.type.toLowerCase()!==c.type.toLowerCase()&&g.push('video codec "'+T.type+'" !== "'+c.type+'"'),w&&d&&w.type.toLowerCase()!==d.type.toLowerCase()&&g.push('audio codec "'+w.type+'" !== "'+d.type+'"')}g.length&&(p.excludeUntil=1/0,s.logger_("blacklisting "+p.id+": "+g.join(" && ")))}}})},i.updateAdCues_=function(n){var s=0,a=this.seekable();a.length&&(s=a.start(0)),nj(n,this.cueTagsTrack_,s)},i.goalBufferLength=function(){var n=this.tech_.currentTime(),s=St.GOAL_BUFFER_LENGTH,a=St.GOAL_BUFFER_LENGTH_RATE,o=Math.max(s,St.MAX_GOAL_BUFFER_LENGTH);return Math.min(s+n*a,o)},i.bufferLowWaterLine=function(){var n=this.tech_.currentTime(),s=St.BUFFER_LOW_WATER_LINE,a=St.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(s,St.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(s,St.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(s+n*a,this.experimentalBufferBasedABR?l:o)},i.bufferHighWaterLine=function(){return St.BUFFER_HIGH_WATER_LINE},e}(V.EventTarget),Ej=function(e,i,r){return function(n){var s=e.master.playlists[i],a=By(s),o=wh(s);return typeof n>"u"?o:(n?delete s.disabled:s.disabled=!0,n!==o&&!a&&(r(),n?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),n)}},Cj=function(e,i,r){var n=e.masterPlaylistController_,s=e.options_.smoothQualityChange,a=s?"smooth":"fast",o=n[a+"QualityChange_"].bind(n);if(i.attributes){var l=i.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=i.attributes.BANDWIDTH}this.codecs=zl(n.master(),i),this.playlist=i,this.id=r,this.enabled=Ej(e.playlists,i.id,o)},kj=function(e){e.representations=function(){var i=e.masterPlaylistController_.master(),r=Gu(i)?e.masterPlaylistController_.getAudioTrackPlaylists_():i.playlists;return r?r.filter(function(n){return!By(n)}).map(function(n,s){return new Cj(e,n,n.id)}):[]}},pS=["seeking","seeked","pause","playing","error"],Pj=function(){function t(i){var r=this;this.masterPlaylistController_=i.masterPlaylistController,this.tech_=i.tech,this.seekable=i.seekable,this.allowSeeksWithinUnsafeLiveWindow=i.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=i.liveRangeSafeTimeDelta,this.media=i.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Tn("PlaybackWatcher"),this.logger_("initialize");var n=function(){return r.monitorCurrentTime_()},s=function(){return r.monitorCurrentTime_()},a=function(){return r.techWaiting_()},o=function(){return r.cancelTimer_()},l=this.masterPlaylistController_,u=["main","subtitle","audio"],c={};u.forEach(function(f){c[f]={reset:function(){return r.resetSegmentDownloads_(f)},updateend:function(){return r.checkSegmentDownloads_(f)}},l[f+"SegmentLoader_"].on("appendsdone",c[f].updateend),l[f+"SegmentLoader_"].on("playlistupdate",c[f].reset),r.tech_.on(["seeked","seeking"],c[f].reset)});var d=function(p){["main","audio"].forEach(function(g){l[g+"SegmentLoader_"][p]("appended",r.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){r.fixesBadSeeks_()&&(r.consecutiveUpdates=0,r.lastRecordedTime=r.tech_.currentTime(),d("off"))},this.clearSeekingAppendCheck_=function(){return d("off")},this.watchForBadSeeking_=function(){r.clearSeekingAppendCheck_(),d("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",a),this.tech_.on(pS,o),this.tech_.on("canplay",s),this.tech_.one("play",n),this.dispose=function(){r.clearSeekingAppendCheck_(),r.logger_("dispose"),r.tech_.off("waiting",a),r.tech_.off(pS,o),r.tech_.off("canplay",s),r.tech_.off("play",n),r.tech_.off("seeking",r.watchForBadSeeking_),r.tech_.off("seeked",r.clearSeekingAppendCheck_),u.forEach(function(f){l[f+"SegmentLoader_"].off("appendsdone",c[f].updateend),l[f+"SegmentLoader_"].off("playlistupdate",c[f].reset),r.tech_.off(["seeked","seeking"],c[f].reset)}),r.checkCurrentTimeTimeout_&&M.clearTimeout(r.checkCurrentTimeTimeout_),r.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&M.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=M.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(r){var n=this.masterPlaylistController_[r+"SegmentLoader_"];this[r+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+r+" loader"),this[r+"StalledDownloads_"]=0,this[r+"Buffered_"]=n.buffered_()},e.checkSegmentDownloads_=function(r){var n=this.masterPlaylistController_,s=n[r+"SegmentLoader_"],a=s.buffered_(),o=S6(this[r+"Buffered_"],a);if(this[r+"Buffered_"]=a,o){this.resetSegmentDownloads_(r);return}this[r+"StalledDownloads_"]++,this.logger_("found #"+this[r+"StalledDownloads_"]+" "+r+" appends that did not increase buffer (possible stalled download)",{playlistId:s.playlist_&&s.playlist_.id,buffered:bs(a)}),!(this[r+"StalledDownloads_"]<10)&&(this.logger_(r+" loader stalled download exclusion"),this.resetSegmentDownloads_(r),this.tech_.trigger({type:"usage",name:"vhs-"+r+"-download-exclusion"}),r!=="subtitle"&&n.blacklistCurrentPlaylist({message:"Excessive "+r+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var r=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===r&&(!n.length||r+Dn>=n.end(n.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&r===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):r===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=r)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var r=this.tech_.seeking();if(!r)return!1;var n=this.seekable(),s=this.tech_.currentTime(),a=this.afterSeekableWindow_(n,s,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(a){var l=n.end(n.length-1);o=l}if(this.beforeSeekableWindow_(n,s)){var u=n.start(0);o=u+(u===n.end(0)?0:Dn)}if(typeof o<"u")return this.logger_("Trying to seek outside of seekable at time "+s+" with "+("seekable range "+$P(n)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var c=this.masterPlaylistController_.sourceUpdater_,d=this.tech_.buffered(),f=c.audioBuffer?c.audioBuffered():null,p=c.videoBuffer?c.videoBuffered():null,g=this.media(),b=g.partTargetDuration?g.partTargetDuration:(g.targetDuration-Qr)*2,y=[f,p],T=0;T<y.length;T++)if(!!y[T]){var w=Ny(y[T],s);if(w<b)return!1}var O=jc(d,s);return O.length===0?!1:(o=O.start(0)+Dn,this.logger_("Buffered region starts ("+O.start(0)+") "+(" just beyond seek point ("+s+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},e.waiting_=function(){if(!this.techWaiting_()){var r=this.tech_.currentTime(),n=this.tech_.buffered(),s=_a(n,r);if(s.length&&r+3<=s.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(r),this.logger_("Stopped at "+r+" while inside a buffered region "+("["+s.start(0)+" -> "+s.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var r=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(r,n)){var s=r.end(r.length-1);return this.logger_("Fell out of live window at time "+n+". Seeking to "+("live point (seekable end) "+s)),this.cancelTimer_(),this.tech_.setCurrentTime(s),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var a=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),l=this.videoUnderflow_({audioBuffered:a.audioBuffered(),videoBuffered:a.videoBuffered(),currentTime:n});if(l)return this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var u=jc(o,n);if(u.length>0){var c=u.start(0)-n;return this.logger_("Stopped at "+n+", setting timer for "+c+", seeking "+("to "+u.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),c*1e3,n),!0}return!1},e.afterSeekableWindow_=function(r,n,s,a){if(a===void 0&&(a=!1),!r.length)return!1;var o=r.end(r.length-1)+Dn,l=!s.endList;return l&&a&&(o=r.end(r.length-1)+s.targetDuration*3),n>o},e.beforeSeekableWindow_=function(r,n){return!!(r.length&&r.start(0)>0&&n<r.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(r){var n=r.videoBuffered,s=r.audioBuffered,a=r.currentTime;if(!!n){var o;if(n.length&&s.length){var l=_a(n,a-3),u=_a(n,a),c=_a(s,a);c.length&&!u.length&&l.length&&(o={start:l.end(0),end:c.end(0)})}else{var d=jc(n,a);d.length||(o=this.gapFromVideoUnderflow_(n,a))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+a)),!0):!1}},e.skipTheGap_=function(r){var n=this.tech_.buffered(),s=this.tech_.currentTime(),a=jc(n,s);this.cancelTimer_(),!(a.length===0||s!==r)&&(this.logger_("skipTheGap_:","currentTime:",s,"scheduled currentTime:",r,"nextRange start:",a.start(0)),this.tech_.setCurrentTime(a.start(0)+Qr),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(r,n){for(var s=b6(r),a=0;a<s.length;a++){var o=s.start(a),l=s.end(a);if(n-o<4&&n-o>2)return{start:o,end:l}}return null},t}(),Oj={errorInterval:30,getSource:function(e){var i=this.tech({IWillNotUseThisInPlugins:!0}),r=i.currentSource_||this.currentSource();return e(r)}},Aj=function t(e,i){var r=0,n=0,s=V.mergeOptions(Oj,i);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){n&&e.currentTime(n)},o=function(f){f!=null&&(n=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(f),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-r<s.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!s.getSource||typeof s.getSource!="function"){V.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return r=Date.now(),s.getSource.call(e,o)},u=function d(){e.off("loadedmetadata",a),e.off("error",l),e.off("dispose",d)},c=function(f){u(),t(e,f)};e.on("error",l),e.on("dispose",u),e.reloadSourceOnError=c},Ij=function(e){Aj(this,e)},AO="2.14.2",Dj="6.0.1",Mj="0.21.1",Lj="4.7.1",Rj="3.1.3",Lt={PlaylistLoader:ba,Playlist:xi,utils:G6,STANDARD_PLAYLIST_SELECTOR:rS,INITIAL_PLAYLIST_SELECTOR:L5,lastBandwidthSelector:rS,movingAverageBandwidthSelector:D5,comparePlaylistBandwidth:Hy,comparePlaylistResolution:I5,xhr:oO()};Object.keys(St).forEach(function(t){Object.defineProperty(Lt,t,{get:function(){return V.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),St[t]},set:function(i){if(V.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),typeof i!="number"||i<0){V.log.warn("value of Vhs."+t+" must be greater than or equal to 0");return}St[t]=i}})});var IO="videojs-vhs",DO=function(e,i){for(var r=i.media(),n=-1,s=0;s<e.length;s++)if(e[s].id===r.id){n=s;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})},Fj=function(e,i){i.representations().forEach(function(r){e.addQualityLevel(r)}),DO(e,i.playlists)};Lt.canPlaySource=function(){return V.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Nj=function(e,i,r){if(!e)return e;var n={};i&&i.attributes&&i.attributes.CODECS&&(n=Tf(En(i.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(n.audio=r.attributes.CODECS);var s=fu(n.video),a=fu(n.audio),o={};for(var l in e)o[l]={},a&&(o[l].audioContentType=a),s&&(o[l].videoContentType=s),i.contentProtection&&i.contentProtection[l]&&i.contentProtection[l].pssh&&(o[l].pssh=i.contentProtection[l].pssh),typeof e[l]=="string"&&(o[l].url=e[l]);return V.mergeOptions(e,o)},Uj=function(e,i){return e.reduce(function(r,n){if(!n.contentProtection)return r;var s=i.reduce(function(a,o){var l=n.contentProtection[o];return l&&l.pssh&&(a[o]={pssh:l.pssh}),a},{});return Object.keys(s).length&&r.push(s),r},[])},Bj=function(e){var i=e.player,r=e.sourceKeySystems,n=e.audioMedia,s=e.mainPlaylists;if(!i.eme.initializeMediaKeys)return Promise.resolve();var a=n?s.concat([n]):s,o=Uj(a,Object.keys(r)),l=[],u=[];return o.forEach(function(c){u.push(new Promise(function(d,f){i.tech_.one("keysessioncreated",d)})),l.push(new Promise(function(d,f){i.eme.initializeMediaKeys({keySystems:c},function(p){if(p){f(p);return}d()})}))}),Promise.race([Promise.all(l),Promise.race(u)])},zj=function(e){var i=e.player,r=e.sourceKeySystems,n=e.media,s=e.audioMedia,a=Nj(r,n,s);return a?(i.currentSource().keySystems=a,a&&!i.eme?(V.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},MO=function(){if(!M.localStorage)return null;var e=M.localStorage.getItem(IO);if(!e)return null;try{return JSON.parse(e)}catch{return null}},jj=function(e){if(!M.localStorage)return!1;var i=MO();i=i?V.mergeOptions(i,e):e;try{M.localStorage.setItem(IO,JSON.stringify(i))}catch{return!1}return i},Vj=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};Lt.supportsNativeHls=function(){if(!se||!se.createElement)return!1;var t=se.createElement("video");if(!V.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(i){return/maybe|probably/i.test(t.canPlayType(i))})}();Lt.supportsNativeDash=function(){return!se||!se.createElement||!V.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(se.createElement("video").canPlayType("application/dash+xml"))}();Lt.supportsTypeNatively=function(t){return t==="hls"?Lt.supportsNativeHls:t==="dash"?Lt.supportsNativeDash:!1};Lt.isSupported=function(){return V.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Hj=V.getComponent("Component"),qy=function(t){ce(e,t);function e(r,n,s){var a;if(a=t.call(this,n,V.mergeOptions(s.hls,s.vhs))||this,s.hls&&Object.keys(s.hls).length&&V.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof s.initialBandwidth=="number"&&(a.options_.bandwidth=s.initialBandwidth),a.logger_=Tn("VhsHandler"),n.options_&&n.options_.playerId){var o=V(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return V.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),Ae(a)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return V.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),Ae(a)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return V.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Ae(a)},configurable:!0}),a.player_=o}if(a.tech_=n,a.source_=r,a.stats={},a.ignoreNextSeekingEvent_=!1,a.setOptions_(),a.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(a.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return a.on(se,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(l){var u=se.fullscreenElement||se.webkitFullscreenElement||se.mozFullScreenElement||se.msFullscreenElement;u&&u.contains(a.tech_.el())?a.masterPlaylistController_.fastQualityChange_():a.masterPlaylistController_.checkABR_()}),a.on(a.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),a.on(a.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),a.on(a.tech_,"play",a.play),a}var i=e.prototype;return i.setOptions_=function(){var n=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var s=MO();s&&s.bandwidth&&(this.options_.bandwidth=s.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),s&&s.throughput&&(this.options_.throughput=s.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=St.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===St.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(a){typeof n.source_[a]<"u"&&(n.options_[a]=n.source_[a])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},i.src=function(n,s){var a=this;if(!!n){this.setOptions_(),this.options_.src=Vj(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Lt,this.options_.sourceType=KC(s),this.options_.seekTo=function(u){a.tech_.setCurrentTime(u)},this.options_.smoothQualityChange&&V.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new wj(this.options_);var o=V.mergeOptions({liveRangeSafeTimeDelta:Dn},this.options_,{seekable:function(){return a.seekable()},media:function(){return a.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Pj(o),this.masterPlaylistController_.on("error",function(){var u=V.players[a.tech_.options_.playerId],c=a.masterPlaylistController_.error;typeof c=="object"&&!c.code?c.code=3:typeof c=="string"&&(c={message:c,code:3}),u.error(c)});var l=this.options_.experimentalBufferBasedABR?Lt.movingAverageBandwidthSelector(.55):Lt.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Lt.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(c){this.masterPlaylistController_.selectPlaylist=c.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=c,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var c=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,d=M.navigator.connection||M.navigator.mozConnection||M.navigator.webkitConnection,f=1e7;if(this.options_.useNetworkInformationApi&&d){var p=d.downlink*1e3*1e3;p>=f&&c>=f?c=Math.max(c,p):c=p}return c},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=c,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var c=1/(this.bandwidth||1),d;this.throughput>0?d=1/this.throughput:d=0;var f=Math.floor(1/(c+d));return f},set:function(){V.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return a.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return a.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return a.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return a.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return a.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return a.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return a.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return a.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return a.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return a.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return a.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return bs(a.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return a.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return a.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return a.tech_.name_},enumerable:!0},duration:{get:function(){return a.tech_.duration()},enumerable:!0},master:{get:function(){return a.playlists.master},enumerable:!0},playerDimensions:{get:function(){return a.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return bs(a.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return a.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){a.options_.useBandwidthFromLocalStorage&&jj({bandwidth:a.bandwidth,throughput:Math.round(a.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){kj(a)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){a.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=M.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},i.createKeySessions_=function(){var n=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),Bj({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:s&&s.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){n.logger_("created EME key session"),n.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(a){n.logger_("error while creating EME key session",a),n.player_.error({message:"Failed to initialize media keys for EME",code:3})})},i.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},i.setupEme_=function(){var n=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,a=zj({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:s&&s.media()});if(this.player_.tech_.on("keystatuschange",function(o){o.status==="output-restricted"&&n.masterPlaylistController_.blacklistCurrentPlaylist({playlist:n.masterPlaylistController_.media(),message:"DRM keystatus changed to "+o.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),V.browser.IE_VERSION===11||!a){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},i.setupQualityLevels_=function(){var n=this,s=V.players[this.tech_.options_.playerId];!s||!s.qualityLevels||this.qualityLevels_||(this.qualityLevels_=s.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){Fj(n.qualityLevels_,n)}),this.playlists.on("mediachange",function(){DO(n.qualityLevels_,n.playlists)}))},e.version=function(){return{"@videojs/http-streaming":AO,"mux.js":Dj,"mpd-parser":Mj,"m3u8-parser":Lj,"aes-decrypter":Rj}},i.version=function(){return this.constructor.version()},i.canChangeType=function(){return OO.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(n){this.masterPlaylistController_.setCurrentTime(n)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=function(){return this.masterPlaylistController_.seekable()},i.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&M.URL.revokeObjectURL&&(M.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),t.prototype.dispose.call(this)},i.convertToProgramTime=function(n,s){return e5({playlist:this.masterPlaylistController_.media(),time:n,callback:s})},i.seekToProgramTime=function(n,s,a,o){return a===void 0&&(a=!0),o===void 0&&(o=2),t5({programTime:n,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:a,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:s})},e}(Hj),Eh={name:"videojs-http-streaming",VERSION:AO,canHandleSource:function(e,i){i===void 0&&(i={});var r=V.mergeOptions(V.options,i);return Eh.canPlayType(e.type,r)},handleSource:function(e,i,r){r===void 0&&(r={});var n=V.mergeOptions(V.options,r);return i.vhs=new qy(e,i,n),V.hasOwnProperty("hls")||Object.defineProperty(i,"hls",{get:function(){return V.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),i.vhs},configurable:!0}),i.vhs.xhr=oO(),i.vhs.src(e.src,e.type),i.vhs},canPlayType:function(e,i){i===void 0&&(i={});var r=V.mergeOptions(V.options,i),n=r.vhs;n=n===void 0?{}:n;var s=n.overrideNative,a=s===void 0?!V.browser.IS_ANY_SAFARI:s,o=r.hls;o=o===void 0?{}:o;var l=o.overrideNative,u=l===void 0?!1:l,c=KC(e),d=c&&(!Lt.supportsTypeNatively(c)||u||a);return d?"maybe":""}},Wj=function(){return md("avc1.4d400d,mp4a.40.2")};Wj()&&V.getTech("Html5").registerSourceHandler(Eh,0);V.VhsHandler=qy;Object.defineProperty(V,"HlsHandler",{get:function(){return V.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),qy},configurable:!0});V.VhsSourceHandler=Eh;Object.defineProperty(V,"HlsSourceHandler",{get:function(){return V.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Eh},configurable:!0});V.Vhs=Lt;Object.defineProperty(V,"Hls",{get:function(){return V.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Lt},configurable:!0});V.use||(V.registerComponent("Hls",Lt),V.registerComponent("Vhs",Lt));V.options.vhs=V.options.vhs||{};V.options.hls=V.options.hls||{};if(!V.getPlugin||!V.getPlugin("reloadSourceOnError")){var qj=V.registerPlugin||V.plugin;qj("reloadSourceOnError",Ij)}function cH(t){return nh({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8c-0.020-1.045-0.247-2.086-0.665-3.038-0.417-0.953-1.023-1.817-1.766-2.53s-1.624-1.278-2.578-1.651c-0.953-0.374-1.978-0.552-2.991-0.531-1.013 0.020-2.021 0.24-2.943 0.646-0.923 0.405-1.758 0.992-2.449 1.712s-1.237 1.574-1.597 2.497c-0.361 0.923-0.533 1.914-0.512 2.895 0.020 0.981 0.234 1.955 0.627 2.847 0.392 0.892 0.961 1.7 1.658 2.368s1.523 1.195 2.416 1.543c0.892 0.348 1.851 0.514 2.799 0.493 0.949-0.020 1.89-0.227 2.751-0.608 0.862-0.379 1.642-0.929 2.287-1.604s1.154-1.472 1.488-2.335c0.204-0.523 0.342-1.069 0.415-1.622 0.019 0.001 0.039 0.002 0.059 0.002 0.552 0 1-0.448 1-1 0-0.028-0.001-0.056-0.004-0.083h0.004zM14.411 10.655c-0.367 0.831-0.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434c-0.832 0.323-1.723 0.476-2.608 0.454-0.884-0.020-1.759-0.215-2.56-0.57-0.801-0.354-1.526-0.867-2.125-1.495s-1.071-1.371-1.38-2.173c-0.31-0.801-0.457-1.66-0.435-2.512s0.208-1.694 0.551-2.464c0.342-0.77 0.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c0.771-0.298 1.596-0.438 2.416-0.416s1.629 0.202 2.368 0.532c0.74 0.329 1.41 0.805 1.963 1.387s0.988 1.27 1.272 2.011c0.285 0.74 0.418 1.532 0.397 2.32h0.004c-0.002 0.027-0.004 0.055-0.004 0.083 0 0.516 0.39 0.94 0.892 0.994-0.097 0.544-0.258 1.075-0.481 1.578z"}}]})(t)}var $j={},LO={},Ch={},kh={},_e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.whitespacer=_e.standardizer=_e.cleaner=_e.splitter=_e.underline=_e.italic=_e.bold=_e.bold_italic=_e.italic_underline=_e.bold_underline=_e.bold_italic_underline=_e.emphasis=_e.line_break=_e.page_break=_e.boneyard=_e.note_inline=_e.note=_e.synopsis=_e.section=_e.centered=_e.action=_e.lyrics=_e.parenthetical=_e.dialogue=_e.transition=_e.scene_number=_e.scene_heading=_e.title_page=_e.sections=void 0;var Gj=function(){function t(){this.title_page=/^((?:title|credit|author[s]?|source|notes|draft date|date|contact|copyright)\:)/gim,this.scene_heading=/^((?:\*{0,3}_?)?(?:(?:int|ext|est|i\/e)[. ]).+)|^(?:\.(?!\.+))(.+)/i,this.scene_number=/( *#(.+)# *)/,this.transition=/^((?:FADE (?:TO BLACK|OUT)|CUT TO BLACK)\.|.+ TO\:)|^(?:> *)(.+)/,this.dialogue=/^(\@?[A-Za-z*_]+[0-9A-Z (._\-')]*)(\^?)?(?:\n(?!\n+))([\s\S]+)/,this.parenthetical=/^(\(.+\))$/,this.lyrics=/^~(.+)/g,this.action=/^(.+)/g,this.centered=/^(?:> *)(.+)(?: *<)(\n.+)*/g,this.section=/^(#+)(?: *)(.*)/,this.synopsis=/^(?:\=(?!\=+) *)(.*)/,this.note=/^(?:\[{2}(?!\[+))(.+)(?:\]{2}(?!\[+))$/,this.note_inline=/(?:\[{2}(?!\[+))([\s\S]+?)(?:\]{2}(?!\[+))/g,this.boneyard=/(^\/\*|^\*\/)$/g,this.page_break=/^\={3,}$/,this.line_break=/^ {2}$/,this.emphasis=/(_|\*{1,3}|_\*{1,3}|\*{1,3}_)(.+)(_|\*{1,3}|_\*{1,3}|\*{1,3}_)/g,this.bold_italic_underline=/(_{1}\*{3}(?=.+\*{3}_{1})|\*{3}_{1}(?=.+_{1}\*{3}))(.+?)(\*{3}_{1}|_{1}\*{3})/g,this.bold_underline=/(_{1}\*{2}(?=.+\*{2}_{1})|\*{2}_{1}(?=.+_{1}\*{2}))(.+?)(\*{2}_{1}|_{1}\*{2})/g,this.italic_underline=/(?:_{1}\*{1}(?=.+\*{1}_{1})|\*{1}_{1}(?=.+_{1}\*{1}))(.+?)(\*{1}_{1}|_{1}\*{1})/g,this.bold_italic=/(\*{3}(?=.+\*{3}))(.+?)(\*{3})/g,this.bold=/(\*{2}(?=.+\*{2}))(.+?)(\*{2})/g,this.italic=/(\*{1}(?=.+\*{1}))(.+?)(\*{1})/g,this.underline=/(_{1}(?=.+_{1}))(.+?)(_{1})/g,this.splitter=/\n{2,}/g,this.cleaner=/^\n+|\n+$/,this.standardizer=/\r\n|\r/g,this.whitespacer=/^\t+|^ {3,}/gm}return t}(),qe=new Gj;_e.sections=qe;var Xj=qe.title_page;_e.title_page=Xj;var Kj=qe.scene_heading;_e.scene_heading=Kj;var Qj=qe.scene_number;_e.scene_number=Qj;var Yj=qe.transition;_e.transition=Yj;var Jj=qe.dialogue;_e.dialogue=Jj;var Zj=qe.parenthetical;_e.parenthetical=Zj;var eV=qe.lyrics;_e.lyrics=eV;var tV=qe.action;_e.action=tV;var iV=qe.centered;_e.centered=iV;var nV=qe.section;_e.section=nV;var rV=qe.synopsis;_e.synopsis=rV;var sV=qe.note;_e.note=sV;var aV=qe.note_inline;_e.note_inline=aV;var oV=qe.boneyard;_e.boneyard=oV;var lV=qe.page_break;_e.page_break=lV;var uV=qe.line_break;_e.line_break=uV;var cV=qe.emphasis;_e.emphasis=cV;var dV=qe.bold_italic_underline;_e.bold_italic_underline=dV;var fV=qe.bold_underline;_e.bold_underline=fV;var hV=qe.italic_underline;_e.italic_underline=hV;var pV=qe.bold_italic;_e.bold_italic=pV;var mV=qe.bold;_e.bold=mV;var vV=qe.italic;_e.italic=vV;var gV=qe.underline;_e.underline=gV;var yV=qe.splitter;_e.splitter=yV;var _V=qe.cleaner;_e.cleaner=_V;var bV=qe.standardizer;_e.standardizer=bV;var TV=qe.whitespacer;_e.whitespacer=TV;Object.defineProperty(kh,"__esModule",{value:!0});kh.tokenizer=void 0;var st=_e,xV=function(){function t(){}return t.prototype.clean=function(e){var i=e.replace(st.sections.boneyard,`
$1
`).replace(st.sections.standardizer,`
`).replace(st.sections.cleaner,"").replace(st.sections.whitespacer,"").replace(/^\s+$/gm,"");return i},t.prototype.tokenize=function(e){for(var i=this.clean(e).split(st.sections.splitter),r,n,s,a,o=[],l=0,u=0;u<i.length;u++){var c=i[u];if(st.sections.title_page.test(c)){r=c.replace(st.sections.title_page,`
$1`).split(st.sections.splitter);for(var d=0,f=r.length;d<f;d++)if(n=r[d].replace(st.sections.cleaner,"").split(/\:\n*/),n.length>2){var p=n.slice(1).map(function(O){return O.trim()}).join(": ");o.push({type:n[0].trim().toLowerCase().replace(" ","_"),text:p.trim()})}else o.push({type:n[0].trim().toLowerCase().replace(" ","_"),text:n[1].trim()});continue}if(r=c.match(st.sections.scene_heading)){s=r[1]||r[2],s.indexOf("  ")!==s.length-2&&((a=s.match(st.sections.scene_number))&&(a=a[2],s=s.replace(st.sections.scene_number,"")),a&&(l=a),o.push({type:"scene_heading",text:s,scene_number:l}),l+=1);continue}if(r=c.match(st.sections.centered)){o.push({type:"centered",text:r[0].replace(/>|</g,"")});continue}if(r=c.match(st.sections.transition)){o.push({type:"transition",text:r[1]||r[2]});continue}if((r=c.match(st.sections.dialogue))&&r[1].indexOf("  ")!==r[1].length-2){n=r[3].split(/(\(.+\))(?:\n+)/);var g=!!r[2];if(g){for(var b=0,y=o.length-1;y>=0;y--)if(o[y].type==="dialogue_begin"){b=y;break}var T=o.splice(b);o.push({type:"dual_dialogue_begin"}),o=o.concat(T)}o.push({type:"dialogue_begin"}),o.push({type:"character",text:r[1].trim()});for(var d=0,w=n.length;d<w;d++)s=n[d].trim(),s.length>0&&o.push({type:st.sections.parenthetical.test(s)?"parenthetical":"dialogue",text:s});o.push({type:"dialogue_end"}),g&&o.push({type:"dual_dialogue_end"});continue}if(r=c.match(st.sections.section)){o.push({type:"section",text:r[2],depth:r[1].length});continue}if(r=c.match(st.sections.synopsis)){o.push({type:"synopsis",text:r[1]});continue}if(r=c.match(st.sections.note)){o.push({type:"note",text:r[1]});continue}if(r=c.match(st.sections.boneyard)){o.push({type:r[0][0]==="/"?"boneyard_begin":"boneyard_end"});continue}if(st.sections.page_break.test(c)){o.push({type:"page_break"});continue}if(st.sections.line_break.test(c)){o.push({type:"line_break"});continue}if(st.sections.lyrics.test(c)){o.push({type:"lyrics",text:c});continue}o.push({type:"action",text:c})}return o},t}(),SV=new xV;kh.tokenizer=SV;var Wc,wV=new Uint8Array(16);function RO(){if(!Wc&&(Wc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Wc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wc(wV)}var EV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ph(t){return typeof t=="string"&&EV.test(t)}var At=[];for(var Jp=0;Jp<256;++Jp)At.push((Jp+256).toString(16).substr(1));function Oh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(At[t[e+0]]+At[t[e+1]]+At[t[e+2]]+At[t[e+3]]+"-"+At[t[e+4]]+At[t[e+5]]+"-"+At[t[e+6]]+At[t[e+7]]+"-"+At[t[e+8]]+At[t[e+9]]+"-"+At[t[e+10]]+At[t[e+11]]+At[t[e+12]]+At[t[e+13]]+At[t[e+14]]+At[t[e+15]]).toLowerCase();if(!Ph(i))throw TypeError("Stringified UUID is invalid");return i}var mS,Zp,em=0,tm=0;function CV(t,e,i){var r=e&&i||0,n=e||new Array(16);t=t||{};var s=t.node||mS,a=t.clockseq!==void 0?t.clockseq:Zp;if(s==null||a==null){var o=t.random||(t.rng||RO)();s==null&&(s=mS=[o[0]|1,o[1],o[2],o[3],o[4],o[5]]),a==null&&(a=Zp=(o[6]<<8|o[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:tm+1,c=l-em+(u-tm)/1e4;if(c<0&&t.clockseq===void 0&&(a=a+1&16383),(c<0||l>em)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");em=l,tm=u,Zp=a,l+=122192928e5;var d=((l&268435455)*1e4+u)%4294967296;n[r++]=d>>>24&255,n[r++]=d>>>16&255,n[r++]=d>>>8&255,n[r++]=d&255;var f=l/4294967296*1e4&268435455;n[r++]=f>>>8&255,n[r++]=f&255,n[r++]=f>>>24&15|16,n[r++]=f>>>16&255,n[r++]=a>>>8|128,n[r++]=a&255;for(var p=0;p<6;++p)n[r+p]=s[p];return e||Oh(n)}function FO(t){if(!Ph(t))throw TypeError("Invalid UUID");var e,i=new Uint8Array(16);return i[0]=(e=parseInt(t.slice(0,8),16))>>>24,i[1]=e>>>16&255,i[2]=e>>>8&255,i[3]=e&255,i[4]=(e=parseInt(t.slice(9,13),16))>>>8,i[5]=e&255,i[6]=(e=parseInt(t.slice(14,18),16))>>>8,i[7]=e&255,i[8]=(e=parseInt(t.slice(19,23),16))>>>8,i[9]=e&255,i[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,i[11]=e/4294967296&255,i[12]=e>>>24&255,i[13]=e>>>16&255,i[14]=e>>>8&255,i[15]=e&255,i}function kV(t){t=unescape(encodeURIComponent(t));for(var e=[],i=0;i<t.length;++i)e.push(t.charCodeAt(i));return e}var PV="6ba7b810-9dad-11d1-80b4-00c04fd430c8",OV="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function NO(t,e,i){function r(n,s,a,o){if(typeof n=="string"&&(n=kV(n)),typeof s=="string"&&(s=FO(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+n.length);if(l.set(s),l.set(n,s.length),l=i(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,a){o=o||0;for(var u=0;u<16;++u)a[o+u]=l[u];return a}return Oh(l)}try{r.name=t}catch{}return r.DNS=PV,r.URL=OV,r}function AV(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var i=0;i<e.length;++i)t[i]=e.charCodeAt(i)}return IV(DV(MV(t),t.length*8))}function IV(t){for(var e=[],i=t.length*32,r="0123456789abcdef",n=0;n<i;n+=8){var s=t[n>>5]>>>n%32&255,a=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(a)}return e}function UO(t){return(t+64>>>9<<4)+14+1}function DV(t,e){t[e>>5]|=128<<e%32,t[UO(e)-1]=e;for(var i=1732584193,r=-271733879,n=-1732584194,s=271733878,a=0;a<t.length;a+=16){var o=i,l=r,u=n,c=s;i=Nt(i,r,n,s,t[a],7,-680876936),s=Nt(s,i,r,n,t[a+1],12,-389564586),n=Nt(n,s,i,r,t[a+2],17,606105819),r=Nt(r,n,s,i,t[a+3],22,-1044525330),i=Nt(i,r,n,s,t[a+4],7,-176418897),s=Nt(s,i,r,n,t[a+5],12,1200080426),n=Nt(n,s,i,r,t[a+6],17,-1473231341),r=Nt(r,n,s,i,t[a+7],22,-45705983),i=Nt(i,r,n,s,t[a+8],7,1770035416),s=Nt(s,i,r,n,t[a+9],12,-1958414417),n=Nt(n,s,i,r,t[a+10],17,-42063),r=Nt(r,n,s,i,t[a+11],22,-1990404162),i=Nt(i,r,n,s,t[a+12],7,1804603682),s=Nt(s,i,r,n,t[a+13],12,-40341101),n=Nt(n,s,i,r,t[a+14],17,-1502002290),r=Nt(r,n,s,i,t[a+15],22,1236535329),i=Ut(i,r,n,s,t[a+1],5,-165796510),s=Ut(s,i,r,n,t[a+6],9,-1069501632),n=Ut(n,s,i,r,t[a+11],14,643717713),r=Ut(r,n,s,i,t[a],20,-373897302),i=Ut(i,r,n,s,t[a+5],5,-701558691),s=Ut(s,i,r,n,t[a+10],9,38016083),n=Ut(n,s,i,r,t[a+15],14,-660478335),r=Ut(r,n,s,i,t[a+4],20,-405537848),i=Ut(i,r,n,s,t[a+9],5,568446438),s=Ut(s,i,r,n,t[a+14],9,-1019803690),n=Ut(n,s,i,r,t[a+3],14,-187363961),r=Ut(r,n,s,i,t[a+8],20,1163531501),i=Ut(i,r,n,s,t[a+13],5,-1444681467),s=Ut(s,i,r,n,t[a+2],9,-51403784),n=Ut(n,s,i,r,t[a+7],14,1735328473),r=Ut(r,n,s,i,t[a+12],20,-1926607734),i=Bt(i,r,n,s,t[a+5],4,-378558),s=Bt(s,i,r,n,t[a+8],11,-2022574463),n=Bt(n,s,i,r,t[a+11],16,1839030562),r=Bt(r,n,s,i,t[a+14],23,-35309556),i=Bt(i,r,n,s,t[a+1],4,-1530992060),s=Bt(s,i,r,n,t[a+4],11,1272893353),n=Bt(n,s,i,r,t[a+7],16,-155497632),r=Bt(r,n,s,i,t[a+10],23,-1094730640),i=Bt(i,r,n,s,t[a+13],4,681279174),s=Bt(s,i,r,n,t[a],11,-358537222),n=Bt(n,s,i,r,t[a+3],16,-722521979),r=Bt(r,n,s,i,t[a+6],23,76029189),i=Bt(i,r,n,s,t[a+9],4,-640364487),s=Bt(s,i,r,n,t[a+12],11,-421815835),n=Bt(n,s,i,r,t[a+15],16,530742520),r=Bt(r,n,s,i,t[a+2],23,-995338651),i=zt(i,r,n,s,t[a],6,-198630844),s=zt(s,i,r,n,t[a+7],10,1126891415),n=zt(n,s,i,r,t[a+14],15,-1416354905),r=zt(r,n,s,i,t[a+5],21,-57434055),i=zt(i,r,n,s,t[a+12],6,1700485571),s=zt(s,i,r,n,t[a+3],10,-1894986606),n=zt(n,s,i,r,t[a+10],15,-1051523),r=zt(r,n,s,i,t[a+1],21,-2054922799),i=zt(i,r,n,s,t[a+8],6,1873313359),s=zt(s,i,r,n,t[a+15],10,-30611744),n=zt(n,s,i,r,t[a+6],15,-1560198380),r=zt(r,n,s,i,t[a+13],21,1309151649),i=zt(i,r,n,s,t[a+4],6,-145523070),s=zt(s,i,r,n,t[a+11],10,-1120210379),n=zt(n,s,i,r,t[a+2],15,718787259),r=zt(r,n,s,i,t[a+9],21,-343485551),i=Pr(i,o),r=Pr(r,l),n=Pr(n,u),s=Pr(s,c)}return[i,r,n,s]}function MV(t){if(t.length===0)return[];for(var e=t.length*8,i=new Uint32Array(UO(e)),r=0;r<e;r+=8)i[r>>5]|=(t[r/8]&255)<<r%32;return i}function Pr(t,e){var i=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(i>>16);return r<<16|i&65535}function LV(t,e){return t<<e|t>>>32-e}function Ah(t,e,i,r,n,s){return Pr(LV(Pr(Pr(e,t),Pr(r,s)),n),i)}function Nt(t,e,i,r,n,s,a){return Ah(e&i|~e&r,t,e,n,s,a)}function Ut(t,e,i,r,n,s,a){return Ah(e&r|i&~r,t,e,n,s,a)}function Bt(t,e,i,r,n,s,a){return Ah(e^i^r,t,e,n,s,a)}function zt(t,e,i,r,n,s,a){return Ah(i^(e|~r),t,e,n,s,a)}var RV=NO("v3",48,AV),FV=RV;function NV(t,e,i){t=t||{};var r=t.random||(t.rng||RO)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){i=i||0;for(var n=0;n<16;++n)e[i+n]=r[n];return e}return Oh(r)}function UV(t,e,i,r){switch(t){case 0:return e&i^~e&r;case 1:return e^i^r;case 2:return e&i^e&r^i&r;case 3:return e^i^r}}function im(t,e){return t<<e|t>>>32-e}function BV(t){var e=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var n=0;n<r.length;++n)t.push(r.charCodeAt(n))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,a=Math.ceil(s/16),o=new Array(a),l=0;l<a;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=t[l*64+c*4]<<24|t[l*64+c*4+1]<<16|t[l*64+c*4+2]<<8|t[l*64+c*4+3];o[l]=u}o[a-1][14]=(t.length-1)*8/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=(t.length-1)*8&4294967295;for(var d=0;d<a;++d){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=o[d][p];for(var g=16;g<80;++g)f[g]=im(f[g-3]^f[g-8]^f[g-14]^f[g-16],1);for(var b=i[0],y=i[1],T=i[2],w=i[3],O=i[4],P=0;P<80;++P){var F=Math.floor(P/20),L=im(b,5)+UV(F,y,T,w)+O+e[F]+f[P]>>>0;O=w,w=T,T=im(y,30)>>>0,y=b,b=L}i[0]=i[0]+b>>>0,i[1]=i[1]+y>>>0,i[2]=i[2]+T>>>0,i[3]=i[3]+w>>>0,i[4]=i[4]+O>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,i[0]&255,i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,i[1]&255,i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,i[2]&255,i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,i[3]&255,i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,i[4]&255]}var zV=NO("v5",80,BV),jV=zV,VV="00000000-0000-0000-0000-000000000000";function HV(t){if(!Ph(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var WV=Object.freeze(Object.defineProperty({__proto__:null,v1:CV,v3:FV,v4:NV,v5:jV,NIL:VV,version:HV,validate:Ph,stringify:Oh,parse:FO},Symbol.toStringTag,{value:"Module"})),qV=Cf(WV),Ef=mn&&mn.__assign||function(){return Ef=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},Ef.apply(this,arguments)};Object.defineProperty(Ch,"__esModule",{value:!0});Ch.FountainParser=void 0;var $V=kh,vS=_e,GV=qV,XV={none:null,loose:47,normal:54,tight:58,very_tight:64},KV={paginate:!0,lines_per_page:"loose",script_html:!1,script_html_array:!1,notes:!0,draft_date:!0,boneyard:!0,tokens:!1},QV=function(){function t(e){e===void 0&&(e=KV),this.options=e}return t.prototype.parse=function(e,i){i===void 0&&(i=this.options),i==null&&(i=this.options);for(var r=Ef(Ef({},this.options),i),n=$V.tokenizer.tokenize(e),s=[],a=[],o={title:"",credit:"",authors:[],source:"",date:"",contact:"",copyright:"",scenes:[],title_page_html:"",script_pages:[],script_pages_html:[]},l=0,u=0,c=n;u<c.length;u++){var d=c[u];switch(d.text=this.lexer(d.text),d.type){case"title":s.push("<h1>"+d.text+"</h1>"),o.title=d.text.replace("<br />"," ").replace(/<(?:.|\n)*?>/g,"");break;case"credit":s.push('<p class="credit">'+d.text+"</p>"),o.credit=d.text;break;case"author":s.push('<p class="authors">'+d.text+"</p>"),o.authors&&o.authors.push(d.text);break;case"authors":s.push('<p class="authors">'+d.text+"</p>"),o.authors&&(o.authors=o.authors.concat(d.text.replace("<br />",`
`).replace(", ",",").split(/[\n,]/)));break;case"source":s.push('<p class="source">'+d.text+"</p>"),o.source=d.text;break;case"notes":r.notes&&(s.push('<p class="notes">'+d.text+"</p>"),o.notes=d.text);break;case"draft_date":r.draft_date&&(s.push('<p class="draft-date">'+d.text+"</p>"),o.draft_date=d.text);break;case"date":s.push('<p class="date">'+d.text+"</p>"),o.date=d.text;break;case"contact":s.push('<p class="contact">'+d.text+"</p>"),o.contact=d.text;break;case"copyright":s.push('<p class="copyright">'+d.text+"</p>"),o.copyright=d.text;break;case"scene_heading":a.push("<h6 "+(d.scene_number||d.scene_number===0?'id="scene-heading--'+d.scene_number+'"':null)+' class="scene-heading" data-scene-heading-index="'+d.scene_number+'">'+d.text+"</h6>"),o.scenes&&o.scenes.push(d.text);break;case"transition":a.push('<p class="transition">'+d.text+"</p>");break;case"dual_dialogue_begin":a.push('<div class="dual-dialogue" data-dialogue-index="'+l+'">'),l+=1;break;case"dialogue_begin":a.push('<div class="dialogue'+(d.dual?" "+d.dual:"")+'" data-dialogue-index="'+l+'">'),l+=1;break;case"character":a.push('<p class="character">'+d.text.replace(/^@/,"")+"</p>");break;case"parenthetical":a.push('<p class="parenthetical">'+d.text+"</p>");break;case"dialogue":a.push("<p>"+d.text+"</p>");break;case"dialogue_end":a.push("</div>");break;case"dual_dialogue_end":a.push("</div>");break;case"section":a.push('<p class="section" data-depth="'+d.depth+'">'+d.text+"</p>");break;case"synopsis":a.push('<p class="synopsis">'+d.text+"</p>");break;case"note":r.notes&&a.push("<!-- "+d.text+" -->");break;case"boneyard_begin":r.boneyard&&a.push("<!-- ");break;case"boneyard_end":r.boneyard&&a.push(" -->");break;case"lyrics":a.push('<p class="lyrics">'+d.text+"</p>");break;case"action":a.push('<p class="action">'+d.text+"</p>");break;case"centered":a.push('<p class="centered">'+d.text+"</p>");break;case"page_break":a.push('<hr class="page-break" />');break;case"line_break":a.push("<br />");break}}if(o.title_page_html=s.join(""),r.script_html&&(o.script_html=a.join("")),r.script_html_array&&(o.script_html_array=a),r.paginate){var f=this.paginate(a,r.lines_per_page),p=f.pages,g=f.pages_html;o.script_pages=p,o.script_pages_html=g}return r.tokens&&(o.tokens=n),o},t.prototype.paginate=function(e,i){i===void 0&&(i=this.options.lines_per_page);for(var r=XV[i],n=[],s=[],a=0,o=!1,l=!1,u=!1,c="",d=0;d<e.length;d++){var f=e[d];if(f.includes("page-break")){a+=1;continue}o===!1&&l&&(a+=1,l=!1),f.includes("<div ")&&f!=="</div>"?(o=!0,(f.includes('class="dialogue')||u)&&(u=!0)):f==="</div>"&&(o=!1,u&&(u=!1,c+=f)),d!==0&&d%r===0&&(l=!0),n[a]||(n[a]=[]),n[a].push(f),s[a]||(s[a]=[]),c&&!u?(s[a].push(c),c=""):u?c+=f:s[a].push(f)}for(var d=0;d<n.length;d++)n[d]={_id:(0,GV.v4)(),html:n[d].join("")};return{pages:n,pages_html:s}},t.prototype.lexer=function(e){if(!!e){var i={note:"<!-- $1 -->",line_break:"<br />",bold_italic_underline:'<strong><em><span style="text-decoration:underline !important">$2</span></em></strong>',bold_underline:'<strong><span style="text-decoration:underline !important">$2</span></strong>',italic_underline:'<em><span style="text-decoration:underline !important">$1</span></em>',bold_italic:"<strong><em>$2</em></strong>",bold:"<strong>$2</strong>",italic:"<em>$2</em>",underline:'<span style="text-decoration:underline !important">$2</span>'},r=["bold_italic_underline","bold_underline","italic_underline","bold_italic","bold","italic","underline"],n,s;e=e.replace(vS.sections.note_inline,i.note).replace(/\\\*/g,"[star]").replace(/\\_/g,"[underline]").replace(/\n/g,i.line_break);for(var a in r)n=r[a],s=vS.sections[n],s.test(e)&&(e=e.replace(s,i[n]));return e.replace(/\[star\]/g,"*").replace(/\[underline\]/g,"_").trim()}},t}(),YV=new QV;Ch.FountainParser=YV;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FountainParser=void 0;var e=Ch;Object.defineProperty(t,"FountainParser",{enumerable:!0,get:function(){return e.FountainParser}})})(LO);var BO={};Object.defineProperty(BO,"__esModule",{value:!0});(function(t){var e=mn&&mn.__createBinding||(Object.create?function(r,n,s,a){a===void 0&&(a=s),Object.defineProperty(r,a,{enumerable:!0,get:function(){return n[s]}})}:function(r,n,s,a){a===void 0&&(a=s),r[a]=n[s]}),i=mn&&mn.__exportStar||function(r,n){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&e(n,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),i(LO,t),i(BO,t)})($j);export{oH as F,eH as H,cH as I,tH as L,ZV as R,rH as a,uH as b,LL as c,lH as d,nH as e,$j as f,jM as g,sH as h,JV as i,hR as j,Ts as k,aH as l,bU as p,ve as r,L3 as s,iH as u,V as v};
